@{
    var typePerformance = ViewBag.TypePerformance as System.Collections.Generic.List<dynamic> ?? new System.Collections.Generic.List<dynamic>();
}

<thead id="thead">
    <tr>
        <th>Table Type</th>
        <th>Total Bookings</th>
        <th>Confirmed</th>
        <th>Completed</th>
        <th>Cancelled</th>
        <th>Total Revenue</th>
        <th>Average Guests</th>
        <th>Average Duration (min)</th>
    </tr>
</thead>
<tbody class="table-body">
    @if (typePerformance != null && typePerformance.Count > 0)
    {
        foreach (var type in typePerformance)
        {
            <tr>
                <td>@(type.TableType ?? "-")</td>
                <td>@(type.TotalBookings ?? 0)</td>
                <td>@(type.ConfirmedBookings ?? 0)</td>
                <td>@(type.CompletedBookings ?? 0)</td>
                <td>@(type.CancelledBookings ?? 0)</td>
                <td>@(type.TotalRevenue != null ? ((decimal)type.TotalRevenue).ToString("N2") : "0.00")</td>
                <td>@(type.AverageGuests != null ? ((double)type.AverageGuests).ToString("N1") : "0.0")</td>
                <td>@(type.AverageDuration != null ? ((double)type.AverageDuration).ToString("N1") : "0.0")</td>
            </tr>
        }
    }
</tbody>

