
@{
    ViewBag.Title = Request.Cookies["data"].Value.Split('&')[8].Split('=')[1] + " | Add Item";
    Layout = "~/Views/Shared/_CustomerLayout.cshtml";
}
<style>
    .ui-widget-content {
        background: #fff !important;
    }

    .note-editor.note-frame {
        border: none !important;
    }

    /* Fix autocomplete dropdown positioning within modals */
    .ui-autocomplete {
        z-index: 9999 !important;
        max-height: 200px;
        overflow-y: auto;
        overflow-x: hidden;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

        .ui-autocomplete .ui-menu-item {
            padding: 8px 12px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
        }

            .ui-autocomplete .ui-menu-item:hover,
            .ui-autocomplete .ui-menu-item.ui-state-focus {
                background-color: #007bff;
                color: white;
            }

            .ui-autocomplete .ui-menu-item:last-child {
                border-bottom: none;
            }

    /* Ensure autocomplete appears above modal backdrop */
    .modal-open .ui-autocomplete {
        z-index: 9999 !important;
    }

    /* Attribute builder alignment */
    #attributeBuilderContainer .attribute-variation-group {
        display: flex;
        flex-wrap: nowrap;
        align-items: stretch;
    }

    #attributeBuilderContainer .attribute-variation-group .select2-container {
        flex: 1 1 auto;
        width: 100% !important;
    }

    #attributeBuilderContainer .attribute-add-variation {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }

    /* Ensure variant grid controls span full cell width */
    #variantGrid td .form-control:not(.hidden),
    #variantGrid td .custom-file:not(.hidden),
    #variantGrid td .select2-container:not(.hidden) {
        width: 100% !important;
        display: block;
    }

    #variantGrid td .select2-container .select2-selection--single,
    #variantGrid td .select2-container .select2-selection--multiple {
        width: 100% !important;
    }

    #variantGrid td .custom-file {
        display: flex;
        align-items: center;
    }

    #variantGrid td .custom-file-label,
    #variantGrid td .custom-file-input {
        width: 100% !important;
    }

    #variantGrid td .hidden {
        display: none !important;
    }

</style>
<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1>Add Item</h1>
                <div class="float-left">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="/dashboard/index">Dashboard</a></li>
                        <li class="breadcrumb-item"><a href="/items/items">Items List</a></li>
                        <li class="breadcrumb-item active">Add Item</li>
                    </ol>
                </div>
            </div>
            <div class="col-md-6 col-12 d-flex align-items-center justify-content-start justify-content-md-end mt-1 mt-md-0">
                <a id="btnBack" href="/items/items" class="btn btn-warning float-sm-right"><i class="fas fa-arrow-left"></i> Back</a>
                @*<a href="javascript:void(0)" data-toggle="modal" data-target="#faqModal" class="btn btn-secondary float-sm-right mr-2">FAQs</a>*@
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>
<!-- Main content -->
<section class="content">
    <div class="container-fluid">
        <div class="row">
            <!-- left column -->
            <div class="col-md-12">
                <div class="callout callout-info @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")">
                    @*<h5><i class="fas fa-info"></i> Note:</h5>*@
                    Only the fields which are marked with <span class="text-danger">*</span> is mandatory. Rest all fields are optional and can be skipped
                    @*<button class="btn btn-info btn-sm" onclick="insert()"> Check Mandatory Fields</button>*@
                </div>
                <!-- jquery validation -->
                <div class="card card-primary card-outline">
                    <!-- item info -->
                    @*<div class="card-header">
                            <h3 class="card-title">Item Info</h3>
                        </div>*@
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                <div class="form-group">
                                    <label>Item Type</label>
                                    <div class="input-group">
                                        <select class="form-control" style="width: 100%;" id="ddlItemType" onchange="fetchItemCodes()">
                                            <option value="Product">Product</option>
                                            <option value="Service">Service</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2" style="display:@((ViewBag.ItemSetting.EnableProductVariation== false&& ViewBag.ItemSetting.EnableComboProduct== false)?"none":"block")">
                                <!-- text input -->
                                <div class="form-group divProductType_ctrl">
                                    <label>Product Type <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="<b>Single product</b>: Product with no variations.<br><b>Variable product</b>: Product with variations such as size, color etc.<br><b>Combo product</b>: A combination of multiple products, also called bundle product"></i></label>
                                    <select class="form-control" style="width: 100%;" id="ddlProductType" onchange="chooseProductType()">
                                        <option selected="selected" value="Single">Single</option>
                                        @if (ViewBag.ItemSetting.EnableProductVariation == true)
                                        {
                                            <option value="Variable">Variable</option>
                                        }
                                        @if (ViewBag.ItemSetting.EnableComboProduct == true)
                                        {
                                            <option value="Combo">Combo</option>
                                        }
                                        @*<option value="Variable" @(ViewBag.ItemSetting.EnableProductVariation == true ? "" : "hidden")>Variable</option>
                                            <option value="Combo" @(ViewBag.ItemSetting.EnableComboProduct == true ? "" : "hidden")>Combo</option>*@
                                    </select>
                                    <small class="text-red font-weight-bold errorText" id="divProductType"></small>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                <!-- text input -->
                                <div class="form-group">
                                    @*<label id="lblSkuCode">SKU/ Barcode <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Leave blank to auto generate"></i></label>*@
                                    <label>SKU/ Barcode <span class="danger">*</span></label>
                                    <input type="text" class="form-control divSkuCode_ctrl" id="txtSkuCode" placeholder="">
                                    <small class="text-red font-weight-bold errorText" id="divSkuCode"></small>
                                </div>
                            </div>
                            @if (ViewBag.BusinessSetting.CountryId == 2)
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <div class="form-group">
                                        <label id="lblHsnCode">Hsn Code </label>
                                        <div class="input-group" id="p_HsnSac_Dropdown">
                                            <select class="form-control select2" id="ddlItemCode" onchange="fetchItemCodeTax()">
                                                <option value="0">Select</option>
                                                @foreach (var item in ViewBag.ItemCodes)
                                                {
                                                    <option value="@item.ItemCodeId">@item.Code</option>
                                                }
                                            </select>
                                            @if (ViewBag.ItemCodePermission.IsAdd == true)
                                            {
                                                <span class="input-group-append">
                                                    <a href="javascript:void(0)" class="btn btn-info" onclick="openItemCodeModal()">+ </a>
                                                </span>
                                            }
                                        </div>
                                    </div>

                                </div>
                                @*<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2" id="p_ItemCodes_Dropdown">
                                        @Html.Partial("PartialItemCodesDropdown")
                                    </div>*@
                            }
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                <!-- text input -->
                                <div class="form-group">
                                    <label id="lblProductName">Product Name <span class="danger">*</span></label>
                                    <input type="text" class="form-control divItemName_ctrl" id="txtItemName" placeholder="">
                                    <small class="text-red font-weight-bold errorText" id="divItemName"></small>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                <div class="form-group">
                                    <label>Unit <span class="danger service">*</span></label>
                                    <div class="input-group divUnit_ctrl">
                                        <select class="form-control select2 divUnit_ctrl" id="ddlUnit" onchange="fetchActiveSecondaryUnits()">
                                            <option value="0">Select</option>
                                            @foreach (var item in ViewBag.Units)
                                            {
                                                if (ViewBag.ItemSetting.DefaultUnitId == item.UnitId)
                                                {
                                                    <option value="@item.UnitId" selected>@item.UnitShortName</option>
                                                }
                                                else
                                                {
                                                    <option value="@item.UnitId">@item.UnitShortName</option>
                                                }
                                            }
                                        </select>
                                        @if (ViewBag.UnitsPermission.IsAdd == true)
                                        {
                                            <span class="input-group-append">
                                                <a href="javascript:void(0)" class="btn btn-info" data-toggle="modal" data-target="#unitModal">+ </a>
                                            </span>
                                        }
                                    </div>
                                    <small class="text-red font-weight-bold errorText" id="divUnit"></small>
                                </div>
                            </div>
                            @if (ViewBag.ItemSetting.EnableSecondaryUnit == true)
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 service divChkSecondaryUnit">
                                    <br />
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            <input type="checkbox" id="chkEnableSecondaryUnit" onchange="fetchActiveSecondaryUnits()" />
                                            <label for="chkEnableSecondaryUnit" class="mt-2">Enable Secondary Unit</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divSecondaryUnit hidden service">
                                    <div class="form-group">
                                        <label>Secondary Unit <span class="danger">*</span></label>
                                        <div class="input-group">
                                            <select class="form-control select2" id="ddlSecondaryUnit" onchange="fetchActiveTertiaryUnits()">
                                                <option value="0">Select</option>
                                                @{
                                                    if (ViewBag.SecondaryUnits != null)
                                                    {
                                                        foreach (var item in ViewBag.SecondaryUnits)
                                                        {
                                                            <option value="@item.SecondaryUnitId">@item.SecondaryUnitShortName</option>
                                                        }
                                                    }
                                                }
                                            </select>
                                            @if (ViewBag.SecondaryUnitsPermission.IsAdd == true)
                                            {
                                                <span class="input-group-append">
                                                    <a href="javascript:void(0)" class="btn btn-info" onclick="openSecondaryUnitModal()">+ </a>
                                                </span>
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divSecondaryUnit hidden service">
                                    <div class="form-group">
                                        <label><br /></label>
                                        <div class="input-group">
                                            <span class="input-group-append">
                                                <a href="javascript:void(0)" class="btn bg-gray txtUnit">1 Pet = </a>
                                            </span>
                                            <input type="number" class="form-control" id="txtUToSValue" placeholder="Conversion Rate"
                                                   onkeypress="return onlyDecimalKey(event)">
                                            <span class="input-group-append">
                                                <a href="javascript:void(0)" class="btn bg-gray txtSecondaryUnit">Unit 2 </a>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            }

                            @if (ViewBag.ItemSetting.EnableTertiaryUnit == true)
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divSecondaryUnit hidden service">
                                    <br />
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            <input type="checkbox" id="chkEnableTertiaryUnit" onchange="fetchActiveTertiaryUnits()" />
                                            <label for="chkEnableTertiaryUnit" class="mt-2">Enable Tertiary Unit</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divTertiaryUnit hidden service">
                                    <div class="form-group">
                                        <label>Tertiary Unit <span class="danger">*</span></label>
                                        <div class="input-group">
                                            <select class="form-control select2" id="ddlTertiaryUnit" onchange="fetchActiveQuaternaryUnits()">
                                                <option value="0">Select</option>
                                                @{
                                                    if (ViewBag.TertiaryUnits != null)
                                                    {
                                                        foreach (var item in ViewBag.TertiaryUnits)
                                                        {
                                                            <option value="@item.TertiaryUnitId">@item.TertiaryUnitShortName</option>
                                                        }
                                                    }
                                                }
                                            </select>
                                            @if (ViewBag.TertiaryUnitsPermission.IsAdd == true)
                                            {
                                                <span class="input-group-append">
                                                    <a href="javascript:void(0)" class="btn btn-info" onclick="openTertiaryUnitModal()">+ </a>
                                                </span>
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divTertiaryUnit hidden service">
                                    <div class="form-group">
                                        <label><br /></label>
                                        <div class="input-group">
                                            <span class="input-group-append">
                                                <a href="javascript:void(0)" class="btn bg-gray txtSecondaryUnit_">1 Pet = </a>
                                            </span>
                                            <input type="number" class="form-control" id="txtSToTValue" placeholder="Conversion Rate"
                                                   onkeypress="return onlyDecimalKey(event)">
                                            <span class="input-group-append">
                                                <a href="javascript:void(0)" class="btn bg-gray txtTertiaryUnit">Unit 2 </a>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            }
                            @if (ViewBag.ItemSetting.EnableQuaternaryUnit == true)
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divTertiaryUnit hidden service">
                                    <br />
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            <input type="checkbox" id="chkEnableQuaternaryUnit" onchange="fetchActiveQuaternaryUnits()" />
                                            <label for="chkEnableQuaternaryUnit" class="mt-2">Enable Quaternary Unit</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divQuaternaryUnit hidden service">
                                    <div class="form-group">
                                        <label>Quaternary Unit <span class="danger">*</span></label>
                                        <div class="input-group">
                                            <select class="form-control select2" id="ddlQuaternaryUnit" onchange="toggleQuaternaryUnit()">
                                                <option value="0">Select</option>
                                                @{
                                                    if (ViewBag.QuaternaryUnits != null)
                                                    {
                                                        foreach (var item in ViewBag.QuaternaryUnits)
                                                        {
                                                            <option value="@item.QuaternaryUnitId">@item.QuaternaryUnitShortName</option>
                                                        }
                                                    }
                                                }

                                            </select>
                                            @if (ViewBag.QuaternaryUnitsPermission.IsAdd == true)
                                            {
                                                <span class="input-group-append">
                                                    <a href="javascript:void(0)" class="btn btn-info" onclick="openQuaternaryUnitModal()">+ </a>
                                                </span>
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divQuaternaryUnit hidden service">
                                    <div class="form-group">
                                        <label><br /></label>
                                        <div class="input-group">
                                            <span class="input-group-append">
                                                <a href="javascript:void(0)" class="btn bg-gray txtTertiaryUnit_">1 Pet = </a>
                                            </span>
                                            <input type="number" class="form-control" id="txtTToQValue" placeholder="Conversion Rate"
                                                   onkeypress="return onlyDecimalKey(event)">
                                            <span class="input-group-append">
                                                <a href="javascript:void(0)" class="btn bg-gray txtQuaternaryUnit" data-toggle="modal" data-target="#categoryModal" id="txtUnit2">Unit 2 </a>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            }
                            <!--<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 service">-->
                            <!-- text input -->
                            <!--<div class="form-group">
                                    <label>Select Barcode Type <span class="danger">*</span></label>
                                    <div class="input-group">
                                        <select class="form-control" style="width: 100%;" id="ddlBarcodeType">
                                            <option value="ean8">EAN 8</option>
                                            <option value="ean13">EAN 13</option>
                                            <option value="upc">UPC</option>
                                            <option value="std25">standard 2 of 5 (industrial)</option>
                                            <option value="int25">interleaved 2 of 5</option>
                                            <option value="code11">code 11</option>
                                            <option value="code39">Code 39</option>
                                            <option value="code93">code 93</option>
                                            <option value="code128">code 128</option>
                                            <option value="codabar">codabar</option>
                                            <option value="msi">MSI</option>
                                            <option value="datamatrix">Data Matrix</option>
                                        </select>
                                    </div>
                                </div>
                            </div>-->
                            @if (ViewBag.ItemSetting.EnableBrands == true)
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 service">
                                    <div class="form-group">
                                        <label>Brand</label>
                                        <div class="input-group">
                                            <select class="form-control select2" id="ddlBrand">
                                                <option value="0">Select</option>
                                                @foreach (var item in ViewBag.Brands)
                                                {
                                                    <option value="@item.BrandId">@item.Brand</option>
                                                }
                                            </select>
                                            <span class="input-group-append">
                                                <a href="javascript:void(0)" class="btn btn-info" data-toggle="modal" data-target="#brandModal">+ </a>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            }
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                <div class="form-group">
                                    <label>Category <span class="danger">*</span></label>
                                    <div class="input-group divCategory_ctrl">
                                        <select class="form-control select2" id="ddlCategory" onchange="fetchActiveSubCategories()">
                                            <option value="0">Select</option>
                                            @foreach (var item in ViewBag.Categories)
                                            {
                                                <option value="@item.CategoryId">@item.Category</option>
                                            }
                                        </select>
                                        @if (ViewBag.CategoriesPermission.IsAdd == true)
                                        {
                                            <span class="input-group-append">
                                                <a href="javascript:void(0)" class="btn btn-info" data-toggle="modal" data-target="#categoryModal">+ </a>
                                            </span>
                                        }

                                    </div>
                                    <small class="text-red font-weight-bold errorText" id="divCategory"></small>
                                </div>
                            </div>
                            @if (ViewBag.ItemSetting.EnableSubCategory == true)
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2" id="p_SubCategories_Dropdown">
                                    @Html.Partial("PartialSubCategoryDropdown")
                                </div>
                            }
                            @if (ViewBag.ItemSetting.EnableSubSubCategory == true)
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2" id="p_SubSubCategories_Dropdown">
                                    @Html.Partial("PartialSubSubCategoryDropdown")
                                </div>
                            }
                            @*@if (ViewBag.Branchs.Count > 1)
                                {
                                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                        <div class="form-group">
                                            <label>Business Location <span class="danger">*</span></label>
                                            <select class="select2" multiple="multiple" data-placeholder="Select a State" style="width: 100%;" id="ddlBranch">
                                                <option value="0">Select</option>
                                                @foreach (var item in ViewBag.Branchs)
                                                {
                                                    <option value="@item.BranchId">@item.Branch</option>
                                                }
                                            </select>
                                        </div>
                                    </div>
                                }
                                else
                                {
                                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 hidden">
                                        <div class="form-group">
                                            <label>Business Location <span class="danger">*</span></label>
                                            <select class="select2" data-placeholder="Select a State" style="width: 100%;" id="ddlBranch">
                                                @foreach (var item in ViewBag.Branchs)
                                                {
                                                    <option value="@item.BranchId">@item.Branch</option>
                                                }
                                            </select>
                                        </div>
                                    </div>
                                }*@

                            @*<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <div class="form-group">
                                        <label id="lblProductBrochure">Product Brochure</label>
                                        <div class="custom-file">
                                            <input type="file" class="custom-file-input" id="ProductBrochure" accept='.png,.jpg,.jpeg' onchange="getProductBrochureBase64()">
                                            <label class="custom-file-label" for="ProductBrochure">Choose file</label>
                                        </div>
                                        <img id="blahProductBrochure" alt="" height="60" style="padding-top:10px;">
                                    </div>
                                </div>*@

                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 service">
                                <br />
                                <div class="form-group">
                                    <div class="checkbox icheck-turquoise">
                                        <input checked type="checkbox" id="chkIsManageStock" onchange="CheckManageStock()" />
                                        <label for="chkIsManageStock" class="mt-2">Manage Stock <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Enable or disable stock management for a product."></i></label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 " id="divAlertQuantity">
                                <div class="form-group">
                                    <label>Alert Quantity <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Get alert when product stock reaches or goes below the specified quantity.<br><br><small class='text-muted'>Products with low stock will be displayed in dashboard - Stock Alert section.</small>"></i></label>
                                    <input type="number" class="form-control" id="txtAlertQuantity" placeholder=""
                                           onkeypress="return onlyDecimalKey(event)">
                                </div>
                            </div>
                            @if (ViewBag.ItemSetting.EnableItemExpiry == true && ViewBag.ItemSetting.ExpiryType == 2)
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 service " id="divExpiresIn">
                                    <!-- text input -->
                                    <div class="form-group">
                                        <label>Expires in</label>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="txtExpiryPeriod" onkeypress="return onlyNumberKey(event)">
                                            <select class="form-control" style="width: 0;" id="ddlExpiryPeriodType">
                                                <option value="Days">Days</option>
                                                <option value="Months">Months</option>
                                                <option value="Years">Years</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            }
                            @if (ViewBag.ItemSetting.EnableWarranty == true)
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 service">
                                    <div class="form-group">
                                        <label>Warranty</label>
                                        <div class="input-group">
                                            <select class="form-control select2" id="ddlWarranty">
                                                <option value="0">Select</option>
                                                @foreach (var item in ViewBag.Warrantys)
                                                {
                                                    <option value="@item.WarrantyId">@item.Warranty</option>
                                                }
                                            </select>
                                            @if (ViewBag.WarrantiesPermission.IsAdd == true)
                                            {
                                                <span class="input-group-append">
                                                    <a href="javascript:void(0)" class="btn btn-info" data-toggle="modal" data-target="#warrantyModal">+ </a>
                                                </span>
                                            }

                                        </div>
                                    </div>
                                </div>
                            }
                            @*@if (ViewBag.ItemSetting.EnableImei == true)
                                {*@
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                <div class="form-group">
                                    <div class="checkbox icheck-turquoise">
                                        <input type="checkbox" id="chkEnableImei" />
                                        <label for="chkEnableImei" class="mt-2">
                                            Enable Item IMEI, Serial number or other informations
                                            <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "" : "hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Enable or disable adding IMEI, Serial number or any other informations while selling items"></i>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            @*}*@
                            @if (ViewBag.ItemSetting.EnableSalt == true)
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 service">
                                    <div class="form-group">
                                        <label>Salt</label>
                                        <div class="input-group">
                                            <select class="form-control select2" id="ddlSalt">
                                                <option value="0">Select</option>
                                                @foreach (var item in ViewBag.Salts)
                                                {
                                                    <option value="@item.SaltId">@item.SaltName</option>
                                                }
                                            </select>
                                            @if (ViewBag.SaltPermission.IsAdd == true)
                                            {
                                                <span class="input-group-append">
                                                    <a href="javascript:void(0)" class="btn btn-info" onclick="openSaltModal()">+ </a>
                                                </span>
                                            }

                                        </div>
                                    </div>
                                </div>
                            }
                            @if (ViewBag.ItemSetting.EnableItemImage == true)
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <div class="form-group">
                                        <label id="lblProductImage">Product Image </label>
                                        <div class="custom-file">
                                            <input type="file" class="custom-file-input" id="ProductImage" accept=".png,.jpg,.jpeg" onchange="getProductImageBase64()">
                                            <label class="custom-file-label" for="ProductImage">Choose file</label>
                                        </div>
                                        <img id="blahProductImage" alt="" height="60" style="padding-top:10px;">
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                    <hr style="display:@((ViewBag.ItemSetting.EnableProductDescription == true || ViewBag.Branchs.Count>1 || ViewBag.ItemSetting.EnableRacks == true) ? "block":"none")" />
                    <div class="card-body" style="display:@((ViewBag.ItemSetting.EnableProductDescription == true || ViewBag.Branchs.Count>1 || ViewBag.ItemSetting.EnableRacks == true) ? "block":"none")">
                        <div class="row">
                            <div class="col-sm-6" style="display:@(ViewBag.ItemSetting.EnableProductDescription == true ? "block":"none")">
                                <div class="form-group">
                                    <label id="lblProductDescription">Product Description</label>
                                    <textarea id="txtDescription"></textarea>
                                </div>
                            </div>
                            <div class="col-sm-6 table-responsive" style="display:@((ViewBag.Branchs.Count==1 && ViewBag.ItemSetting.EnableRacks == false)?"none":"")">
                                <label>Check all the Business Locations where this product is available <span class="danger">*</span></label>
                                <table id="" class="table table-bordered table-striped divBranches_ctrl">
                                    <thead id="thead">
                                        <tr>
                                            <th></th>
                                            <th>Business Location </th>
                                            @if (ViewBag.ItemSetting.EnableRacks == true)
                                            {
                                                <th class="service">Rack (Optional)</th>
                                            }
                                            @if (ViewBag.ItemSetting.EnableRow == true)
                                            {
                                                <th class="service">Row (Optional)</th>
                                            }
                                            @if (ViewBag.ItemSetting.EnablePosition == true)
                                            {
                                                <th class="service">Position (Optional)</th>
                                            }
                                        </tr>
                                    </thead>
                                    <tbody class="table-body">
                                        @{
                                            var branchCount = 1;
                                            foreach (var item in ViewBag.Branchs)
                                            {
                                                <tr class="divBranch" id="tr@(item.BranchId)">
                                                    <td>
                                                        <div class="form-group">
                                                            <div class="checkbox icheck-turquoise">
                                                                <input @(ViewBag.Branchs.Count == 1 ? "disabled" : "") type="checkbox" id="chkBranch@(item.BranchId)" value="@item.BranchId" @(branchCount == 1 ? "checked" : "") />
                                                                <label for="chkBranch@(item.BranchId)" class="mt-2"></label>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>@item.Branch</td>
                                                    @if (ViewBag.ItemSetting.EnableRacks == true)
                                                    {
                                                        <td class="service">
                                                            <div class="form-group">
                                                                <input type="text" class="form-control" id="txtRack@(item.BranchId)" placeholder="">
                                                            </div>
                                                        </td>
                                                    }
                                                    @if (ViewBag.ItemSetting.EnableRow == true)
                                                    {
                                                        <td class="service">
                                                            <div class="form-group">
                                                                <input type="text" class="form-control" id="txtRow@(item.BranchId)" placeholder="">
                                                            </div>
                                                        </td>
                                                    }
                                                    @if (ViewBag.ItemSetting.EnablePosition == true)
                                                    {
                                                        <td class="service">
                                                            <div class="form-group">
                                                                <input type="text" class="form-control" id="txtPosition@(item.BranchId)" placeholder="">
                                                            </div>
                                                        </td>
                                                    }
                                                </tr>
                                                branchCount++;
                                            }
                                        }
                                    </tbody>
                                </table>
                                <small class="text-red font-weight-bold errorText" id="divBranches"></small>
                            </div>
                        </div>
                        @*<label style="display:@((ViewBag.Branchs.Count==1 && ViewBag.ItemSetting.EnableRacks == false)?"none":"")">Check all the Business Locations where this product is available <span class="danger">*</span></label>
                            <div class="row mt-1" style="display:@((ViewBag.Branchs.Count==1 && ViewBag.ItemSetting.EnableRacks == false)?"none":"")">

                            </div>*@
                    </div>
                    <!-- item info -->
                    <hr />
                    <!-- tax info -->
                    @*<div class="card-header">
                            <h3 class="card-title">Tax Info</h3>
                        </div>*@

                    <div class="card-body">

                        <div class="row">
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                <!-- text input -->
                                <div class="form-group">
                                    <label>Tax Preference <span class="danger">*</span></label>
                                    <div class="input-group">
                                        <select class="form-control select2" id="ddlTaxPreference" onchange="toggleTaxPreference()">
                                            @foreach (var item in ViewBag.Taxs)
                                            {
                                                if (item.CanDelete == false)
                                                {
                                                    <option value="@item.TaxId">@item.Tax</option>
                                                }
                                            }
                                            @*<option value="Taxable">Taxable</option>
                                                <option value="Non-Taxable">Non-Taxable</option>
                                                <option value="Out Of Scope">Out Of Scope</option>
                                                <option value="Non-GST Supply">Non-GST Supply</option>*@
                                        </select>
                                    </div>
                                </div>
                            </div>
                            @if (ViewBag.BusinessSetting.CountryId == 2)
                            {
                                if (ViewBag.BusinessSetting.IsBusinessRegistered == 1 && ViewBag.BusinessSetting.BusinessRegistrationType == "Regular")
                                {
                                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divTaxable">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>Intra State Tax <span class="danger">*</span></label>
                                            <div class="input-group divTax_ctrl">
                                                @*<select class="form-control select2" id="ddlTax" onchange="calulation()">*@
                                                <select class="form-control select2" id="ddlTax">
                                                    <option value="0">Select</option>
                                                    @foreach (var item in ViewBag.Taxs)
                                                    {
                                                        if (item.CanDelete == true)
                                                        {
                                                            if (item.TaxTypeId != 3)
                                                            {
                                                                <option value="@item.TaxId-@item.TaxPercent.ToString("0")">@item.Tax</option>
                                                            }
                                                        }
                                                    }
                                                </select>
                                                @if (ViewBag.TaxListPermission.IsAdd == true)
                                                {
                                                    <span class="input-group-append">
                                                        <a href="javascript:void(0)" class="btn btn-info" onclick="openTaxModal()">+ </a>
                                                    </span>
                                                }
                                            </div>
                                            <small class="text-red font-weight-bold errorText" id="divTax"></small>
                                        </div>
                                    </div>
                                }
                            }
                            else
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divTaxable">
                                    <!-- text input -->
                                    <div class="form-group">
                                        <label>Applicable Tax <span class="danger">*</span></label>
                                        <div class="input-group divTax_ctrl">
                                            @*<select class="form-control select2" id="ddlTax" onchange="calulation()">*@
                                            <select class="form-control select2" id="ddlTax">
                                                <option value="0">Select</option>
                                                @foreach (var item in ViewBag.Taxs)
                                                {
                                                    if (item.CanDelete == true)
                                                    {
                                                        <option value="@item.TaxId-@item.TaxPercent.ToString("0")">@item.Tax</option>
                                                    }
                                                }
                                            </select>
                                            @if (ViewBag.TaxListPermission.IsAdd == true)
                                            {
                                                <span class="input-group-append">
                                                    <a href="javascript:void(0)" class="btn btn-info" onclick="openTaxModal()">+ </a>
                                                </span>
                                            }

                                        </div>
                                        <small class="text-red font-weight-bold errorText" id="divTax"></small>
                                    </div>
                                </div>
                            }
                            @if (ViewBag.BusinessSetting.CountryId == 2)
                            {
                                if (ViewBag.BusinessSetting.IsBusinessRegistered == 1 && ViewBag.BusinessSetting.BusinessRegistrationType == "Regular")
                                {
                                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divTaxable">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>Inter State Tax <span class="danger">*</span></label>
                                            <div class="input-group divInterStateTax_ctrl">
                                                <select class="form-control select2" id="ddlInterStateTax">
                                                    <option value="0">Select</option>
                                                    @foreach (var item in ViewBag.Taxs)
                                                    {
                                                        if (item.CanDelete == true)
                                                        {
                                                            if (item.TaxTypeId == 3 || item.TaxTypeId == 5)
                                                            {
                                                                <option value="@item.TaxId-@item.TaxPercent.ToString("0")">@item.Tax</option>
                                                            }
                                                        }
                                                    }
                                                </select>
                                                @if (ViewBag.TaxListPermission.IsAdd == true)
                                                {
                                                    <span class="input-group-append">
                                                        <a href="javascript:void(0)" class="btn btn-info" onclick="openTaxModal()">+ </a>
                                                    </span>
                                                }
                                            </div>
                                            <small class="text-red font-weight-bold errorText" id="divInterStateTax"></small>
                                        </div>
                                    </div>
                                }
                            }
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divNonTaxable" style="display:none">
                                <!-- text input -->
                                <div class="form-group">
                                    <label>Tax Exemption <span class="danger">*</span></label>
                                    <div class="input-group divTaxExemption_ctrl">
                                        <select class="form-control select2" id="ddlTaxExemption">
                                            <option value="0">Select</option>
                                            @foreach (var item in ViewBag.TaxExemptions)
                                            {
                                                <option value="@item.TaxExemptionId">@item.Reason</option>
                                            }
                                        </select>
                                        @if (ViewBag.TaxExemptionPermission.IsAdd == true)
                                        {
                                            <span class="input-group-append">
                                                <a href="javascript:void(0)" class="btn btn-info" data-toggle="modal" data-target="#taxExemptionModal">+ </a>
                                            </span>
                                        }
                                    </div>
                                    <small class="text-red font-weight-bold errorText" id="divTaxExemption"></small>
                                </div>
                            </div>

                            @if (ViewBag.ItemSetting.TaxType == "Inclusive" || ViewBag.ItemSetting.TaxType == "Exclusive")
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2" style="display: none">
                                    <div class="form-group divTaxType_ctrl">
                                        <label>Selling Price Tax Type </label>
                                        <select class="form-control" style="width: 100%;" id="ddlTaxType" onchange="checkTaxType()">
                                            @if (ViewBag.ItemSetting.TaxType == "Inclusive")
                                            {
                                                <option value="Inclusive" selected>Inclusive</option>
                                            }
                                            else
                                            {
                                                <option value="Exclusive">Exclusive</option>
                                            }
                                            @if (ViewBag.ItemSetting.TaxType == "Exclusive")
                                            {
                                                <option value="Inclusive">Inclusive</option>
                                            }
                                            else
                                            {
                                                <option value="Exclusive" selected>Exclusive</option>
                                            }
                                        </select>
                                        <small class="text-red font-weight-bold errorText" id="divTaxType"></small>
                                    </div>
                                </div>
                            }
                            else
                            {
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divTaxType">
                                    <div class="form-group divTaxType_ctrl">
                                        <label>Selling Price Tax Type</label>
                                        <select class="form-control" style="width: 100%;" id="ddlTaxType" onchange="checkTaxType()">
                                            <option value="Inclusive" selected>Inclusive</option>
                                            <option value="Exclusive">Exclusive</option>
                                        </select>
                                        <small class="text-red font-weight-bold errorText" id="divTaxType"></small>
                                    </div>
                                </div>
                            }



                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 hidden">
                                <!-- text input -->
                                <div class="form-group" style="display:@((ViewBag.ItemSetting.EnableSecondaryUnit == false &&
                        ViewBag.ItemSetting.EnableTertiaryUnit == false && ViewBag.ItemSetting.EnableQuaternaryUnit == false) ? "none" : "")">
                                    <label>Price Added For<span class="danger">*</span></label>
                                    <select class="form-control" style="width: 100%;" id="ddlPriceAddedFor">
                                        <option selected="selected" value="4">Unit</option>
                                        @*@if (ViewBag.ItemSetting.EnableSecondaryUnit == true)
                                            {
                                                <option value="2">Secondary Unit</option>
                                            }
                                            @if (ViewBag.ItemSetting.EnableTertiaryUnit == true)
                                            {
                                                <option value="3">Tertiary Unit</option>
                                            }
                                            @if (ViewBag.ItemSetting.EnableQuaternaryUnit == true)
                                            {
                                                <option value="4">Quaternary Unit</option>
                                            }*@
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- tax info -->
                    <hr />
                    @*<div class="card-header">
                            <h3 class="card-title">
                                Search Items
                            </h3>
                        </div>*@
                    <!-- form start -->
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12">
                                <!--Single Product--->
                                <div id="singleproduct">
                                    <div class="callout callout-info divSecondaryUnit hidden service">
                                        <h5><i class="fas fa-info"></i> Note:</h5>
                                        Set price for primary unit. Rest unit prices will be calculated automatically
                                    </div>
                                    <div class="table-responsive">
                                        <table class="table table-bordered add-product-price-table table-condensed ">
                                            <tbody>
                                                <tr>
                                                    <th class="divInventoryAccount service" @(ViewBag.IsPurchaseAddon == true && ViewBag.IsAccountsAddon == true ? "" : "hidden")>Inventory Account</th>
                                                    <th @(ViewBag.IsPurchaseAddon == true ? "" : "hidden")>
                                                        Purchase Price <span class="danger">*</span><br />
                                                        @if (ViewBag.ItemSetting.TaxType == "Inclusive" || ViewBag.ItemSetting.TaxType == "Let me choose")
                                                        {
                                                            <small class="lblTaxName">
                                                                (Inc.Tax)
                                                            </small>
                                                        }
                                                        else
                                                        {
                                                            <small class="lblTaxName">
                                                                (Exc.Tax)
                                                            </small>
                                                        }
                                                    </th>

                                                    <th @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>Purchase Account</th>

                                                    <th @(ViewBag.IsPurchaseAddon == true ? "" : "hidden")>Profit Margin(%) <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Default profit margin for the product. <br><small class='text-muted'>(<i>You can manage default profit margin in Business Settings.</i>)</small>"></i></th>
                                                    <th>
                                                        Selling Price <span class="danger">*</span> <br />
                                                        @if (ViewBag.ItemSetting.TaxType == "Inclusive" || ViewBag.ItemSetting.TaxType == "Let me choose")
                                                        {
                                                            <small class="lblTaxName">
                                                                (Inc.Tax)
                                                            </small>
                                                        }
                                                        else
                                                        {
                                                            <small class="lblTaxName">
                                                                (Exc.Tax)
                                                            </small>
                                                        }
                                                    </th>
                                                    <th @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>Sales Account</th>
                                                    <th style="display:@(ViewBag.ItemSetting.EnableMrp == false ? "none" : "")" class=""> MRP</th>
                                                    @*<th>Product image</th>*@
                                                </tr>
                                                <tr>
                                                    <td class="divInventoryAccount service" @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    @*<label> Purchase Account<span class="danger">*</span></label>*@
                                                                    <div class="input-group">
                                                                        <select class="form-control select2" id="ddlInventoryAccount">
                                                                            @{
                                                                                if (ViewBag.AccountSubTypes != null)
                                                                                {
                                                                                    foreach (var item in ViewBag.AccountSubTypes)
                                                                                    {
                                                                                        if (item.Accounts.Count > 0)
                                                                                        {
                                                                                            if (item.Type == "Stock")
                                                                                            {
                                                                                                <optgroup label="@item.DisplayAs">
                                                                                                    @foreach (var inner in item.Accounts)
                                                                                                    {
                                                                                                        if (inner.Type == "Inventory Asset")
                                                                                                        {
                                                                                                            <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                                                                        }
                                                                                                    }
                                                                                                </optgroup>
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td @(ViewBag.IsPurchaseAddon == true ? "" : "hidden")>
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                @*<label for="single_dpp">Exc. tax:<span class="danger">*</span></label>*@

                                                                <input class="form-control input-sm dpp input_number divPurchaseExcTax_ctrl" placeholder="" required="" name="single_dpp"
                                                                       type="number" id="txtPurchaseExcTax" onchange="UpdateSingleAmount('PExc')" onkeypress="return onlyDecimalKey(event)">
                                                                <small class="text-red font-weight-bold errorText" id="divPurchaseExcTax"></small>
                                                            </div>

                                                            @*<div class="col-sm-6">
                                                                    <label for="single_dpp_inc_tax">Inc. tax:<span class="danger">*</span></label>

                                                                    <input class="form-control input-sm dpp_inc_tax input_number" placeholder="" required="" name="single_dpp_inc_tax"
                                                                           type="number" id="txtPurchaseIncTax" onchange="UpdateSingleAmount('PInc')" onkeypress="return onlyDecimalKey(event)">
                                                                    <small class="text-red font-weight-bold errorText" id="divPurchaseIncTax"></small>
                                                                </div>*@

                                                        </div>
                                                    </td>
                                                    <td @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    @*<label> Purchase Account<span class="danger">*</span></label>*@
                                                                    <div class="input-group divFromAccount_ctrl">
                                                                        <select class="form-control select2" id="ddlPurchaseAccount">
                                                                            @{
                                                                                if (ViewBag.AccountSubTypes != null)
                                                                                {
                                                                                    foreach (var item in ViewBag.AccountSubTypes)
                                                                                    {
                                                                                        if (item.Accounts.Count > 0)
                                                                                        {
                                                                                            if (item.AccountType == "Expense")
                                                                                            {
                                                                                                <optgroup label="@item.DisplayAs">
                                                                                                    @foreach (var inner in item.Accounts)
                                                                                                    {
                                                                                                        if (inner.Type == "Cost of Goods Sold")
                                                                                                        {
                                                                                                            <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                                                                        }

                                                                                                    }
                                                                                                </optgroup>
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </select>
                                                                        <small class="text-red font-weight-bold errorText" id="divFromAccount"></small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td @(ViewBag.IsPurchaseAddon == true ? "" : "hidden")>
                                                        @*<label>Default Profit Margin <span class="danger">*</span></label>*@
                                                        <input class="form-control input-sm input_number divDefaultProfitMargin_ctrl" id="txtDefaultProfitMargin" required="" name="profit_percent"
                                                               type="number" value="@(ViewBag.ItemSetting.DefaultProfitPercent > 0 ? ViewBag.ItemSetting.DefaultProfitPercent :"")" placeholder="" onchange="UpdateSingleAmount('Margin')"
                                                               onkeypress="return onlyDecimalKey(event)">
                                                        <input type="hidden" value="@ViewBag.ItemSetting.DefaultProfitPercent" id="hdnDefaultProfitMargin" />
                                                        <small class="text-red font-weight-bold errorText" id="divDefaultProfitMargin"></small>
                                                    </td>

                                                    <td>
                                                        <div class="row">
                                                            @*<div class="col-sm-12 hidden divSellingPriceExcTax" id="">*@
                                                            <div class="col-sm-12" id="">
                                                                @*<label for="single_dpp">Exc. Tax:<span class="danger">*</span></label>*@

                                                                <input class="form-control input-sm dpp input_number divSalesExcTax_ctrl" placeholder="" required="" name="single_dpp"
                                                                       type="number" id="txtSalesExcTax" onchange="UpdateSingleAmount('SExc')" onkeypress="return onlyDecimalKey(event)">
                                                                <small class="text-red font-weight-bold errorText" id="divSalesExcTax"></small>
                                                            </div>

                                                            @*<div class="col-sm-12 divSellingPriceIncTax" id="">
                                                                    <label for="single_dpp_inc_tax">Inc. Tax:<span class="danger">*</span></label>
                                                                    <input class="form-control input-sm dpp_inc_tax input_number" placeholder="" required="" name="single_dpp_inc_tax"
                                                                           type="number" id="txtSalesIncTax" onchange="UpdateSingleAmount('SInc')" onkeypress="return onlyDecimalKey(event)">
                                                                    <small class="text-red font-weight-bold errorText" id="divSalesIncTax"></small>
                                                                </div>*@

                                                        </div>
                                                        @*<label><span class="dsp_label">Exc. Tax</span></label>
                                                            <input class="form-control input-sm dsp input_number" placeholder="Exc. tax" id="single_dsp" required="" name="single_dsp" type="text">*@
                                                    </td>
                                                    <td @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <div class="form-group" id="divFTAccount">
                                                                    @*<label> Sales Account<span class="danger">*</span></label>*@
                                                                    <div class="input-group divFromAccount_ctrl">
                                                                        <select class="form-control select2" id="ddlSalesAccount">
                                                                            @{
                                                                                if (ViewBag.AccountSubTypes != null)
                                                                                {
                                                                                    foreach (var item in ViewBag.AccountSubTypes)
                                                                                    {
                                                                                        if (item.Accounts.Count > 0)
                                                                                        {
                                                                                            if (item.AccountType == "Income")
                                                                                            {
                                                                                                <optgroup label="@item.DisplayAs">
                                                                                                    @foreach (var inner in item.Accounts)
                                                                                                    {
                                                                                                        if (inner.Type == "Sales")
                                                                                                        {
                                                                                                            <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                                                                        }

                                                                                                    }
                                                                                                </optgroup>
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </select>
                                                                        <small class="text-red font-weight-bold errorText" id="divFromAccount"></small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td style="display:@(ViewBag.ItemSetting.EnableMrp == false ? "none" : "")" class="">
                                                        <div>
                                                            @*<label>Default MRP <span class="danger">*</span></label>*@
                                                            <input class="form-control input-sm input_number divDefaultMrp_ctrl" id="txtDefaultMRP" required="" name=""
                                                                   type="number" placeholder="" onkeypress="return onlyDecimalKey(event)">
                                                            <small class="text-red font-weight-bold errorText" id="divDefaultMrp"></small>
                                                        </div>

                                                    </td>
                                                    @*<td style="min-width:200px">
                                                            <div class="">
                                                                <div class="custom-file">
                                                                    <input style="min-width:100px" type="file" class="custom-file-input" id="ProductImage0" accept='image/*' onchange="getImageBase64(0)">
                                                                    <input type="hidden" id="txtHiddenFile0" />
                                                                    <input type="hidden" id="txtHiddenFileExtension0" />
                                                                    <label class="custom-file-label" for="ProductImage0">Choose file</label>
                                                                </div>

                                                            </div>
                                                            <img id="blahProductImage0" alt="" height="60" style="padding-top:10px;">
                                                        </td>*@
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <hr />
                                </div>
                                <!--Single Product--->
                                <!--Variable Product--->
                                <div id="variableproduct">
                                    <div class="card card-outline card-secondary">
                                        <div class="card-header">
                                            <div class="d-flex align-items-center">
                                                <h3 class="card-title mb-0 mr-3">Attributes</h3>
                                                <button type="button" class="btn btn-info btn-sm ml-auto" id="btnAddAttribute" onclick="AddNewAttribute()"><i class="fas fa-plus"></i> Add Attribute</button>
                                            </div>
                                            <p class="text-muted mb-0 small mt-2">Choose up to three attributes (e.g. Size, Color) and their values to auto-generate variants.</p>
                                        </div>
                                        <div class="card-body" id="attributeBuilderContainer">
                                            <p class="text-muted mb-0" id="attributeBuilderEmptyState">No attributes yet. Click "Add Attribute" to get started.</p>
                                        </div>
                                        <div class="card-footer pt-2 pb-2">
                                            <small class="text-red font-weight-bold errorText" id="divAttributeSelections"></small>
                                        </div>
                                    </div>
                                    <div class="card card-outline card-primary mt-3">
                                        <div class="card-header">
                                            <h3 class="card-title mb-0">Generated Variants</h3>
                                        </div>
                                        <div class="card-body">
                                            <div class="table-responsive">
                                                <table class="table table-bordered table-striped blue-header mb-0" id="variantGrid">
                                                    <thead>
                                                        <tr>
                                                            <th style="width:50px;" class="text-center">Use</th>
                                                            <th>Variant</th>
                                                            <th class="divInventoryAccount service @( (ViewBag.IsPurchaseAddon == true && ViewBag.IsAccountsAddon == true) ? "" : "d-none")">Inventory Account</th>
                                                            <th>SKU <span class="danger">*</span> <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "" : "hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Leave blank to auto generate"></i></th>
                                                            <th>Purchase Price <span class="danger">*</span><br /> <small class="lblTaxName"></small></th>
                                                            <th class="purchase-account-column @(ViewBag.IsAccountsAddon == true ? "" : "d-none")">Purchase Account</th>
                                                            <th class="profit-margin-column @(ViewBag.IsPurchaseAddon == true ? "" : "d-none")">Profit Margin (%)</th>
                                                            <th>Selling Price <span class="danger">*</span><br /> <small class="lblTaxName"></small></th>
                                                            <th class="sales-account-column @(ViewBag.IsAccountsAddon == true ? "" : "d-none")">Sales Account</th>
                                                            <th class="mrp-column @(ViewBag.ItemSetting.EnableMrp == true ? "" : "d-none")">MRP</th>
                                                            <th>Images</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                            </div>
                                            <div class="p-3" id="variantGridEmptyState">
                                                <p class="text-muted mb-0">Add attribute values to see generated variants here.</p>
                                            </div>
                                        </div>
                                        <div class="card-footer pt-2 pb-2">
                                            <small class="text-red font-weight-bold errorText" id="divVariantGrid"></small>
                                        </div>
                                    </div>
                                    <div class="d-none">
                                        <div id="divVariation"></div>
                                    </div>
                                    <input type="hidden" id="hdnVariationPermissionIsAdd" value="@(ViewBag.VariationPermission.IsAdd.ToString())" />
                                    <hr />
                                </div>

                                <!--Variable Product--->
                                <!--Combo Product--->
                                <div id="comboproduct">
                                    <div class="row">
                                        <div class="col-12 col-sm-12 col-md-12 col-lg-8 col-xl-6 mb-3">
                                            <div class="input-group ">
                                                @*<div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fas fa-barcode"></i></span>
                                                    </div>*@
                                                <input type="text" class="form-control divtags_ctrl" placeholder="Sku Code/ Item Name" id="txttags">
                                            </div>
                                            <small class="text-red font-weight-bold errorText" id="divtags"></small>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 col-sm-12 col-md-12 col-lg-8 col-xl-6">
                                            <div class="table-responsive">
                                                <br><table class="table table-bordered table-striped">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-center">
                                                                Product Name
                                                            </th>
                                                            <th class="text-center">
                                                                Quantity <span class="danger">*</span>
                                                            </th>
                                                            <th class="text-center">
                                                                <button type="button" class="btn btn-danger btn-sm" onclick="deleteFullCombo()">
                                                                    <i class="fas fa-times"></i>
                                                                </button>
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="divCombo">
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">

                                        <!--<div class="col-sm-4" @(ViewBag.IsPurchaseAddon == true ? "" : "hidden")>-->
                                        <!-- text input -->
                                        <!--<div class="form-group">
                                                <label>x Margin(%): <span class="danger">*</span></label>
                                                <input type="number" class="form-control" value="@ViewBag.ItemSetting.DefaultProfitPercent" id="txtComboDefaultMargin" placeholder=""
                                                       onchange="UpdateComboAmount('2')" onkeypress="return onlyDecimalKey(event)">
                                            </div>
                                        </div>-->
                                        <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                            <div class="form-group" id="divFTAccount">
                                                <label> Sales Account<span class="danger">*</span></label>
                                                <div class="input-group divFromAccount_ctrl">
                                                    <select class="form-control select2" id="ddlComboSalesAccount">
                                                        @{
                                                            if (ViewBag.AccountSubTypes != null)
                                                            {
                                                                foreach (var item in ViewBag.AccountSubTypes)
                                                                {
                                                                    if (item.Accounts.Count > 0)
                                                                    {
                                                                        if (item.AccountType == "Income")
                                                                        {
                                                                            <optgroup label="@item.DisplayAs">
                                                                                @foreach (var inner in item.Accounts)
                                                                                {
                                                                                    if (inner.Type == "Sales")
                                                                                    {
                                                                                        <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                                                    }

                                                                                }
                                                                            </optgroup>
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                            <!-- text input -->
                                            <div class="form-group">
                                                <label>Selling Price: <span class="danger">*</span></label>
                                                <input type="text" class="form-control divComboSalesExcTax_ctrl" id="txtComboSalesExcTax" onkeypress="return onlyDecimalKey(event)" onchange="UpdateComboAmount('3')">
                                                @*<input type="text" class="form-control divSellingPriceIncTax" id="txtComboSalesIncTax" onchange="UpdateComboAmount('3')">*@
                                                <small class="text-red font-weight-bold errorText" id="divComboSalesExcTax"></small>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2" style="display: @(ViewBag.ItemSetting.EnableMrp == false ? "none" : "")">
                                            <!-- text input -->
                                            <div class="form-group">
                                                <label>Mrp: </label>
                                                <input type="number" class="form-control" id="txtComboDefaultMrp" onkeypress="return onlyDecimalKey(event)">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--Combo Product--->
                            </div>
                        </div>


                    </div>
                    <!-- /.card-body -->

                    <div class="card-footer">
                        <input type="hidden" id="hdnEnableMrp" value="@ViewBag.ItemSetting.EnableMrp.ToString()" />
                        <input type="hidden" id="hdnIsPurchaseAddon" value="@ViewBag.IsPurchaseAddon.ToString()" />
                        <input type="hidden" id="hdnIsAccountsAddon" value="@ViewBag.IsAccountsAddon.ToString()" />
                        <input type="hidden" id="hdnCountryId" value="@ViewBag.BusinessSetting.CountryId" />
                        <button id="btnSave" type="submit" class="btn btn-primary float-right" onclick="insert(1)"><i class="fas fa-save"></i> Save</button>
                        <button id="btnSave_AddAnother" type="submit" class="btn btn-success float-right mr-2" onclick="insert(2)"><i class="fas fa-plus-circle"></i> Save & Add Another</button>
                        @*<a id="btnBack" href="/items/items" class="btn btn-warning float-sm-right mr-2"><i class="fas fa-arrow-left"></i> Back</a>*@
                    </div>

                </div>
                <!-- /.card -->
            </div>
            <!--/.col (left) -->

        </div>
        <!-- /.row -->
    </div><!-- /.container-fluid -->
</section>
<!-- /.content -->

<div class="modal fade" id="warrantyModal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Warranty</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-4">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Warranty Name<span class="danger">*</span></label>
                            <input type="text" class="form-control divWarranty_M_ctrl" id="txtWarranty" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divWarranty_M"></small>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Description</label>
                            <input type="text" class="form-control" id="txtDescription" placeholder="">
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Duration <span class="danger">*</span></label>
                            <div class="input-group divDurationNo_M_ctrl">
                                <input type="text" class="form-control" id="txtDurationNo" placeholder="" onkeypress="return onlyNumberKey(event)">
                                <span class="input-group-append">
                                    <select class="form-control" id="ddlDuration">
                                        <option value="Days">Days</option>
                                        <option value="Months">Months</option>
                                        <option value="Years">Years</option>
                                    </select>
                                </span>
                            </div>
                            <small class="text-red font-weight-bold errorText" id="divDurationNo_M"></small>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertWarranty()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="unitModal">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Unit</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-6">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Unit Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divUnitName_M_ctrl" id="txtUnitName" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divUnitName_M"></small>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Unit Short Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divUnitShortName_M_ctrl" id="txtUnitShortName" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divUnitShortName_M"></small>
                        </div>
                    </div>

                </div>

            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertUnit()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="secondaryUnitModal">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Secondary Unit</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-6">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Secondary Unit Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divSecondaryUnitName_M_ctrl" id="txtSecondaryUnitName" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divSecondaryUnitName_M"></small>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Secondary Unit Short Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divSecondaryUnitShortName_M_ctrl" id="txtSecondaryUnitShortName" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divSecondaryUnitShortName_M"></small>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertSecondaryUnit()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="tertiaryUnitModal">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Tertiary Unit</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-6">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Tertiary Unit Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divTertiaryUnitName_M_ctrl" id="txtTertiaryUnitName" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divTertiaryUnitName_M"></small>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Tertiary Unit Short Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divTertiaryUnitShortName_M_ctrl" id="txtTertiaryUnitShortName" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divTertiaryUnitShortName_M"></small>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertTertiaryUnit()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="quaternaryUnitModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Quaternary Unit</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-6">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Quaternary Unit Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divQuaternaryUnitName_M_ctrl" id="txtQuaternaryUnitName" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divQuaternaryUnitName_M"></small>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Quaternary Unit Short Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divQuaternaryUnitShortName_M_ctrl" id="txtQuaternaryUnitShortName" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divQuaternaryUnitShortName_M"></small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertQuaternaryUnit()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="brandModal">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Brand</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    @*<div class="col-sm-6">
                            <div class="form-group">
                                <label>Brand Code <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Leave blank to auto generate"></i></label>
                                <input type="text" class="form-control" id="txtBrandCode" placeholder="">
                            </div>
                        </div>*@
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Brand Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divBrand_M_ctrl" id="txtBrand" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divBrand_M"></small>
                        </div>
                    </div>

                </div>

            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertBrand()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="categoryModal">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Category</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    @*<div class="col-sm-6">
                            <div class="form-group">
                                <label>Category Code <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Leave blank to auto generate"></i></label>
                                <input type="text" class="form-control" id="txtCategoryCode" placeholder="">
                            </div>
                        </div>*@
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Category Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divCategory_M_ctrl" id="txtCategory" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divCategory_M"></small>
                        </div>
                    </div>

                </div>

            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertCategory()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="subCategoryModal">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Sub Category</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    @*<div class="col-sm-6">
                            <div class="form-group">
                                <label>Sub Category Code <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Leave blank to auto generate"></i></label>
                                <input type="text" class="form-control" id="txtSubCategoryCode" placeholder="">
                            </div>
                        </div>*@
                    @*<div class="col-sm-6">
                            <div class="form-group">
                                <label>Category <span class="danger">*</span></label>
                                <div class="input-group">
                                    <select class="form-control select2" style="width: 100%;" id="ddlNewCategory">
                                        @foreach (var item in ViewBag.Categories)
                                        {
                                            <option value="@item.CategoryId">@item.Category</option>
                                        }
                                    </select>
                                </div>
                            </div>
                        </div>*@
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Sub Category Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divSubCategory_M_ctrl" id="txtSubCategory" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divSubCategory_M"></small>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertSubCategory()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="subSubCategoryModal">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Sub Sub Category</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    @*<div class="col-sm-6">
                            <div class="form-group">
                                <label>Sub Sub Category Code <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Leave blank to auto generate"></i></label>
                                <input type="text" class="form-control" id="txtSubSubCategoryCode" placeholder="">
                            </div>
                        </div>*@
                    @*<div class="col-sm-6">
                            <div class="form-group">
                                <label>Category <span class="danger">*</span></label>
                                <div class="input-group">
                                    <select class="form-control select2" style="width: 100%;" id="ddlModalCategory" onchange="fetchActiveModalSubCategories()">
                                        <option value="0">Select</option>
                                        @foreach (var item in ViewBag.Categories)
                                        {
                                            <option value="@item.CategoryId">@item.Category</option>
                                        }
                                    </select>
                                </div>
                            </div>
                        </div>*@
                    @*<div class="col-sm-6" id="p_ModalSubCategories_Dropdown">
                            <label>Sub Category <span class="danger">*</span></label>
                            <div class="input-group">
                                <select class="form-control select2" style="width: 100%;" id="ddlModalSubCategory">
                                </select>
                            </div>

                        </div>*@
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Sub Sub Category Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divSubSubCategory_M_ctrl" id="txtSubSubCategory" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divSubSubCategory_M"></small>
                        </div>
                    </div>
                </div>
                @*<div class="row">

                    </div>*@

            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertSubSubCategory()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="variationModal">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Variation</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    @*<div class="col-sm-6">
                            <div class="form-group">
                                <label>Variation Code  <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Leave blank to auto generate"></i></label>
                                <input type="text" class="form-control" id="txtVariationCode" placeholder="">
                                <small class="text-red font-weight-bold errorText" id="divVariationCode_M"></small>
                            </div>
                        </div>*@
                    <div class="col-sm-6">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Variation Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divVariation_M_ctrl" id="txtVariation" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divVariation_M"></small>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-8">
                        <div class="form-group">
                            <div class="input-group">
                                <label class="w-50">Variation Values <span class="danger">*</span></label>

                                <span class="input-group-append">
                                    <a href="javascript:vod(0)" class="btn btn-info btn-sm add-new-row divVariationDetails_M_ctrl"><i class="fas fa-plus"> Add</i></a>
                                </span>
                            </div>
                            <small class="text-red font-weight-bold errorText" id="divVariationDetails_M"></small>
                            <br />
                            <div id="addNewRow">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertVariation()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="taxModal" style="z-index:1051 !important">
    <div class="modal-dialog modal-lg">
        <div class="modal-content divTaxModal">
            <div class="modal-header">
                <h4 class="modal-title">Add Tax</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-4">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Tax Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divTax_M_ctrl" id="txtNewTax" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divTax_M"></small>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Tax Rate(%) @*<span class="danger">*</span>*@</label>
                            <input type="number" class="form-control divTaxPercent_M_ctrl" id="txtNewTaxpercent" placeholder="" onkeypress="return onlyDecimalKey(event)">
                            <small class="text-red font-weight-bold errorText" id="divTaxPercent_M"></small>
                        </div>
                    </div>
                    @if (ViewBag.TaxTypes.Count != 0)
                    {
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label>Tax Type</label>
                                <div class="input-group divTaxType_ctrl">
                                    <select class="form-control select2" id="ddlNewTaxType">
                                        @foreach (var item in ViewBag.TaxTypes)
                                        {
                                            <option value="@item.TaxTypeId">@item.TaxType</option>
                                        }
                                    </select>
                                </div>
                                <small class="text-red font-weight-bold errorText" id="divTaxType"></small>
                            </div>
                        </div>
                    }
                    @*<div class="col-sm-4">
                            <div class="form-group">
                                <br />
                                <div class="checkbox icheck-turquoise">
                                    <input type="checkbox" id="chkNewForTaxGroupOnly" onchange="toggleForTaxGroupOnly(1)">
                                    <label for="chkNewForTaxGroupOnly" class="mt-2">
                                        For Tax Group only
                                        <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="If checked, this tax will not be displayed individually in dropdowns, only can be added in tax group"></i>
                                    </label>
                                </div>
                            </div>
                        </div>*@
                </div>
                <hr @((ViewBag.BusinessSetting.CountryId == 2) ? "hidden" : "") />
                <div class="row divNewAccounts" @((ViewBag.BusinessSetting.CountryId == 2) ? "hidden" : "")>
                    <div class="col-sm-4 mt-2" @((ViewBag.IsAccountsAddon == true && ViewBag.IsPurchaseAddon == true) ? "" : "hidden")>
                        <div class="form-group">
                            <label> Tax Account (Purchase) <span class="danger">*</span> <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Choose the account where this Tax will be linked when a purchase is made"></i></label>
                            <div class="input-group">
                                <select class="form-control select2" id="ddlNewPurchaseAccount">
                                    @{
                                        if (ViewBag.AccountSubTypes != null)
                                        {
                                            foreach (var item in ViewBag.AccountSubTypes)
                                            {
                                                if (item.Accounts.Count > 0)
                                                {
                                                    //if (item.Type == "Other Current Asset")
                                                    //{
                                                    <optgroup label="@item.DisplayAs">
                                                        @foreach (var inner in item.Accounts)
                                                        {
                                                            if (inner.Type == "Input Tax")
                                                            {
                                                                <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                            }

                                                        }
                                                    </optgroup>
                                                    //}
                                                }
                                            }
                                        }
                                    }
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4 mt-2" @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>
                        <div class="form-group">
                            <label> Tax Account (Sales) <span class="danger">*</span> <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Choose the account where this Tax will be linked when a sales is made"></i></label>
                            <div class="input-group">
                                <select class="form-control select2" id="ddlNewSalesAccount">
                                    @{
                                        if (ViewBag.AccountSubTypes != null)
                                        {
                                            foreach (var item in ViewBag.AccountSubTypes)
                                            {
                                                if (item.Accounts.Count > 0)
                                                {
                                                    //if (item.Type == "Other Current Liability")
                                                    //{
                                                    <optgroup label="@item.DisplayAs">
                                                        @foreach (var inner in item.Accounts)
                                                        {
                                                            if (inner.Type == "Output Tax")
                                                            {
                                                                <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                            }

                                                        }
                                                    </optgroup>
                                                    //}
                                                }
                                            }
                                        }
                                    }
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4 mt-2" @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>
                        <div class="form-group">
                            <label> Tax Account (Expense) <span class="danger">*</span> <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Choose the account where this Tax will be linked when a expense is made"></i></label>
                            <div class="input-group">
                                <select class="form-control select2" id="ddlNewExpenseAccount">
                                    @{
                                        if (ViewBag.AccountSubTypes != null)
                                        {
                                            foreach (var item in ViewBag.AccountSubTypes)
                                            {
                                                if (item.Accounts.Count > 0)
                                                {
                                                    //if (item.Type == "Other Current Asset")
                                                    //{
                                                    <optgroup label="@item.DisplayAs">
                                                        @foreach (var inner in item.Accounts)
                                                        {
                                                            if (inner.Type == "Input Tax")
                                                            {
                                                                <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                            }

                                                        }
                                                    </optgroup>
                                                    //}
                                                }
                                            }
                                        }
                                    }
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <a href="javascript:void(0)" onclick="toggleTaxModal('TaxGroup')">Add New Tax Group</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertTax()">Save changes</button>
            </div>
        </div>
        <div class="modal-content divTaxGroupModal hidden">
            <div class="modal-header">
                <h4 class="modal-title">Add Tax Group</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-4">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Tax Group Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divTaxGroup_M_ctrl" id="txtNewTaxGroup" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divTaxGroup_M"></small>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Sub Taxes <span class="danger">*</span></label>
                            <div class="input-group divSubTax_M_ctrl">
                                <select id="ddlNewSubTax" class="select2" multiple="multiple" data-placeholder="" onchange="FetchTaxPercent()">
                                    @foreach (var item in ViewBag.TaxsForGroup)
                                    {
                                        if (item.CanDelete == true)
                                        {
                                            <option value="@item.TaxId">@item.Tax</option>
                                        }
                                    }
                                </select>
                                <span class="input-group-append">
                                    <a href="javascript:void(0)" class="btn btn-info" data-toggle="modal" data-target="#taxInnerModal">+ </a>
                                </span>
                            </div>
                            <small class="text-red font-weight-bold errorText" id="divSubTax_M"></small>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Tax Rate(%) @*<span class="danger">*</span>*@</label>
                            <input type="number" class="form-control" id="txtNewTaxpercentGroup" disabled>
                        </div>
                    </div>
                </div>
                @*<hr />
                    <div class="row divNewSubTaxAccounts">
                        <div class="col-sm-4 mt-2" @((ViewBag.IsAccountsAddon == true && ViewBag.IsPurchaseAddon == true) ? "" : "hidden")>
                            <div class="form-group">
                                <label> Tax Account (Purchase) <span class="danger">*</span> <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Choose the account where this Tax will be linked when a purchase is made"></i></label>
                                <div class="input-group">
                                    <select class="form-control select2" id="ddlNewSubTaxPurchaseAccount">
                                        @{
                                            if (ViewBag.AccountSubTypes != null)
                                            {
                                                foreach (var item in ViewBag.AccountSubTypes)
                                                {
                                                    if (item.Accounts.Count > 0)
                                                    {
                                                        <optgroup label="@item.DisplayAs">
                                                            @foreach (var inner in item.Accounts)
                                                            {
                                                                if (inner.Type == "Input Tax")
                                                                {
                                                                    <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                                }

                                                            }
                                                        </optgroup>
                                                    }
                                                }
                                            }
                                        }
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4 mt-2" @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>
                            <div class="form-group">
                                <label> Tax Account (Sales) <span class="danger">*</span> <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Choose the account where this Tax will be linked when a sales is made"></i></label>
                                <div class="input-group">
                                    <select class="form-control select2" id="ddlNewSubTaxSalesAccount">
                                        @{
                                            if (ViewBag.AccountSubTypes != null)
                                            {
                                                foreach (var item in ViewBag.AccountSubTypes)
                                                {
                                                    if (item.Accounts.Count > 0)
                                                    {
                                                        <optgroup label="@item.DisplayAs">
                                                            @foreach (var inner in item.Accounts)
                                                            {
                                                                if (inner.Type == "Output Tax")
                                                                {
                                                                    <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                                }

                                                            }
                                                        </optgroup>
                                                    }
                                                }
                                            }
                                        }
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4 mt-2" @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>
                            <div class="form-group">
                                <label> Tax Account (Expense) <span class="danger">*</span> <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Choose the account where this Tax will be linked when a expense is made"></i></label>
                                <div class="input-group">
                                    <select class="form-control select2" id="ddlNewSubTaxExpenseAccount">
                                        @{
                                            if (ViewBag.AccountSubTypes != null)
                                            {
                                                foreach (var item in ViewBag.AccountSubTypes)
                                                {
                                                    if (item.Accounts.Count > 0)
                                                    {
                                                        <optgroup label="@item.DisplayAs">
                                                            @foreach (var inner in item.Accounts)
                                                            {
                                                                if (inner.Type == "Input Tax")
                                                                {
                                                                    <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                                }

                                                            }
                                                        </optgroup>
                                                    }
                                                }
                                            }
                                        }
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>*@
                <div class="row">

                    <div class="col-sm-12">
                        <div class="form-group">
                            <a href="javascript:void(0)" onclick="toggleTaxModal('Tax')">Add New Tax </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertTaxGroup()">Save changes</button>
            </div>
        </div>
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="taxInnerModal" style="z-index:1052 !important">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Tax</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-4">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Tax Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divTax_N_ctrl" id="txtNewTax_N" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divTax_N"></small>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Tax Rate(%) @*<span class="danger">*</span>*@</label>
                            <input type="number" class="form-control divTaxPercent_N_ctrl" id="txtNewTaxpercent_N" placeholder="" onkeypress="return onlyDecimalKey(event)">
                            <small class="text-red font-weight-bold errorText" id="divTaxPercent_N"></small>
                        </div>
                    </div>
                    @if (ViewBag.TaxTypes.Count != 0)
                    {
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label>Tax Type </label>
                                <div class="input-group divTaxType_ctrl">
                                    <select class="form-control select2" id="ddlTaxType_N">
                                        @foreach (var item in ViewBag.TaxTypes)
                                        {
                                            <option value="@item.TaxTypeId">@item.TaxType</option>
                                        }
                                    </select>
                                </div>
                                <small class="text-red font-weight-bold errorText" id="divTaxType"></small>
                            </div>
                        </div>
                    }
                    <div class="col-sm-4">
                        <div class="form-group">
                            <br />
                            <div class="checkbox icheck-turquoise">
                                <input type="checkbox" id="chkForTaxGroupOnly_N" onchange="toggleForTaxGroupOnly(2)">
                                <label for="chkForTaxGroupOnly_N" class="mt-2">
                                    For Tax Group only
                                    <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="If checked, this tax will not be displayed individually in dropdowns, only can be added in tax group"></i>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <hr @((ViewBag.BusinessSetting.CountryId == 2) ? "hidden" : "") />
                <div class="row divAccounts_N" @((ViewBag.BusinessSetting.CountryId == 2) ? "hidden" : "")>
                    <div class="col-sm-4 mt-2" @((ViewBag.IsAccountsAddon == true && ViewBag.IsPurchaseAddon == true) ? "" : "hidden")>
                        <div class="form-group">
                            <label> Tax Account (Purchase) <span class="danger">*</span> <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Choose the account where this Tax will be linked when a purchase is made"></i></label>
                            <div class="input-group">
                                <select class="form-control select2" id="ddlPurchaseAccount_N">
                                    @{
                                        if (ViewBag.AccountSubTypes != null)
                                        {
                                            foreach (var item in ViewBag.AccountSubTypes)
                                            {
                                                if (item.Accounts.Count > 0)
                                                {
                                                    //if (item.Type == "Other Current Asset")
                                                    //{
                                                    <optgroup label="@item.DisplayAs">
                                                        @foreach (var inner in item.Accounts)
                                                        {
                                                            if (inner.Type == "Input Tax")
                                                            {
                                                                <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                            }

                                                        }
                                                    </optgroup>
                                                    //}
                                                }
                                            }
                                        }
                                    }
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4 mt-2" @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>
                        <div class="form-group">
                            <label> Tax Account (Sales) <span class="danger">*</span> <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Choose the account where this Tax will be linked when a sales is made"></i></label>
                            <div class="input-group">
                                <select class="form-control select2" id="ddlSalesAccount_N">
                                    @{
                                        if (ViewBag.AccountSubTypes != null)
                                        {
                                            foreach (var item in ViewBag.AccountSubTypes)
                                            {
                                                if (item.Accounts.Count > 0)
                                                {
                                                    //if (item.Type == "Other Current Liability")
                                                    //{
                                                    <optgroup label="@item.DisplayAs">
                                                        @foreach (var inner in item.Accounts)
                                                        {
                                                            if (inner.Type == "Output Tax")
                                                            {
                                                                <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                            }

                                                        }
                                                    </optgroup>
                                                    //}
                                                }
                                            }
                                        }
                                    }
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4 mt-2" @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>
                        <div class="form-group">
                            <label> Tax Account (Expense) <span class="danger">*</span> <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Choose the account where this Tax will be linked when a expense is made"></i></label>
                            <div class="input-group">
                                <select class="form-control select2" id="ddlExpenseAccount_N">
                                    @{
                                        if (ViewBag.AccountSubTypes != null)
                                        {
                                            foreach (var item in ViewBag.AccountSubTypes)
                                            {
                                                if (item.Accounts.Count > 0)
                                                {
                                                    //if (item.Type == "Other Current Asset")
                                                    //{
                                                    <optgroup label="@item.DisplayAs">
                                                        @foreach (var inner in item.Accounts)
                                                        {
                                                            if (inner.Type == "Input Tax")
                                                            {
                                                                <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                            }

                                                        }
                                                    </optgroup>
                                                    //}
                                                }
                                            }
                                        }
                                    }
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertInnerTax()">Save changes</button>
            </div>
        </div>
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="itemCodeModal" style="z-index:1050 !important">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add HSN/ SAC Code</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-6">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Type</label>
                            <div class="input-group">
                                <select class="form-control select2" id="ddlItemCodeType_N">
                                    <option value="HSN">HSN</option>
                                    <option value="SAC">SAC</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <!-- text input -->
                        <div class="form-group">
                            <label id="lblCode">HSN Code <span class="danger">*</span></label>
                            <input type="text" class="form-control divCode_N_ctrl" id="txtCode_N" placeholder="Start typing to search">
                            <small class="text-red font-weight-bold errorText" id="divCode_N"></small>
                        </div>
                    </div>

                    <div class="col-sm-6">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Tax Preference</label>
                            <div class="input-group">
                                <select class="form-control select2" id="ddlTaxPreference_N" onchange="toggleTaxPreference1()">
                                    @foreach (var item in ViewBag.Taxs)
                                    {
                                        if (item.CanDelete == false)
                                        {
                                            <option value="@item.TaxId">@item.Tax</option>
                                        }
                                    }
                                    @*<option value="Taxable">Taxable</option>
                                        <option value="Non-Taxable">Non-Taxable</option>
                                        <option value="Out Of Scope">Out Of Scope</option>
                                        <option value="Non-GST Supply">Non-GST Supply</option>*@
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 divTaxable_N">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Intra State Tax <span class="danger">*</span></label>
                            <div class="input-group divIntraStateTax_N_ctrl">
                                <select class="form-control select2" id="ddlIntraStateTax_N">
                                    <option value="0">Select</option>
                                    @foreach (var item in ViewBag.Taxs)
                                    {
                                        if (item.CanDelete == true)
                                        {
                                            if (item.TaxTypeId != 3)
                                            {
                                                <option value="@item.TaxId-@item.TaxPercent.ToString("0")">@item.Tax</option>
                                            }
                                        }
                                    }
                                </select>
                                @if (ViewBag.TaxListPermission.IsAdd == true)
                                {
                                    <span class="input-group-append">
                                        <a href="javascript:void(0)" class="btn btn-info" onclick="openTaxModal('IntraStateTax')">+ </a>
                                    </span>
                                }
                            </div>
                        </div>
                        <small class="text-red font-weight-bold errorText" id="divIntraStateTax_N"></small>
                    </div>
                    <div class="col-sm-6 divTaxable_N">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Inter State Tax <span class="danger">*</span></label>
                            <div class="input-group divInterStateTax_N_ctrl">
                                <select class="form-control select2" id="ddlInterStateTax_N">
                                    <option value="0">Select</option>
                                    @foreach (var item in ViewBag.Taxs)
                                    {
                                        if (item.CanDelete == true)
                                        {
                                            if (item.TaxTypeId == 3 || item.TaxTypeId == 5)
                                            {
                                                <option value="@item.TaxId-@item.TaxPercent.ToString("0")">@item.Tax</option>
                                            }
                                        }
                                    }
                                </select>
                                @if (ViewBag.TaxListPermission.IsAdd == true)
                                {
                                    <span class="input-group-append">
                                        <a href="javascript:void(0)" class="btn btn-info" onclick="openTaxModal('InterStateTax')">+ </a>
                                    </span>
                                }
                            </div>
                        </div>
                        <small class="text-red font-weight-bold errorText" id="divInterStateTax_N"></small>
                    </div>
                    <div class="col-sm-6 divNonTaxable_N" style="display:none">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Tax Exemption <span class="danger">*</span></label>
                            <div class="input-group divTaxExemption_N_ctrl">
                                <select class="form-control select2" id="ddlTaxExemption_N">
                                    <option value="0">Select</option>
                                    @foreach (var item in ViewBag.TaxExemptions)
                                    {
                                        <option value="@item.TaxExemptionId">@item.Reason</option>
                                    }
                                </select>
                                @if (ViewBag.TaxExemptionPermission.IsAdd == true)
                                {
                                    <span class="input-group-append">
                                        <a href="javascript:void(0)" class="btn btn-info" data-toggle="modal" data-target="#taxExemptionModal">+ </a>
                                    </span>
                                }
                            </div>
                        </div>
                        <small class="text-red font-weight-bold errorText" id="divTaxExemption_N"></small>
                    </div>
                    <div class="col-sm-12">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Description</label>
                            <textarea type="text" class="form-control" id="txtDescription_N" placeholder="Start typing to search"></textarea>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertItemCode()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="taxExemptionModal">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Tax Exemption</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Reason <span class="danger">*</span></label>
                            <input type="text" class="form-control divReason_TaxExemption_ctrl" id="txtReason_TaxExemption" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divReason_TaxExemption"></small>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Description </label>
                            <textarea class="form-control" id="txtDescription_TaxExemption"></textarea>
                        </div>
                    </div>
                    <div class="col-sm-6" style="display:none">
                        <div class="form-group">
                            <label>Type </label>
                            <div class="custom-control custom-radio">
                                <input class="custom-control-input" type="radio" id="rdbCustomer" name="customRadio">
                                <label for="rdbCustomer" class="custom-control-label">Customer</label>
                            </div>
                            <div class="custom-control custom-radio">
                                <input class="custom-control-input" type="radio" id="rdbItem" name="customRadio" checked>
                                <label for="rdbItem" class="custom-control-label">Item</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertTaxExemption()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="saltModal">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Salt</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="card-body pb-0">

                    <div class="row">
                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                            <div class="form-group">
                                <label>Salt Name <span class="danger">*</span></label>
                                <input type="text" class="form-control divSaltName_ctrl" id="txtSaltName" placeholder="">
                                <small class="text-red font-weight-bold errorText" id="divSaltName"></small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card card-outline collapsed-card m-3">
                    <div class="card-header bg-info" data-card-widget="collapse" title="Collapse">
                        <h3 class="card-title">More Info</h3>
                        <div class="card-tools">
                            <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label>Indication</label>
                                    <textarea id="txtIndication"></textarea>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label>Dosage</label>
                                    <textarea id="txtDosage"></textarea>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label>Side Effects</label>
                                    <textarea id="txtSideEffects"></textarea>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label>Special Precautions</label>
                                    <textarea id="txtSpecialPrecautions"></textarea>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label>Drug Interactions</label>
                                    <textarea id="txtDrugInteractions"></textarea>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label>Notes</label>
                                    <textarea id="txtNotes"></textarea>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                <div class="form-group">
                                    <label>TB Item <span class="danger service">*</span></label>
                                    <div class="input-group">
                                        <select class="form-control select2" id="ddlTBItem">
                                            <option value="Normal">Normal</option>
                                            <option value="Tb">Tb</option>
                                            <option value="Tramadol">Tramadol</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                <div class="form-group">
                                    <div class="checkbox icheck-turquoise">
                                        <input type="checkbox" id="chkIsNarcotic" />
                                        <label for="chkIsNarcotic" class="mt-2">Is Narcotic</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                <div class="form-group">
                                    <div class="checkbox icheck-turquoise">
                                        <input type="checkbox" id="chkIsScheduleH" />
                                        <label for="chkIsScheduleH" class="mt-2">Is ScheduleH</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                <div class="form-group">
                                    <div class="checkbox icheck-turquoise">
                                        <input type="checkbox" id="chkIsScheduleH1" />
                                        <label for="chkIsScheduleH1" class="mt-2">Is ScheduleH1</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                <div class="form-group">
                                    <div class="checkbox icheck-turquoise">
                                        <input type="checkbox" id="chkIsDiscontinued" />
                                        <label for="chkIsDiscontinued" class="mt-2">Is Discontinued</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                <div class="form-group">
                                    <div class="checkbox icheck-turquoise">
                                        <input type="checkbox" id="chkIsProhibited" />
                                        <label for="chkIsProhibited" class="mt-2">Is Prohibited</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertSalt()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade bd-example-modal-lg" id="openingStockModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add/Edit Opening Stock</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <section class="content">
                    <div class="container-fluid">
                        <div class="row">
                            <!-- left column -->
                            <div class="col-md-12">
                                <!-- jquery validation -->
                                <div class="card card-primary card-outline">

                                    <div class="card-body">
                                        <div class="card card-outline paymentAdd hide">

                                            @*<div class="card-header">
                                                    <h3 class="card-title">Payment Info </h3>
                                                </div>*@
                                            <!-- form start -->
                                            <div class="card-body">

                                                <div class="row">
                                                    <!--<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">-->
                                                    <!-- text input -->
                                                    <!--<div class="form-group">
                                                            <label>Date</label>
                                                            <input type="date" class="form-control" id="txtDate" onchange="OpeningStock()" value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                                        </div>
                                                    </div>-->
                                                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                                        <!-- text input -->
                                                        <div class="form-group">
                                                            <label>Business Location</label>
                                                            <select class="select2" style="width: 100%;" id="ddlStockBranch" onchange="OpeningStock()">
                                                                <option value="0">Select</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divVariations hide">
                                                        <!-- text input -->
                                                        <div class="form-group">
                                                            <label>Variations</label>
                                                            <select class="select2" style="width: 100%;" id="ddlItemDetails" onchange="OpeningStock()">
                                                                <option value="0">Select</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                                        <!-- text input -->
                                                        <div class="form-group">
                                                            <label class="invisible">Add</label><br />
                                                            <button type="button" class="btn btn-primary" onclick="ItemDetailsForOpeningStock()">
                                                                <i class="fas fa-plus"></i>
                                                            </button>
                                                        </div>
                                                    </div>

                                                    <!--<div class="col-sm-6">-->
                                                    <!-- text input -->
                                                    <!--<div class="form-group">
                                                            <label>Notes</label>
                                                            <textarea class="form-control" id="txtNotes"></textarea>
                                                        </div>
                                                    </div>-->
                                                </div>
                                            </div>
                                            <!-- /.card-body -->
                                        </div>

                                        <div class="card card-outline paymentList hide">
                                            @*<div class="card-header">
                                                    <h3 class="card-title">Previous Payment Information</h3>
                                                </div>*@
                                            <!-- form start -->
                                            <div class="card-body">
                                                <div id="tblUserRole_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer">
                                                    @if (ViewBag.OpeningStockPermission.IsExport)
                                                    {
                                                        <div class="dt-buttons btn-group flex-wrap noPrint">
                                                            <button class="btn btn-secondary buttons-csv buttons-html5" tabindex="0" aria-controls="tblUserRole" type="button" onclick="exportToCsv('@ViewBag.Title')"><span>CSV</span></button>
                                                            <button class="btn btn-secondary buttons-excel buttons-html5" tabindex="0" aria-controls="tblUserRole" type="button" onclick="exportToExcel('@ViewBag.Title')"><span>Excel</span></button>
                                                            <button class="btn btn-secondary buttons-pdf buttons-html5" tabindex="0" aria-controls="tblUserRole" type="button" onclick="exportToPdf('@ViewBag.Title')"><span>PDF</span></button>
                                                            <button class="btn btn-secondary buttons-print" tabindex="0" aria-controls="tblUserRole" type="button" onclick="printDiv('@ViewBag.Title')"><span>Print</span></button>
                                                        </div>
                                                    }
                                                    <div id="tblUserRole_filter" class="dataTables_filter noPrint invisible">
                                                        <label>
                                                            Search:<input type="text" class="form-control form-control-sm" placeholder="" aria-controls="tblUserRole" id="txtSearch" onkeyup="fetchList(1)">
                                                        </label>
                                                    </div>
                                                    <div class="row mt-2">
                                                        <div class="col-sm-12 table-responsive">
                                                            <div id="tblData_wrapper" class="dataTables_wrapper no-footer">
                                                                <table id="tblOpeningStock" class="table table-bordered table-striped" style="min-height:300px">
                                                                    <thead>
                                                                        <tr>
                                                                            <th>Item</th>
                                                                            @*<th>Purchase Unit</th>*@
                                                                            <th>Quantity</th>
                                                                            @*<th>Quantity Sold</th>*@
                                                                            @*<th>Quantity Left</th>*@
                                                                            <th>Unit Cost (Before Tax)</th>
                                                                            <th style="display:none">Sub Total (Before Tax)</th>
                                                                            <th class="@(ViewBag.ItemSetting.EnableLotNo == true ? "" : "hidden")">Lot No</th>
                                                                            <th class="@((ViewBag.ItemSetting.EnableItemExpiry == true && ViewBag.ItemSetting.ExpiryType == 2) ? "" : "hidden")">Manufacturing Date</th>
                                                                            <th class="@(ViewBag.ItemSetting.EnableItemExpiry == true ? "" : "hidden")">Expiry Date</th>
                                                                            <th>Date</th>
                                                                            <th>Notes</th>
                                                                            <th>Unit Selling Price (Exc. Tax)</th>
                                                                            <th class="@(ViewBag.ItemSetting.EnableMrp == true ? "" : "hidden")">Mrp</th>
                                                                            <th style="width:10%">
                                                                                <button type="button" class="btn btn-danger btn-sm" onclick="deleteOpeningStockFullCombo()">
                                                                                    <i class="fas fa-times"></i>
                                                                                </button>
                                                                                @*<input type="hidden" id="hdnEnableEditingProductPrice" value="@ViewBag.ItemSetting.EnableEditingProductPrice.ToString()" />*@
                                                                                <input type="hidden" id="hdnEnableLotNo" value="@ViewBag.ItemSetting.EnableLotNo.ToString()" />
                                                                                <input type="hidden" id="hdnEnableItemExpiry" value="@(ViewBag.ItemSetting.EnableItemExpiry.ToString())" />
                                                                                <input type="hidden" id="hdnExpiryType" value="@ViewBag.ItemSetting.ExpiryType" />
                                                                                <input type="hidden" id="hdnEnableMrp" value="@ViewBag.ItemSetting.EnableMrp.ToString()" />
                                                                            </th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody id="divOpeningStock" class="rows">
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <!-- /.card -->
                            </div>
                            <!--/.col (left) -->

                        </div>
                        <!-- /.row -->
                    </div><!-- /.container-fluid -->
                </section>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-info" onclick="UpdateOpeningStock(1)">Submit</button>
                <button type="button" class="btn btn-primary" onclick="UpdateOpeningStock(2)">Submit & Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="faqModal">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">FAQs</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="p-0 pl-2 pr-2">
                            <div class="card collapsed-card" data-card-widget="collapse" title="Collapse">
                                <div class="card-header" data-card-widget="collapse" title="Collapse">
                                    <h3 class="card-title">What are Item Categories? How to use them?</h3>
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body" style="display: none;">
                                    --  Item Categories allow for easier management of items by grouping similar items together. Your item categories will also be displayed in your Online Store to help your customers find what they need easily.
                                </div>
                            </div>
                            <div class="card collapsed-card" data-card-widget="collapse" title="Collapse">
                                <div class="card-header" data-card-widget="collapse" title="Collapse">
                                    <h3 class="card-title">How to add custom item information like Expiry Date, Batch No, Size?</h3>
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body" style="display: none;">
                                    --  IMS provides default item fields which are applicable for every industry. Incase you require to add custom item fields like Batch, Size, Color etc, you can do that by going to Item Settings and clicking on + Add Custom Field.
                                </div>
                            </div>
                            <div class="card collapsed-card" data-card-widget="collapse" title="Collapse">
                                <div class="card-header" data-card-widget="collapse" title="Collapse">
                                    <h3 class="card-title">How to add MRP or Wholesale Price?</h3>
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body" style="display: none;">
                                    --  MRP and Wholesale Price(along with minimum wholesale quantity) can be added to your items by enabling these options from Item Settings.
                                </div>
                            </div>
                            <div class="card collapsed-card" data-card-widget="collapse" title="Collapse">
                                <div class="card-header" data-card-widget="collapse" title="Collapse">
                                    <h3 class="card-title">How do I add and update products?</h3>
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body" style="display: none;">
                                    -- To add a new product, click on the 'Add' button at the top of the screen and then click on ‘Add New Product’.
                                    To update an existing product, click on the name of the product, make your changes and then click the ‘Save’ button.
                                    To delete an existing product, tick the box that is to the left of the product you would like to delete and then click the ‘Delete’ button at the top of the list.
                                </div>
                            </div>
                            <div class="card collapsed-card" data-card-widget="collapse" title="Collapse">
                                <div class="card-header" data-card-widget="collapse" title="Collapse">
                                    <h3 class="card-title">How do I save a copy of a product?</h3>
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body" style="display: none;">
                                    Click on 'Action' button of an existing product.
                                    Click on 'Duplicate the product' button of an existing product.
                                    Edit the product name (this is required), and make any other relevant changes.
                                    Click on the ‘Save’ button.
                                </div>
                            </div>
                            <div class="card collapsed-card" data-card-widget="collapse" title="Collapse">
                                <div class="card-header" data-card-widget="collapse" title="Collapse">
                                    <h3 class="card-title">How do I make a product inactive?</h3>
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body" style="display: none;">
                                    Onsight allows you stop a product from displaying in your catalogue by marking it as inactive. This is sometimes better than deleting a product since all the product information is retained but the product is not shown in the catalogue. To mark a product as inactive, follow these steps:

                                    Click on the name of the product you want to make active.
                                    Uncheck the box next to the ‘Active’ field.
                                    Click the ‘Save’ button at the bottom of the page.
                                </div>
                            </div>
                            <div class="card collapsed-card" data-card-widget="collapse" title="Collapse">
                                <div class="card-header" data-card-widget="collapse" title="Collapse">
                                    <h3 class="card-title">What are master products and variants?</h3>
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body" style="display: none;">
                                    --A master product serves as a template for a group of products that are all variants of one another. Onsight uses the Master-Variant model for storing products with many variations.

                                    For each unique version of a product you should create a variant. An example of a variant is a ‘Blue T-shirt’. Another example might be a ‘Small T-shirt’. Variants can have different prices to one another. This allows the ‘Large T-shirt’ to be more expensive than the ‘Small T-shirt’. Or all your variants can be the same price.

                                    To add product variants, you first need to create a new product which will serve as the master product. The master product is never sold. It is just the template that the variants are based on. Add all the info in here that will be common for all the variants. e.g. a common description. Save this master product. Now create a new product to represent the first variation (i.e. a unique colour). When you are creating this second product record, be sure to choose a master product in the first field. All the info will be pre-loaded. You don’t need to type anything unless the variant has some specific information. Add a new image for the variant. Save the variant. Now, load the other variants in the same way.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<link href="https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css"
      rel="stylesheet">
<script src="https://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>

<script src="~/Content/JQuery/Customer/Items/Item.js"></script>