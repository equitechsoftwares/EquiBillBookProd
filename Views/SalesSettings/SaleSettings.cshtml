
@{
    ViewBag.Title = Request.Cookies["data"].Value.Split('&')[8].Split('=')[1] + " | Sale Settings";
    Layout = "~/Views/Shared/_CustomerLayout.cshtml";
}

<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1>Sale Settings</h1>
                <div class="float-left">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="/dashboard/index">Dashboard</a></li>
                        <li class="breadcrumb-item"><a href="/settings/index">Settings</a></li>
                        <li class="breadcrumb-item active">Sale Settings</li>
                    </ol>
                </div>
            </div>
            <div class="col-md-6 col-12 d-flex align-items-center justify-content-start justify-content-md-end mt-1 mt-md-0">
                <a id="btnBack" href="/settings/index" class="btn btn-warning float-sm-right"><i class="fas fa-arrow-left"></i> Back</a>
                @*<a href="javascript:void(0)" data-toggle="modal" data-target="#faqModal" class="btn btn-secondary float-sm-right mr-2">FAQs</a>*@
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>
<!-- Main content -->
<section class="content">
    <div class="container-fluid">
        <div class="row">
            <!-- left column -->
            <div class="col-md-12">
                <div class="callout callout-info @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")">
                    @*<h5><i class="fas fa-info"></i> Note:</h5>*@
                    Only the fields which are marked with <span class="text-danger">*</span> is mandatory. Rest all fields are optional and can be skipped
                    @*<button class="btn btn-info btn-sm" onclick="insert()"> Check Mandatory Fields</button>*@
                </div>
                <!-- jquery validation -->
                <div class="card card-primary card-outline">

                    <!-- form start -->
                    <div id="quickForm">
                        <div class="card-body">
                            <div class="row mt-3">
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <!-- text input -->
                                    <div class="form-group">
                                        <label>Default Payment Term</label>
                                        <div class="input-group">
                                            <select class="form-control select2" id="ddlSalesPaymentTerm">
                                                @{
                                                    foreach (var item in ViewBag.PaymentTerms)
                                                    {
                                                        if (ViewBag.SaleSetting.PaymentTermId == item.PaymentTermId)
                                                        {
                                                            <option value="@item.PaymentTermId" selected> @item.PaymentTerm</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@item.PaymentTermId"> @item.PaymentTerm </option>
                                                        }
                                                    }
                                                }
                                            </select>
                                            @if (ViewBag.PaymentTermPermission.IsAdd == true)
                                            {
                                                <span class="input-group-append">
                                                    <a href="javascript:void(0)" class="btn btn-info" onclick="openPaymentTermModal('ddlSalesPaymentTerm')">+ </a>
                                                </span>
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <!-- text input -->
                                    <div class="form-group">
                                        <label>Default Sale Discount</label>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="txtDefaultSaleDiscount" placeholder="" style="width:50%" value="@ViewBag.SaleSetting.DefaultSaleDiscount">
                                            <select class="form-control" style="width: 50%;" id="ddlDiscountType">
                                                @{
                                                    if (ViewBag.SaleSetting.DiscountType == "Fixed")
                                                    {
                                                        <option value="Fixed" selected>Fixed</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="Fixed">Fixed</option>
                                                    }
                                                    if (ViewBag.SaleSetting.DiscountType == "Percentage")
                                                    {
                                                        <option value="Percentage" selected> Percentage </option>
                                                    }
                                                    else
                                                    {
                                                        <option value="Percentage"> Percentage </option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                @*<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <div class="form-group">
                <label>Default Sale Discount</label>
                <input type="text" class="form-control" id="txtDefaultSaleDiscount" placeholder="" value="@ViewBag.SaleSetting.DefaultSaleDiscount">
            </div>
        </div>*@
                                @*<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <div class="form-group">
                <label>Default Sale Tax</label>
                <select class="form-control select2" style="width: 100%;" id="ddlDefaultSaleTax">
                    @foreach (var item in ViewBag.Taxs)
                    {
                        if (ViewBag.SaleSetting.DefaultSaleTaxId == item.TaxId)
                        {
                            <option value="@item.TaxId" selected>@item.Tax</option>
                        }
                        else
                        {
                            <option value="@item.TaxId">@item.Tax</option>
                        }
                    }
                </select>
            </div>
        </div>*@
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <div class="form-group">
                                        <label>Sales Invoice Type </label>
                                        <select class="form-control" style="width: 100%;" id="ddlSalesInvoiceType">
                                            @if (ViewBag.SaleSetting.InvoiceType == 1)
                                            {
                                                <option selected value="1">Regular Invoice</option>
                                            }
                                            else
                                            {
                                                <option value="1">Regular Invoice</option>
                                            }
                                            @if (ViewBag.SaleSetting.InvoiceType == 2)
                                            {
                                                <option selected value="2">Thermal Invoice</option>
                                            }
                                            else
                                            {
                                                <option value="2">Thermal Invoice</option>
                                            }
                                        </select>
                                    </div>
                                </div>
                                @*<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <div class="form-group">
                <label>Sales Item Addition Method</label>
                <select class="form-control" style="width: 100%;" id="ddlDefaultSaleTax">
                    <option value="1" selected>Add item in new row</option>
                    <option value="2">Increase item quantity if it already exists</option>
                </select>
            </div>
        </div>*@
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.EnableCustomerGroup)
                                            {
                                                <input type="checkbox" id="chkEnableCustomerGroup" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkEnableCustomerGroup">
                                            }
                                            <label for="chkEnableCustomerGroup" class="mt-2">
                                                Enable Customer Group
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.SalePriceIsMinSellingPrice)
                                            {
                                                <input type="checkbox" id="chkSalePriceIsMinSellingPrice" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalePriceIsMinSellingPrice">
                                            }
                                            <label for="chkSalePriceIsMinSellingPrice" class="mt-2">
                                                Sales Price is Final Selling Price
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                @*<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <br>
            <div class="form-group">
                <div class="checkbox icheck-turquoise">
                    @if (ViewBag.SaleSetting.AllowOverSelling)
                    {
                        <input type="checkbox" id="chkAllowOverSelling" checked>
                    }
                    else
                    {
                        <input type="checkbox" id="chkAllowOverSelling">
                    }
                    <label for="chkAllowOverSelling" class="mt-2">
                        Allow Overselling
                    </label>
                </div>
            </div>
        </div>*@
                                @*<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <br>
            <div class="form-group">
                <div class="checkbox icheck-turquoise">
                    @if (ViewBag.SaleSetting.IsPayTermRequired)
                    {
                        <input type="checkbox" id="chkIsPayTermRequired" checked>
                    }
                    else
                    {
                        <input type="checkbox" id="chkIsPayTermRequired">
                    }
                    <label for="chkIsPayTermRequired" class="mt-2">
                        Is Pay Term Required
                    </label>
                </div>
            </div>
        </div>*@
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.AllowOnlinePayment)
                                            {
                                                <input type="checkbox" id="chkAllowOnlinePaymentSales" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkAllowOnlinePaymentSales">
                                            }
                                            <label for="chkAllowOnlinePaymentSales" class="mt-2">
                                                Enable Payment Link
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                @*<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 divLot @(ViewBag.ItemSetting.EnableLotNo == false?"hidden":"")">*@
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.EnableFreeQuantity == true)
                                            {
                                                <input type="checkbox" id="chkSalesEnableFreeQuantity" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesEnableFreeQuantity">
                                            }
                                            <label for="chkSalesEnableFreeQuantity" class="mt-2">
                                                Enable Free Quantity
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                @*<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <br>
            <div class="form-group">
                <div class="checkbox icheck-turquoise">
                    @if (ViewBag.SaleSetting.EnableSms)
                    {
                        <input type="checkbox" id="chkSalesEnableSms" checked>
                    }
                    else
                    {
                        <input type="checkbox" id="chkSalesEnableSms">
                    }
                    <label for="chkSalesEnableSms" class="mt-2">
                        Enable Sms
                    </label>
                </div>
            </div>
        </div>
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <br>
            <div class="form-group">
                <div class="checkbox icheck-turquoise">
                    @if (ViewBag.SaleSetting.EnableEmail)
                    {
                        <input type="checkbox" id="chkSalesEnableEmail" checked>
                    }
                    else
                    {
                        <input type="checkbox" id="chkSalesEnableEmail">
                    }
                    <label for="chkSalesEnableEmail" class="mt-2">
                        Enable Email
                    </label>
                </div>
            </div>
        </div>
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <br>
            <div class="form-group">
                <div class="checkbox icheck-turquoise">
                    @if (ViewBag.SaleSetting.EnableWhatsapp)
                    {
                        <input type="checkbox" id="chkSalesEnableWhatsapp" checked>
                    }
                    else
                    {
                        <input type="checkbox" id="chkSalesEnableWhatsapp">
                    }
                    <label for="chkSalesEnableWhatsapp" class="mt-2">
                        Enable Whatsapp
                    </label>
                </div>
            </div>
        </div>*@
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.EnableSpecialDiscount)
                                            {
                                                <input type="checkbox" id="chkSalesEnableSpecialDiscount" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesEnableSpecialDiscount">
                                            }
                                            <label for="chkSalesEnableSpecialDiscount" class="mt-2">
                                                Enable Special Discount
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.EnableRoundOff)
                                            {
                                                <input type="checkbox" id="chkSalesEnableRoundOff" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesEnableRoundOff">
                                            }
                                            <label for="chkSalesEnableRoundOff" class="mt-2">
                                                Enable Round Off
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.EnableNotes)
                                            {
                                                <input type="checkbox" id="chkSalesEnableNotes" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesEnableNotes">
                                            }
                                            <label for="chkSalesEnableNotes" class="mt-2">
                                                Enable Notes
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.EnableTerms)
                                            {
                                                <input type="checkbox" id="chkSalesEnableTerms" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesEnableTerms">
                                            }
                                            <label for="chkSalesEnableTerms" class="mt-2">
                                                Enable Terms
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.EnableSalesQuotation == true)
                                            {
                                                <input type="checkbox" id="chkSalesEnableSalesQuotation" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesEnableSalesQuotation">
                                            }
                                            <label for="chkSalesEnableSalesQuotation" class="mt-2">
                                                Enable Sales Quotation
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.EnableSalesOrder == true)
                                            {
                                                <input type="checkbox" id="chkSalesEnableSalesOrder" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesEnableSalesOrder">
                                            }
                                            <label for="chkSalesEnableSalesOrder" class="mt-2">
                                                Enable Sales Order
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.EnableDeliveryChallan == true)
                                            {
                                                <input type="checkbox" id="chkSalesEnableDeliveryChallan" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesEnableDeliveryChallan">
                                            }
                                            <label for="chkSalesEnableDeliveryChallan" class="mt-2">
                                                Enable Delivery Challan
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.EnableSalesProforma == true)
                                            {
                                                <input type="checkbox" id="chkSalesEnableSalesProforma" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesEnableSalesProforma">
                                            }
                                            <label for="chkSalesEnableSalesProforma" class="mt-2">
                                                Enable Sales Proforma
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.EnablePos == true)
                                            {
                                                <input type="checkbox" id="chkSalesEnablePos" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesEnablePos">
                                            }
                                            <label for="chkSalesEnablePos" class="mt-2">
                                                Enable Pos
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.EnableRecurringSales == true)
                                            {
                                                <input type="checkbox" id="chkSalesEnableRecurringSales" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesEnableRecurringSales">
                                            }
                                            <label for="chkSalesEnableRecurringSales" class="mt-2">
                                                Enable Recurring Sales Invoice
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.AutoPrintInvoiceQuotation)
                                            {
                                                <input type="checkbox" id="chkSalesAutoPrintInvoiceQuotation" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesAutoPrintInvoiceQuotation">
                                            }
                                            <label for="chkSalesAutoPrintInvoiceQuotation" class="mt-2">
                                                Auto Print (Sales Quotation)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.AutoPrintInvoiceOrder)
                                            {
                                                <input type="checkbox" id="chkSalesAutoPrintInvoiceOrder" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesAutoPrintInvoiceOrder">
                                            }
                                            <label for="chkSalesAutoPrintInvoiceOrder" class="mt-2">
                                                Auto Print (Sales Order)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.AutoPrintInvoiceDeliveryChallan)
                                            {
                                                <input type="checkbox" id="chkSalesAutoPrintInvoiceDeliveryChallan" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesAutoPrintInvoiceDeliveryChallan">
                                            }
                                            <label for="chkSalesAutoPrintInvoiceDeliveryChallan" class="mt-2">
                                                Auto Print (Delivery Challan)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.AutoPrintInvoiceProforma)
                                            {
                                                <input type="checkbox" id="chkSalesAutoPrintInvoiceProforma" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesAutoPrintInvoiceProforma">
                                            }
                                            <label for="chkSalesAutoPrintInvoiceProforma" class="mt-2">
                                                Auto Print (Sales Proforma)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.AutoPrintInvoiceBill)
                                            {
                                                <input type="checkbox" id="chkSalesAutoPrintInvoiceBill" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesAutoPrintInvoiceBill">
                                            }
                                            <label for="chkSalesAutoPrintInvoiceBill" class="mt-2">
                                                Auto Print (Sales Invoice)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            @if (ViewBag.SaleSetting.AutoPrintInvoiceSalesReturn)
                                            {
                                                <input type="checkbox" id="chkSalesAutoPrintInvoiceSalesReturn" checked>
                                            }
                                            else
                                            {
                                                <input type="checkbox" id="chkSalesAutoPrintInvoiceSalesReturn">
                                            }
                                            <label for="chkSalesAutoPrintInvoiceSalesReturn" class="mt-2">
                                                Auto Print (Sales Return)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr />
                            <h4 class="@(ViewBag.IsAccountsAddon == true ? "" : "hidden")">Link Sales With Accounts</h4>
                            <div class="row">
                                @*<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                        <div class="form-group">
                                            <label>Customer Advance <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Select a default account to track customer advances"></i></label>
                                            <select class="form-control select2" id="ddlCustomerAdvanceAccount" style="width:100%">
                                                @{
                                                    if (ViewBag.AccountSubTypes != null)
                                                    {
                                                        foreach (var item in ViewBag.AccountSubTypes)
                                                        {
                                                            if (item.Accounts.Count > 0)
                                                            {
                                                                if (item.Type == "Other Current Liability" || item.Type == "Long Term Liability")
                                                                {
                                                                <optgroup label="@item.DisplayAs">
                                                                    @foreach (var inner in item.Accounts)
                                                                    {
                                                                        if (ViewBag.SaleSetting.CustomerAdvanceAccountId == inner.AccountId)
                                                                        {
                                                                            <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                                        }
                                                                        else
                                                                        {
                                                                            <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                                        }
                                                                    }
                                                                </optgroup>
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>*@
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 mt-2" @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>
                                    <div class="form-group">
                                        <label> Discount <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Choose the account where Sales Discount will be linked"></i></label>
                                        <div class="input-group">
                                            <select class="form-control select2" id="ddlSalesDiscountAccount">
                                                @{
                                                    if (ViewBag.AccountSubTypes != null)
                                                    {
                                                        foreach (var item in ViewBag.AccountSubTypes)
                                                        {
                                                            if (item.Accounts.Count > 0)
                                                            {
                                                                if (item.Type == "Income")
                                                                {
                                                                    <optgroup label="@item.DisplayAs">
                                                                        @foreach (var inner in item.Accounts)
                                                                        {
                                                                            if (ViewBag.SaleSetting.DiscountAccountId == inner.AccountId)
                                                                            {
                                                                                <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                                            }
                                                                            else
                                                                            {
                                                                                <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                                            }

                                                                        }
                                                                    </optgroup>
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 mt-2" @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>
                                    <div class="form-group">
                                        <label> Special Discount <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Choose the account where Sales Discount will be linked"></i></label>
                                        <div class="input-group">
                                            <select class="form-control select2" id="ddlSalesSpecialDiscountAccount">
                                                @{
                                                    if (ViewBag.AccountSubTypes != null)
                                                    {
                                                        foreach (var item in ViewBag.AccountSubTypes)
                                                        {
                                                            if (item.Accounts.Count > 0)
                                                            {
                                                                if (item.Type == "Income")
                                                                {
                                                                    <optgroup label="@item.DisplayAs">
                                                                        @foreach (var inner in item.Accounts)
                                                                        {
                                                                            if (ViewBag.SaleSetting.SpecialDiscountAccountId == inner.AccountId)
                                                                            {
                                                                                <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                                            }
                                                                            else
                                                                            {
                                                                                <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                                            }

                                                                        }
                                                                    </optgroup>
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 mt-2" @(ViewBag.IsAccountsAddon == true ? "" : "hidden")>
                                    <div class="form-group">
                                        <label> Round Off <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Choose the account where Sales Round Off will be linked"></i></label>
                                        <div class="input-group">
                                            <select class="form-control select2" id="ddlSalesRoundOffAccount">
                                                @{
                                                    if (ViewBag.AccountSubTypes != null)
                                                    {
                                                        foreach (var item in ViewBag.AccountSubTypes)
                                                        {
                                                            if (item.Accounts.Count > 0)
                                                            {
                                                                if (item.Type == "Income")
                                                                {
                                                                    <optgroup label="@item.DisplayAs">
                                                                        @foreach (var inner in item.Accounts)
                                                                        {
                                                                            if (ViewBag.SaleSetting.RoundOffAccountId == inner.AccountId)
                                                                            {
                                                                                <option value="@inner.AccountId" selected>@inner.DisplayAs</option>
                                                                            }
                                                                            else
                                                                            {
                                                                                <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                                            }
                                                                        }
                                                                    </optgroup>
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            @*<hr />
                                <h4>Commission Agent</h4>
                                <div class=" row">
                                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                        <div class="form-group">
                                            <label>Sales Commission Agent</label>
                                            <select class="form-control select2" style="width: 100%;" id="ddlSalesCommissionAgent">
                                                @{
                                                    if (ViewBag.SaleSetting.SalesCommissionAgent == 1)
                                                    {
                                                        <option value="1" selected>Disable</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="1">Disable</option>
                                                    }
                                                    if (ViewBag.SaleSetting.SalesCommissionAgent == 2)
                                                    {
                                                        <option value="2" selected>Logged In User</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="2">Logged In User</option>
                                                    }
                                                    if (ViewBag.SaleSetting.SalesCommissionAgent == 3)
                                                    {
                                                        <option value="3" selected>Select From User's List</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="3">Select From User's List</option>
                                                    }
                                                    if (ViewBag.SaleSetting.SalesCommissionAgent == 4)
                                                    {
                                                        <option value="4" selected>Select From Commission Agent's List</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="4">Select From Commission Agent's List</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                        <div class="form-group">
                                            <label> Commission Calculation Type</label>
                                            <select class="form-control select2" style="width: 100%;" id="ddlCommissionCalculationType">
                                                @{
                                                    if (ViewBag.SaleSetting.CommissionCalculationType == 1)
                                                    {
                                                        <option value="1" selected>Invoice Value</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="1">Invoice Value</option>
                                                    }
                                                    if (ViewBag.SaleSetting.CommissionCalculationType == 2)
                                                    {
                                                        <option value="2" selected>Payment Received</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="2">Payment Received</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
                                        <br>
                                        <div class="form-group">
                                            <div class="checkbox icheck-turquoise">
                                                @if (ViewBag.SaleSetting.IsCommissionAgentRequired == true)
                                                {
                                                    <input type="checkbox" id="chkIsCommissionAgentRequired" checked>
                                                }
                                                else
                                                {
                                                    <input type="checkbox" id="chkIsCommissionAgentRequired">
                                                }
                                                <label for="chkIsCommissionAgentRequired" class="mt-2">
                                                    Is Commission Agent Required
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>*@
                        </div>
                        <!-- /.card-body -->
                        <div class="card-footer">
                            <button type="submit" class="btn btn-primary float-right" onclick="saleUpdate()"><i class="fas fa-edit"></i> Update</button>
                        </div>
                    </div>
                </div>
                <!-- /.card -->
            </div>
            <!--/.col (left) -->

        </div>
        <!-- /.row -->
    </div><!-- /.container-fluid -->
</section>
<!-- /.content -->

<div class="modal fade" id="paymentTermModal">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Payment Term</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-6">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Term Name <span class="danger">*</span></label>
                            <input type="text" class="form-control divPaymentTerm_M_ctrl" id="txtPaymentTerm_M" placeholder="">
                            <small class="text-red font-weight-bold errorText" id="divPaymentTerm_M"></small>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <!-- text input -->
                        <div class="form-group">
                            <label>Days <span class="danger">*</span></label>
                            <input type="text" class="form-control divDays_M_ctrl" id="txtDays_M" placeholder="" onkeypress="return onlyNumberKey(event)">
                            <small class="text-red font-weight-bold errorText" id="divDays_M"></small>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                <button type="button" class="btn btn-primary" onclick="insertPaymentTerm()">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="faqModal">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">FAQs</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="p-0 pl-2 pr-2">
                            <div class="card collapsed-card" data-card-widget="collapse" title="Collapse">
                                <div class="card-header" data-card-widget="collapse" title="Collapse">
                                    <h3 class="card-title">How do I add and update product categories?</h3>
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body" style="display: none;">
                                    •	To add a new product category, click on the ‘Add New’ button at the top of the screen
                                    •	To update an existing product category, click on 'Edit' button beside the name of product category you want to change, make your changes and then click the ‘Save’ button at the bottom of the screen.
                                    •	To delete an existing product category, tick the box that is to the left of the product category you would like to delete and then click the ‘Delete’ button at the top of the list.
                                </div>
                            </div>
                            <div class="card collapsed-card" data-card-widget="collapse" title="Collapse">
                                <div class="card-header" data-card-widget="collapse" title="Collapse">
                                    <h3 class="card-title">How do I make a product category inactive?</h3>
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body" style="display: none;">
                                    IMS allows you stop an entire product category from displaying in your catalogue, by marking it as inactive. This is sometimes better than deleting all those products since all the product information is retained but the products are not shown in the catalogue. To mark a product category as inactive, follow these steps:

                                    •	Click on the name of the product category that you want to make active.
                                    •	Change the status field from ‘Active’ to ‘Inactive’.
                                    •	Click the ‘Save’ button at the bottom of the page.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<script src="~/Content/JQuery/Customer/Settings/SalesSettings/SaleSettings.js"></script>


