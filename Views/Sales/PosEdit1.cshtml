

@{
    Layout = "";
}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>@Request.Cookies["data"].Value.Split('&')[8].Split('=')[1] | POS</title>

    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="~/Content/plugins/fontawesome-free/css/all.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!-- iCheck -->
    <link rel="stylesheet" href="~/Content/plugins/icheck-bootstrap/icheck-bootstrap.min.css">
    <!-- daterange picker -->
    <link rel="stylesheet" href="~/Content/plugins/daterangepicker/daterangepicker.css">
    <link href="~/Content/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />
    <!-- DataTables -->
    <link rel="stylesheet" href="~/Content/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="~/Content/plugins/datatables-responsive/css/responsive.bootstrap4.min.css">
    <link rel="stylesheet" href="~/Content/plugins/datatables-buttons/css/buttons.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/scroller/2.0.5/css/scroller.bootstrap4.min.css">
    <!-- Select2 -->
    <link rel="stylesheet" href="~/Content/plugins/select2/css/select2.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="~/Content/assets/css/adminlte.min.css">
    <link href="~/Content/assets/css/admin.css" rel="stylesheet" />
    <!-- Toastr -->
    <link rel="stylesheet" href="~/Content/plugins/toastr/toastr.min.css">


    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script>
    <!-- jQuery -->

    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <!-- date-range-picker -->
    <!-- DataTables  & Plugins -->
    <script src="~/Content/plugins/datatables/jquery.dataTables.min.js"></script>

    @*<style>
            /* Chrome, Safari, Edge, Opera */
            input::-webkit-outer-spin-button,
            input::-webkit-inner-spin-button {
                -webkit-appearance: none;
                margin: 0;
            }

            /* Firefox */
            input[type=number] {
                -moz-appearance: textfield;
            }
        </style>
        <style>
            #tblUserRole_paginate, #tblUserRole_info {
                display: none;
            }

            .goog-logo-link {
                display: none !important;
            }

            .goog-te-gadget {
                color: transparent !important;
            }

                .goog-te-gadget .goog-te-combo {
                    /*padding: 0.375rem 0.75rem;*/
                    padding: 0.575rem 0.75rem;
                    color: #495057;
                    border: 1px solid #ced4da;
                    border-radius: 0.25rem;
                }

                .goog-te-gadget .goog-te-combo {
                    margin: 0 !important;
                }

            body > .skiptranslate {
                display: none;
            }

            .skiptranslate span {
                display: none;
            }

            body {
                top: 0 !important
            }

            #goog-gt-tt, .goog-te-balloon-frame {
                display: none !important;
            }

            .goog-text-highlight {
                background: none !important;
                box-shadow: none !important;
            }

            .VIpgJd-ZVi9od-aZ2wEe-wOHMyf-ti6hGc {
                display: none;
            }

            #goog-gt- {
                display: none !important;
            }
        </style>*@

    <style>
        @@media only screen and (min-device-width: 481px) {
            #ddlCustomer, .ddlCustomer .select2-container {
                width: 84% !important;
            }

            #ddlUserCurrency, .ddlUserCurrency .select2-container {
                width: 87% !important;
            }
        }
    </style>

</head>
<body class="hold-transition sidebar-mini layout-fixed @(Request.Cookies["SystemSetting"]["EnableDarkMode"] == "True" ? "dark-mode" : "")">
    <div class="wrapper">
        <!--<nav class="main-header navbar navbar-expand navbar-white navbar-light">-->
        <!-- Left navbar links -->
        <!--<ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
            </li>

        </ul>-->
        <!-- Right navbar links -->
        <!--<ul class="navbar-nav ml-auto">
                <li class="nav-item dropdown1">
                    <a class="nav-link" data-toggle="dropdown" href="#">
                        <i class="far fa-bell"></i>
                        <span class="badge badge-warning navbar-badge">15</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                        <span class="dropdown-item dropdown-header">15 Notifications</span>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-envelope mr-2"></i> 4 new messages
                            <span class="float-right text-muted text-sm">3 mins</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-users mr-2"></i> 8 friend requests
                            <span class="float-right text-muted text-sm">12 hours</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-file mr-2"></i> 3 new reports
                            <span class="float-right text-muted text-sm">2 days</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item dropdown-footer">See All Notifications</a>
                    </div>
                </li>
            </ul>
        </nav>-->

        <section class="mt-1 pb-0">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-3 text-center text-sm-left">
                        <h5 class="mt-2">
                            @ViewBag.Name - @ViewBag.Branch
                            <i class="fa fa-keyboard" data-widget="control-sidebar" data-slide="true" href="#" role="button" title="Shortcut Keys"></i>
                            @*@ViewBag.OpenTime.ToString(Request.Cookies["BusinessSetting"].Value.Split('&')[0].Split('=')[1] + " " + Request.Cookies["BusinessSetting"].Value.Split('&')[1].Split('=')[1])*@
                        </h5>
                    </div>

                    <div class="col-md-9 text-center text-sm-right">
                        <div id="google_translate_element" style="margin-top:2px;float:right;margin-left:5px"></div>
                        @*<div class="input-group date" id="_SalesDate" data-target-input="nearest">
                                <input id="txtSalesDate" value="@ViewBag.Sale.SalesDate.ToString(Request.Cookies["BusinessSetting"].Value.Split('&')[0].Split('=')[1] + " " + Request.Cookies["BusinessSetting"].Value.Split('&')[1].Split('=')[1])" type="text" class="form-control datetimepicker-input" data-target="#_SalesDate" style="vertical-align: middle; color: #7d746c; padding: 0.275rem 0.75rem; border-radius: 4px; border: 1px solid #d8dde2;display: @(ViewBag.PosSetting.EnableTransactionDate == true?"initial":"none")" />
                                <div class="input-group-append" data-target="#_SalesDate" data-toggle="datetimepicker">
                                    <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                                </div>
                            </div>*@
                        <div class="col-sm-3" style="position:absolute;display: @(ViewBag.PosSetting.EnableTransactionDate == true?"block":"none")">
                            <div class="form-group">
                                <div class="input-group date" id="_SalesDate" data-target-input="nearest">
                                    <input id="txtSalesDate" type="text" value="@ViewBag.Sale.SalesDate.ToString(Request.Cookies["BusinessSetting"].Value.Split('&')[0].Split('=')[1] + " " + Request.Cookies["BusinessSetting"].Value.Split('&')[1].Split('=')[1])" class="form-control datetimepicker-input" data-target="#_SalesDate" style="vertical-align: middle; color: #7d746c; padding: 0.275rem 0.75rem; border-radius: 4px; border: 1px solid #d8dde2;" class="form-control datetimepicker-input" data-target="#_SalesDate" style="vertical-align: middle; color: #7d746c; padding: 0.275rem 0.75rem; border-radius: 4px; border: 1px solid #d8dde2; display: @(ViewBag.PosSetting.EnableTransactionDate == true?"initial":"none")" />
                                    <div class="input-group-append" data-target="#_SalesDate" data-toggle="datetimepicker">
                                        <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        @*<input type="datetime-local" value="@ViewBag.Sale.SalesDate.ToString("yyyy-MM-ddTHH:mm")" id="txtSalesDate" style="vertical-align: middle; color: #7d746c; padding: 0.275rem 0.75rem; border-radius: 4px; border: 1px solid #d8dde2;display: @(ViewBag.PosSetting.EnableTransactionDate == true?"initial":"none")">*@

                        <input type="hidden" id="ddlBranch" value="@ViewBag.BranchId" />
                        @*<select class="btn btn-warning select2" id="ddlBranch" onchange="ItemsPos()">
                            @foreach (var item in ViewBag.Branchs)
                                {
                                    if (ViewBag.Sale.BranchId == item.BranchId)
                                    {
                                        <option value="@item.BranchId" selected>@item.Branch</option>
                                    }
                                    else
                                    {
                                        <option value="@item.BranchId">@item.Branch</option>
                                    }
                                }
                            </select>*@
                        <select class="btn" id="ddlZoomLevel" onchange="setZoomLevel()" style="border: 1px solid #ced4da ">
                            <option value="80%">A--</option>
                            <option value="90%">A-</option>
                            <option value="100%">A</option>
                            <option value="110%">A+</option>
                            <option value="120%">A++</option>
                        </select>
                        @if (ViewBag.PosSetting.DontShowRecentTransactions == false)
                        {
                            <a href="javascript:void(0)" class="btn btn-outline-primary bg-purple" onclick="fetchSalesByUser()" id="btnRecentTransactions">Recent Transactions</a>
                        }
                        <a class="btn bg-warning btn-warning" data-toggle="dropdown" href="#" id="btnHoldList">
                            Hold List
                            <i class="far fa-bell"></i>
                            <span class="badge badge-light navbar-badge" id="HoldBadge">@ViewBag.HoldTotalCount</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-xl dropdown-menu-right">
                            <span class="dropdown-item dropdown-header" id="HoldCount">@ViewBag.HoldTotalCount Orders On Hold</span>
                            <div class="dropdown-divider"></div>
                            <div id="divPartialPosHold">
                                @Html.Partial("PartialPosHoldList")
                            </div>
                            <a href="#" class="dropdown-item dropdown-footer">See All Hold List</a>
                        </div>
                        @*<a href="/dashboard" class="btn btn-secondary">Cash In Hand</a>*@
                        @*<a href="/dashboard" class="btn btn-primary">Dashboard</a>*@
                        <a href="javascript:void(0)" class="btn btn-success" onclick="openCalculator()" id="btnCalculator">Calculator</a>
                        @*<a href="javascript:void(0)" class="btn btn-info mt-1 mt-sm-0" onclick="fullScreen();" id="btnFullScreen">Full Screen</a>*@
                        <a href="javascript:void(0)" class="btn btn-primary" onclick="fetchCurrentRegister()" id="btnRegisterDetails">Register Details</a>
                        <a href="/sales/pos" class="btn btn-danger mr-1 mt-1 mt-sm-0 mb-1 mb-sm-0" id="btnPosExit">Exit</a>
                        @*<a href="javascript:void(0)" data-toggle="modal" data-target="#faqModal" class="btn btn-secondary float-sm-right ">FAQs</a>*@
                    </div>

                </div>
            </div><!-- /.container-fluid -->
        </section>

        <section class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="@(ViewBag.PosSetting.DontShowProductSuggestion == true ? "col-md-12":"col-md-8")">
                        <!-- jquery validation -->
                        <div class="card card-primary card-outline">

                            <div class="card-body @((ViewBag.PosSetting.EnableSms== true || ViewBag.PosSetting.EnableEmail == true || ViewBag.PosSetting.EnableWhatsapp== true || ViewBag.PosSetting.AllowOnlinePayment==true) ?"pb-0":"")" ">
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="">
                                            <div class="input-group ddlCustomer">
                                                <select class="form-control select2" id="ddlCustomer" onchange="FetchUserCurrency()">
                                                    @*<option value="0">Select</option>*@
                                                    @foreach (var item in ViewBag.Users)
                                                    {
                                                        if (ViewBag.Sale.CustomerId == item.UserId)
                                                        {
                                                            <option value="@item.UserId" selected>
                                                                @item.Name
                                                                @if (item.MobileNo != null && item.MobileNo != "")
                                                                {
                                                                    <span>- @item.MobileNo</span>
                                                                }
                                                            </option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@item.UserId">@item.Name - @item.MobileNo</option>
                                                        }
                                                    }
                                                </select>
                                                <span class="input-group-append">
                                                    <a href="javascript:void(0)" class="btn btn-info" onclick="openCustomerModal()">+ </a>
                                                </span>
                                            </div>
                                            <small class="text-red font-weight-bold" id="divCustomer"></small>
                                        </div>
                                    </div>
                                    @if (ViewBag.ItemSetting.EnableSellingPriceGroup == true)
                                    {
                                        <div class="col-md-3 mt-3 mt-sm-0">
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <select class="form-control select2" style="width: 100%;" id="ddlSellingPriceGroup" onchange="changeSellingPriceGroup()">
                                                        <option value="0">Default Selling Price</option>
                                                        @foreach (var item in ViewBag.SellingPriceGroups)
                                                        {
                                                            if (ViewBag.Sale.SellingPriceGroupId == item.SellingPriceGroupId)
                                                            {
                                                                <option value="@item.SellingPriceGroupId" selected>@item.SellingPriceGroup</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@item.SellingPriceGroupId">@item.SellingPriceGroup</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                    <div class="col-md-6">
                                        <div class="input-group">
                                            @*<div class="input-group-prepend">
                    <span class="input-group-text"><i class="fas fa-barcode"></i></span>
                </div>*@
                                            <input type="text" class="form-control divtags_ctrl" placeholder="Sku Code/ Item Name" id="txttags">
                                        </div>
                                        <small class="text-red font-weight-bold errorText" id="divtags"></small>
                                    </div>
                                </div><!-- row end -->
                                <div class="row">
                                    <div class="col-sm-3 @(ViewBag.Sale.ExchangeRate == 1 ? "hidden":"") divCurrencyExchange">
                                        <div class="form-group">
                                            <label>Exchange Rate</label>
                                            <div class="input-group">
                                                <span class="input-group-append">
                                                    <a href="javascript:void(0)" class="btn bg-gray">1 <span class="lblCurrencySymbol">@ViewBag.Sale.CurrencySymbol</span> = </a>
                                                </span>
                                                <input type="number" class="form-control" id="txtExchangeRate" placeholder="Conversion Rate"
                                                       onkeypress="return onlyDecimalKey(event)" onchange="updateCurrencyExchange()" value="@ViewBag.Sale.ExchangeRate">
                                                <span class="input-group-append">
                                                    <a href="javascript:void(0)" class="btn bg-gray"><span class="lblDefaultCurrencySymbol">@ViewBag.Sale.DefaultCurrencySymbol</span> </a>
                                                </span>
                                            </div>
                                            <small class="text-red font-weight-bold errorText" id="divExchangeRate"></small>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            @*<div class="col-sm-12" style="overflow-y: auto; border: 1px solid rgb(226 229 233); height: @((ViewBag.PosSetting.EnableSms== false && ViewBag.PosSetting.EnableEmail == false && ViewBag.PosSetting.EnableWhatsapp== false && ViewBag.PosSetting.AllowOnlinePayment==false )  ? "320px": "240px" );">*@
                                            <div class="col-sm-12" style="overflow-y: auto; border: 1px solid rgb(226 229 233); height: 50vh">
                                                <table class="table table-bordered table-striped dataTable no-footer" style="">
                                                    <thead class="bg-secondary">
                                                        <tr>
                                                            <th width="25%">Item Name</th>
                                                            @*<th width="10%">SKU</th>*@
                                                            <th style="width:20%" class="@(ViewBag.ItemSetting.EnableLotNo == true ? "" : "hidden")">Lot No</th>
                                                            <th width="20%" class="@(ViewBag.ItemSetting.EnableSecondaryUnit == true ? "" : "hidden")">Unit</th>
                                                            <th width="10%">Avl Qty</th>
                                                            <th width="20%">Qty</th>

                                                            <th width="20%" class="@(ViewBag.PosSetting.EnableFreeQuantity == true ? "" : "hidden")">Free Qty</th>
                                                            @*<th width="20%" class="@((ViewBag.PosSetting.EnableFreeQuantity == true && ViewBag.ItemSetting.EnableSecondaryUnit == true) ? "" : "hidden")">Free Unit</th>*@
                                                            <th width="15%">Price</th>
                                                            @*<th width="15%">Discount <a href="javascript:void(0)"> <i class="fa fa-edit"></i></a></th>*@
                                                            <th width="15%">Subtotal</th>
                                                            <th width="5%">
                                                                <i class="fa fa-times" onclick="deleteFullCombo(@ViewBag.Sale.SalesId)"></i>
                                                                <input type="hidden" id="hdnSalePriceIsMinSellingPrice" value="@(ViewBag.PosSetting.SalePriceIsMinSellingPrice.ToString())" />
                                                                <input type="hidden" id="hdnEnableLotNo" value="@(ViewBag.ItemSetting.EnableLotNo.ToString())" />
                                                                <input type="hidden" id="hdnEnableItemExpiry" value="@(ViewBag.ItemSetting.EnableItemExpiry.ToString())" />
                                                                <input type="hidden" id="hdnOnItemExpiry" value="@(ViewBag.ItemSetting.OnItemExpiry)" />
                                                                <input type="hidden" id="hdnEnableFreeQuantity" value="@ViewBag.PosSetting.EnableFreeQuantity.ToString()" />
                                                                <input type="hidden" id="hdnEnableSecondaryUnit" value="@(ViewBag.ItemSetting.EnableSecondaryUnit.ToString())" />
                                                                <input type="hidden" id="hdnEnableWarranty" value="@ViewBag.ItemSetting.EnableWarranty.ToString()" />
                                                                <input type="hidden" id="hdnEnableRoundOff" value="@ViewBag.PosSetting.EnableRoundOff.ToString()" />
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="divCombo" style="font-size: 16px;font-weight: bold;overflow: scroll;">
                                                        @{
                                                            var count = 10000;
                                                            foreach (var item in ViewBag.Sale.SalesDetails)
                                                            {
                                                                <tr id="divCombo@(count)" data-row="0" data-item-id="17">
                                                                    <td style="min-width:150px">
                                                                        <input type="text" hidden class="form-control" id="txtItemId@(count)" value="@item.ItemId">
                                                                        <input type="text" hidden class="form-control" id="txtItemDetailsId@(count)" value="@item.ItemDetailsId">
                                                                        <input type="text" hidden class="form-control" id="txtSkuCode@(count)" value="@item.SKU">
                                                                        <input type="hidden" id="hdnSalesDetailsId@(count)" value="@item.SalesDetailsId" />
                                                                        @item.ItemName
                                                                        @if (item.VariationName != null)
                                                                        {
                                                                            <br /><span> Variation: @item.VariationName</span>
                                                                        }
                                                                        <a href="javascript:void(0)" data-toggle="modal" data-target="#itemDetails@(count)"> <i class="fa fa-edit"></i></a>
                                                                        @*<br /> SKU : @item.SKU*@
                                                                    </td>
                                                                    @*<td style="min-width:100px"> @item.SKU </td>*@
                                                                    <td class="@(ViewBag.ItemSetting.EnableLotNo == true ? "" : "hidden")">
                                                                        <select class="form-control" style="min-width: 100px;" id="ddlLot@(count)" onchange="fetchLotDetails(@(count))">
                                                                            <option selected value="@item.LotId-@item.LotType"> Lot No: @item.LotNo</option>
                                                                        </select>
                                                                    </td>
                                                                    <td style="min-width:100px" class="@(ViewBag.ItemSetting.EnableSecondaryUnit == true ? "" : "hidden")">
                                                                        <select class="form-control " id="ddlUnit@(count)" onchange="toggleUnit(@(count))">
                                                                            @{
                                                                                if (item.QuaternaryUnitId != 0)
                                                                                {
                                                                                    if (item.PriceAddedFor == 1)
                                                                                    {
                                                                                        <option selected value="@(item.UnitId)-1-1">@item.UnitShortName </option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@(item.UnitId)-1-1">@item.UnitShortName </option>
                                                                                    }
                                                                                    if (item.PriceAddedFor == 2)
                                                                                    {
                                                                                        <option value="@(item.SecondaryUnitId)-2-2" selected>@item.SecondaryUnitShortName</option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@(item.SecondaryUnitId)-2-2">@item.SecondaryUnitShortName</option>
                                                                                    }
                                                                                    if (item.PriceAddedFor == 3)
                                                                                    {
                                                                                        <option value="@(item.TertiaryUnitId)-3-3" selected>@item.TertiaryUnitShortName</option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@(item.TertiaryUnitId)-3-3">@item.TertiaryUnitShortName</option>
                                                                                    }
                                                                                    if (item.PriceAddedFor == 4)
                                                                                    {
                                                                                        <option value="@(item.QuaternaryUnitId)-4-4" selected>@item.QuaternaryUnitShortName</option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@(item.QuaternaryUnitId)-4-4">@item.QuaternaryUnitShortName</option>
                                                                                    }
                                                                                }
                                                                                else if (item.TertiaryUnitId != 0)
                                                                                {
                                                                                    @*<option value="0" hidden>@item.UnitShortName</option>*@
                                                                                    if (item.PriceAddedFor == 2)
                                                                                    {
                                                                                        <option selected value="@(item.UnitId)-2-1">@item.UnitShortName </option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@(item.UnitId)-2-1">@item.UnitShortName </option>
                                                                                    }
                                                                                    if (item.PriceAddedFor == 3)
                                                                                    {
                                                                                        <option value="@(item.SecondaryUnitId)-3-2" selected>@item.SecondaryUnitShortName</option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@(item.SecondaryUnitId)-3-2">@item.SecondaryUnitShortName</option>
                                                                                    }
                                                                                    if (item.PriceAddedFor == 4)
                                                                                    {
                                                                                        <option value="@(item.TertiaryUnitId)-4-3" selected>@item.TertiaryUnitShortName</option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@(item.TertiaryUnitId)-4-3">@item.TertiaryUnitShortName</option>
                                                                                    }
                                                                                }
                                                                                else if (item.SecondaryUnitId != 0)
                                                                                {
                                                                                    @*<option value="0" hidden>@item.UnitShortName</option>
                                                                                        <option value="0" hidden>@item.UnitShortName</option>*@
                                                                                    if (item.PriceAddedFor == 3)
                                                                                    {
                                                                                        <option selected value="@(item.UnitId)-3-1">@item.UnitShortName </option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@(item.UnitId)-3-1">@item.UnitShortName </option>
                                                                                    }
                                                                                    if (item.PriceAddedFor == 4)
                                                                                    {
                                                                                        <option value="@(item.SecondaryUnitId)-4-2" selected>@item.SecondaryUnitShortName</option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@(item.SecondaryUnitId)-4-2">@item.SecondaryUnitShortName</option>
                                                                                    }
                                                                                }
                                                                                else
                                                                                {
                                                                                    @*<option value="0" hidden>@item.UnitShortName</option>
                                                                                        <option value="0" hidden>@item.UnitShortName</option>
                                                                                        <option value="0" hidden>@item.UnitShortName</option>*@
                                                                                    <option selected value="@(item.UnitId)-4-1">@item.UnitShortName </option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                        <input type="text" hidden class="form-control" id="hdnPriceAddedFor@(count)" value="@item.PriceAddedFor">
                                                                        <input type="text" hidden class="form-control" id="hdnUToSValue@(count)" value="@item.UToSValue">
                                                                        <input type="text" hidden class="form-control" id="hdnSToTValue@(count)" value="@item.SToTValue">
                                                                        <input type="text" hidden class="form-control" id="hdnTToQValue@(count)" value="@item.TToQValue">
                                                                        <input type="text" hidden class="form-control" id="hdnUnitCost@(count)" value="@item.UnitCost">
                                                                        <input type="hidden" class="form-control" id="hdnAllowDecimal@(count)" value="@(item.AllowDecimal.ToString())" />
                                                                        <input type="hidden" class="form-control" id="hdnSecondaryUnitAllowDecimal@(count)" value="@item.SecondaryUnitAllowDecimal.ToString()" />
                                                                        <input type="hidden" class="form-control" id="hdnTertiaryUnitAllowDecimal@(count)" value="@item.TertiaryUnitAllowDecimal.ToString()">
                                                                        <input type="hidden" class="form-control" id="hdnQuaternaryUnitAllowDecimal@(count)" value="@item.QuaternaryUnitAllowDecimal.ToString()">
                                                                        <input type="text" hidden class="form-control" id="hdnIsManageStock@(count)" value="@item.IsManageStock.ToString()">
                                                                    </td>
                                                                    <td style="min-width: 100px;">
                                                                        <span style="text-align:center;display:@(item.IsManageStock == false ? "block" : "none")">-</span>
                                                                        <input disabled type="number" class="form-control @(item.IsManageStock == true ? "" : "hidden")" id="txtStockQuantity@(count)" value="@(String.Format("{0:0.##}",item.QuantityRemaining))" />
                                                                        <input type="text" hidden class="form-control" id="hdnQuantityRemaining@(count)" value="@item.QuantityRemaining">
                                                                        <input type="text" hidden class="form-control" id="txtStockQuantity@(count)" value="@item.QuantityRemaining">
                                                                    </td>

                                                                    <td style="min-width: 100px;">
                                                                        <div class="input-group">
                                                                            @*<span class="input-group-append">
                                                                                    <a href="javascript:void(0)" class="btn btn-danger" onclick="updateQuantity(@count,0)"><i class="fas fa-times"></i></a>
                                                                                </span>*@
                                                                            <input type="number" class="form-control" id="txtQuantity@(count)" value="@(String.Format("{0:0.##}",item.Quantity))" onchange="updateQuantity(@count)">
                                                                            @*<span class="input-group-append">
                                                                                    <a href="javascript:void(0)" class="btn btn-info" onclick="updateQuantity(@(count),1)"><i class="fas fa-plus"></i></a>
                                                                                </span>*@

                                                                        </div>
                                                                        <small class="text-red font-weight-bold errorText" id="divQuantity@(count)"></small>
                                                                    </td>

                                                                    <td style="min-width: 100px;" class="@(ViewBag.PosSetting.EnableFreeQuantity == true ? "" : "hidden")">
                                                                        <div class="input-group">
                                                                            @*<span class="input-group-append">
                                                                                    <a href="javascript:void(0)" class="btn btn-danger" onclick="updateQuantity(@count,0)"><i class="fas fa-times"></i></a>
                                                                                </span>*@
                                                                            <input type="number" class="form-control" id="txtFreeQuantity@(count)" value="@(String.Format("{0:0.##}",item.FreeQuantity))" onchange="updateQuantity(@count)">
                                                                            @*<span class="input-group-append">
                                                                                    <a href="javascript:void(0)" class="btn btn-info" onclick="updateFreeQuantity(@(count),1)"><i class="fas fa-plus"></i></a>
                                                                                </span>*@
                                                                        </div>
                                                                    </td>
                                                                    @*<td style="min-width:100px" class="@(ViewBag.PosSetting.EnableFreeQuantity == true ? "" : "hidden")">
                                                                            <select class="form-control" id="ddlFreeUnit@(count)" onchange="toggleUnit(@(count))">
                                                                                @{
                                                                                    if (item.QuaternaryUnitId != 0)
                                                                                    {
                                                                                        if (item.PriceAddedFor == 1)
                                                                                        {
                                                                                            <option selected value="@item.UnitId">@item.UnitShortName </option>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="@item.UnitId">@item.UnitShortName </option>
                                                                                        }
                                                                                        if (item.PriceAddedFor == 2)
                                                                                        {
                                                                                            <option value="@item.SecondaryUnitId" selected>@item.SecondaryUnitShortName</option>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="@item.SecondaryUnitId">@item.SecondaryUnitShortName</option>
                                                                                        }
                                                                                        if (item.PriceAddedFor == 3)
                                                                                        {
                                                                                            <option value="@item.TertiaryUnitId" selected>@item.TertiaryUnitShortName</option>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="@item.TertiaryUnitId">@item.TertiaryUnitShortName</option>
                                                                                        }
                                                                                        if (item.PriceAddedFor == 4)
                                                                                        {
                                                                                            <option value="@item.QuaternaryUnitId" selected>@item.QuaternaryUnitShortName</option>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="@item.QuaternaryUnitId">@item.QuaternaryUnitShortName</option>
                                                                                        }
                                                                                    }
                                                                                    else if (item.TertiaryUnitId != 0)
                                                                                    {
                                                                                        <option value="0" hidden>@item.UnitShortName</option>
                                                                                        if (item.PriceAddedFor == 2)
                                                                                        {
                                                                                            <option selected value="@item.UnitId">@item.UnitShortName </option>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="@item.UnitId">@item.UnitShortName </option>
                                                                                        }
                                                                                        if (item.PriceAddedFor == 3)
                                                                                        {
                                                                                            <option value="@item.SecondaryUnitId" selected>@item.SecondaryUnitShortName</option>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="@item.SecondaryUnitId">@item.SecondaryUnitShortName</option>
                                                                                        }
                                                                                        if (item.PriceAddedFor == 4)
                                                                                        {
                                                                                            <option value="@item.TertiaryUnitId" selected>@item.TertiaryUnitShortName</option>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="@item.TertiaryUnitId">@item.TertiaryUnitShortName</option>
                                                                                        }
                                                                                    }
                                                                                    else if (item.SecondaryUnitId != 0)
                                                                                    {
                                                                                        <option value="0" hidden>@item.UnitShortName</option>
                                                                                        <option value="0" hidden>@item.UnitShortName</option>
                                                                                        if (item.PriceAddedFor == 3)
                                                                                        {
                                                                                            <option selected value="@item.UnitId">@item.UnitShortName </option>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="@item.UnitId">@item.UnitShortName </option>
                                                                                        }
                                                                                        if (item.PriceAddedFor == 4)
                                                                                        {
                                                                                            <option value="@item.SecondaryUnitId" selected>@item.SecondaryUnitShortName</option>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="@item.SecondaryUnitId">@item.SecondaryUnitShortName</option>
                                                                                        }
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="0" hidden>@item.UnitShortName</option>
                                                                                        <option value="0" hidden>@item.UnitShortName</option>
                                                                                        <option value="0" hidden>@item.UnitShortName</option>
                                                                                        <option selected value="@item.UnitId">@item.UnitShortName </option>
                                                                                    }
                                                                                }
                                                                            </select>
                                                                        </td>*@
                                                                    <td style="min-width: 100px;">
                                                                        <input type="number" class="form-control" id="txtPurchaseIncTax@(count)" value="@(String.Format("{0:0.##}",item.PriceIncTax))" onchange="updateNetCost(@(count))">
                                                                        <input type="text" hidden class="form-control" id="hdnPurchaseIncTax@(count)" value="@item.PriceIncTax">
                                                                    </td>
                                                                    <td style="min-width:100px">
                                                                        <input type="number" disabled class="form-control" id="txtAmountIncTax@(count)" value="@(String.Format("{0:0.##}",item.AmountIncTax))">
                                                                        <input type="hidden" id="hdnAmountIncTax@(count)" value="@item.AmountIncTax">
                                                                    </td>
                                                                    <td>
                                                                        <a href="javascript:void(0)" class="btn btn-danger" onclick="deleteCombo(@count,@item.SalesDetailsId)" id="Delete" data-toggle="tooltip" data-placement="bottom" title="Delete"><i class="far fa-trash-alt"></i></a>
                                                                        <div class="modal fade" id="itemDetails@(count)">
                                                                            <div class="modal-dialog modal-lg">
                                                                                <div class="modal-content">
                                                                                    <div class="modal-header">
                                                                                        <h4 class="modal-title">@item.ItemName </h4>
                                                                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                                            <span aria-hidden="true">&times;</span>
                                                                                        </button>
                                                                                    </div>
                                                                                    <div class="modal-body">
                                                                                        <div class="row">
                                                                                            <div class="col-md-6">
                                                                                                <div class="form-group">
                                                                                                    <label for="payment_note_1">Unit Cost</label>
                                                                                                    <input type="number" @(ViewBag.PosSetting.SalePriceIsMinSellingPrice == false ? "" : "disabled") class="form-control" id="txtUnitCost@(count)" value="@(String.Format("{0:0.##}",item.UnitCost))" onchange="ChangeQtyAmount(@count)">
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="col-md-6">
                                                                                                <label for="payment_note_1">Discount</label>
                                                                                                <div class="input-group" style="min-width:200px">
                                                                                                    <input @(ViewBag.PosSetting.SalePriceIsMinSellingPrice == false ? "" : "disabled") style="min-width:100px" type="number" class="form-control" id="txtDiscount@(count)" onchange="ChangeQtyAmount(@count)" value="@(String.Format("{0:0.##}",item.Discount))">
                                                                                                    <select @(ViewBag.PosSetting.SalePriceIsMinSellingPrice == false ? "" : "disabled") class="form-control" style="min-width: 100px;" id="ddlDiscountType@(count)" onchange="ChangeQtyAmount(@count)">
                                                                                                        @if (item.DiscountType == "Fixed")
                                                                                                        {
                                                                                                            <option selected value="Fixed">Fixed</option>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <option value="Fixed">Fixed</option>
                                                                                                        }
                                                                                                        @if (item.DiscountType == "Percentage")
                                                                                                        {
                                                                                                            <option selected value="Percentage">Percentage</option>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <option value="Percentage">Percentage</option>
                                                                                                        }
                                                                                                    </select>
                                                                                                    <input type="text" hidden class="form-control" id="hdnExtraDiscounts@(count)" value="@item.ExtraDiscount">
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="col-md-6" style="display:none">
                                                                                                <div class="form-group">
                                                                                                    <label for="payment_note_1">Unit Price (Before Tax)</label>
                                                                                                    <input onKeyPress="onlyNumberKey(event)" type="number" @(ViewBag.PosSetting.SalePriceIsMinSellingPrice == false ? "" : "disabled") class="form-control" value="@(String.Format("{0:0.##}",item.PriceExcTax))" id="txtPurchaseExcTax@(count)" onchange="ChangePurAmount(@count)" min="0" />
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="col-md-6" style="display:none">
                                                                                                <div class="form-group">
                                                                                                    <label for="payment_note_1">Subtotal (Before Tax)</label>
                                                                                                    <input type="number" class="form-control" disabled value="@(String.Format("{0:0.##}",item.AmountExcTax))" id="txtAmountExcTax@(count)" min="0" />
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="col-md-6">
                                                                                                <label for="payment_note_1">Tax</label>
                                                                                                <div class="input-group">
                                                                                                    <select class="form-control" id="ddlTax@(count)" onchange="toggleUnit(@(count))" @(ViewBag.PosSetting.SalePriceIsMinSellingPrice == false ? "" : "disabled")>
                                                                                                        <option value="0">None</option>
                                                                                                        @foreach (var tax in ViewBag.Taxs)
                                                                                                        {
                                                                                                            if (item.TaxId == tax.TaxId)
                                                                                                            {
                                                                                                                <option value="@tax.TaxId-@tax.TaxPercent.ToString("0")" selected>@tax.Tax</option>
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                <option value="@tax.TaxId-@tax.TaxPercent.ToString("0")">@tax.Tax</option>
                                                                                                            }
                                                                                                        }
                                                                                                    </select>
                                                                                                    <input type="number" disabled class="form-control" id="txtTaxAmount@(count)" value="@(String.Format("{0:0.##}",item.TaxAmount))" style="min-width:50px">
                                                                                                    <input type="text" hidden class="form-control" id="txtTaxId@(count)" value="@item.TaxId">
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="col-md-6 @(ViewBag.ItemSetting.EnableWarranty == true ? "" : "hidden")">
                                                                                                <label for="payment_note_1">Warranty</label>
                                                                                                <div class="form-group">
                                                                                                    <select class="form-control" id="ddlWarranty@(count)">
                                                                                                        <option value="0">None</option>
                                                                                                        @foreach (var warranty in ViewBag.Warrantys)
                                                                                                        {
                                                                                                            if (item.WarrantyId == warranty.WarrantyId)
                                                                                                            {
                                                                                                                <option value="@warranty.WarrantyId" selected>@warranty.Warranty</option>
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                <option value="@warranty.WarrantyId">@warranty.Warranty</option>
                                                                                                            }
                                                                                                        }
                                                                                                    </select>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="col-md-6" style="display:@(item.EnableImei == true ? "block" : "none")">
                                                                                                <div class="form-group">
                                                                                                    <label for="payment_note_1">IMEI, Serial number or other informations</label>
                                                                                                    <textarea class="form-control" id="txtOtherInfo@(count)"></textarea>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="modal-footer justify-content-between">
                                                                                        <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Ok</button>
                                                                                        @*<button type="button" class="btn btn-primary" data-dismiss="modal">Save changes</button>*@
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                count++;
                                                            }
                                                        }

                                                    </tbody>
                                                    <tfoot>
                                                        <!-- footer code -->
                                                    </tfoot>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    @if (ViewBag.PosSetting.DisableOrderTax == false)
                                    {
                                        <div class="col-md-3">
                                            <div class="">
                                                <label for="other_charges" class="control-label">
                                                    Order Tax(+):
                                                    <span id="divTax" class="font-weight-normal">
                                                        @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}",ViewBag.Sale.TaxAmount))<i class="fa fa-pencil-square-o cursor-pointer"></i>
                                                    </span>
                                                    <input type="hidden" id="hdndivOrderTax" value="@ViewBag.Sale.TaxAmount" />
                                                    <a href="javascript:void(0)" data-toggle="modal" data-target="#tax"> <i class="fa fa-edit"></i></a>
                                                </label>
                                                @*<div class="">
                                                        <span id="divTax">
                                                            @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}",ViewBag.Sale.TaxAmount))<i class="fa fa-pencil-square-o cursor-pointer"></i>
                                                        </span>
                                                        <input type="hidden" id="hdndivOrderTax" value="@ViewBag.Sale.TaxAmount" />
                                                    </div>*@
                                            </div>
                                        </div>
                                    }
                                    <div class="col-md-3">
                                        <div class="">
                                            <label for="other_charges" class="control-label">
                                                Shipping(+):
                                                <span id="divShippingCharges" class="font-weight-normal">
                                                    @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}",ViewBag.Sale.ShippingCharge)) <i class="fa fa-pencil-square-o cursor-pointer"></i>
                                                </span>
                                                <input type="hidden" id="hdndivShippingCharges" value="@ViewBag.Sale.ShippingCharge" />
                                                <a href="javascript:void(0)" data-toggle="modal" data-target="#shipping"> <i class="fa fa-edit"></i></a>
                                            </label>
                                            @*<div class="">
                                                    <span id="divShippingCharges">
                                                        @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}",ViewBag.Sale.ShippingCharge)) <i class="fa fa-pencil-square-o cursor-pointer"></i>
                                                    </span>
                                                    <input type="hidden" id="hdndivShippingCharges" value="@ViewBag.Sale.ShippingCharge" />
                                                </div>*@
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="">
                                            <label for="other_charges" class="control-label">
                                                Packaging(+):
                                                <span id="divPackagingCharges" class="font-weight-normal">
                                                    @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}",ViewBag.Sale.PackagingCharge)) <i class="fa fa-pencil-square-o cursor-pointer"></i>
                                                </span>
                                                <input type="hidden" id="hdndivPackagingCharges" value="@ViewBag.Sale.PackagingCharge" />
                                                <a href="javascript:void(0)" data-toggle="modal" data-target="#packaging"> <i class="fa fa-edit"></i></a>
                                            </label>
                                            @*<div class="">
                                                    <span id="divPackagingCharges">
                                                        @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}",ViewBag.Sale.PackagingCharge)) <i class="fa fa-pencil-square-o cursor-pointer"></i>
                                                    </span>
                                                    <input type="hidden" id="hdndivPackagingCharges" value="@ViewBag.Sale.PackagingCharge" />
                                                </div>*@
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="">
                                            <label for="other_charges" class="control-label">
                                                Other(+):
                                                <span id="divOtherCharges" class="font-weight-normal">
                                                    @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}",ViewBag.Sale.OtherCharges))<i class="fa fa-pencil-square-o cursor-pointer"></i>
                                                </span>
                                                <input type="hidden" id="hdndivOtherCharges" value="@ViewBag.Sale.OtherCharges" />
                                                <a href="javascript:void(0)" data-toggle="modal" data-target="#other"> <i class="fa fa-edit"></i></a>
                                            </label>
                                            @*<div class="">
                                                    <span id="divOtherCharges">
                                                        @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}",ViewBag.Sale.OtherCharges))<i class="fa fa-pencil-square-o cursor-pointer"></i>
                                                    </span>
                                                    <input type="hidden" id="hdndivOtherCharges" value="@ViewBag.Sale.OtherCharges" />
                                                </div>*@
                                        </div>
                                    </div>
                                </div>
                                @*<hr class="@((ViewBag.PosSetting.EnableSms== true || ViewBag.PosSetting.EnableEmail == true || ViewBag.PosSetting.EnableWhatsapp== true || ViewBag.PosSetting.AllowOnlinePayment==true) ?"":"hidden")" />*@
                                <div class="row @((ViewBag.PosSetting.AllowOnlinePayment==true) ?"":"hidden")">

                                    @*@if (ViewBag.PosSetting.AllowOnlinePayment)
                                        {*@
                                    <div class="col-sm-3 @(ViewBag.PosSetting.AllowOnlinePayment == true ?"":"hidden")">
                                        <div class="form-group">
                                            <label>Send Payment Link  </label>
                                            <div class="input-group">
                                                <select class="form-control" style="width: 100%;" id="ddlOnlinePaymentSettings">
                                                    <option value="0">Dont Send</option>
                                                    @foreach (var item in ViewBag.OnlinePaymentSettings)
                                                    {
                                                        if (ViewBag.Sale.OnlinePaymentSettingsId == item.OnlinePaymentSettingsId)
                                                        {
                                                            <option selected value="@item.OnlinePaymentSettingsId">@item.SaveAs</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@item.OnlinePaymentSettingsId">@item.SaveAs</option>
                                                        }
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    @*}*@
                                    <!-- SMS Sender while saving -->
                                    @*<div class="row">
                                            <div class="col-md-6">
                                                <div class="input-group">
                                                    <label for="other_charges" class="col-sm-7 control-label">Discount<label class="text-danger"><span class="danger">*</span></label></label>

                                                    <div class="col-sm-5">
                                                        <input type="text" class="form-control text-right" id="other_charges" name="other_charges" placeholder="0.00" value="">

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="input-group">
                                                    <label for="other_charges" class="col-sm-7 control-label">Discount Type<label class="text-danger"><span class="danger">*</span></label></label>

                                                    <div class="col-sm-5">
                                                        <select class="form-control">
                                                            <option selected="selected">Walk-In Customer</option>
                                                            <option>Alaska</option>
                                                            <option>California</option>
                                                            <option>Delaware</option>
                                                            <option>Tennessee</option>
                                                            <option>Texas</option>
                                                            <option>Washington</option>
                                                        </select>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>*@

                                </div>

                            </div>
                            <div class="card-footer bg-gray">
                                <div class="row">
                                    <div class="col-md-2 text-right">
                                        <label> Total Quantity:</label><br>
                                        <span class="text-bold tot_qty divTotalQty" id="divTotalQty">
                                            @(String.Format("{0:0.##}",ViewBag.Sale.TotalQuantity))
                                        </span>
                                    </div>
                                    <div class="col-md-2 text-right">
                                        <label>Gross Amount:</label><br>
                                        <span style="font-size: 19px;" class="tot_amt text-bold divTotalAmount">
                                            @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}",ViewBag.Sale.Subtotal))
                                        </span>
                                        <input type="hidden" id="hdndivTotalAmount" value="@ViewBag.Sale.Subtotal" />
                                    </div>
                                    @if (ViewBag.PosSetting.DisableDicount == false)
                                    {
                                        <div class="col-md-2 text-right">
                                            <label>Total Discount:<a href="javascript:void(0)" data-toggle="modal" data-target="#discount"> <i class="fa fa-edit"></i></a></label><br>
                                            <span style="font-size: 19px;" class="tot_disc text-bold divDiscount" id="divDiscount">
                                                @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}",ViewBag.Sale.TotalDiscount))
                                            </span>
                                            <input type="hidden" id="hdndivDiscount" value="@ViewBag.Sale.TotalDiscount" />
                                        </div>
                                    }
                                    <div class="col-md-2 text-right">
                                        <label>Net Amount:</label><br>
                                        <span style="font-size: 19px;" class="tot_grand text-bold divNetAmount" id="divNetAmount">
                                            @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}",ViewBag.Sale.NetAmount))
                                        </span>
                                    </div>
                                    @if (ViewBag.PosSetting.EnableRoundOff == true)
                                    {
                                        <div class="col-md-2 text-right">
                                            <label>Round Off :</label><br>
                                            <span style="font-size: 19px;" class="tot_amt text-bold" id="divRoundOff">
                                                @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}",ViewBag.Sale.RoundOff))
                                            </span>
                                            <input type="hidden" id="hdndivTotalAmount" />
                                        </div>
                                    }
                                    <div class="col-md-2 text-right">
                                        <label>Grand Total:</label><br>
                                        <span style="font-size: 19px;" class="tot_grand text-bold divGrandTotal" id="divGrandTotal">
                                            @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}",ViewBag.Sale.GrandTotal))
                                        </span>
                                    </div>
                                </div>

                                @*<div class="row">
                                        <div class="col-md-3">

                                            <button type="button" id="hold_invoice" name="" class="btn bg-maroon btn-block btn-flat btn-lg" title="Hold Invoice [Ctrl+H]" data-toggle="modal" data-target="#modal-hold">
                                                <i class="fa fa-hand-paper-o" aria-hidden="true"></i>
                                                Hold
                                            </button>
                                        </div>
                                        <div class="col-md-3">
                                            <button type="button" id="" name="" class="btn btn-primary btn-block btn-flat btn-lg show_payments_modal" title="Multiple Payments [Ctrl+M]" onclick="openModal(1)">
                                                <i class="fa fa-credit-card" aria-hidden="true"></i>
                                                Multiple
                                            </button>
                                        </div>
                                        <div class="col-md-3">
                                            <button type="button" id="show_cash_modal" name="" class="btn btn-success btn-block btn-flat btn-lg ctrl_c" title="By Cash &amp; Save [Ctrl+C]" onclick="openModal(0)">
                                                <i class="fa fa-money" aria-hidden="true"></i>
                                                Pay All
                                            </button>
                                        </div>

                                        <div class="col-sm-3">
                                            <button onclick="goBack()" type="button" id="btnCancel" name="" class="btn bg-danger btn-block btn-flat btn-lg ctrl_a" title="Cancel & Create New[Ctrl+A]">
                                                <i class="fa md-money" aria-hidden="true"></i>
                                                Cancel
                                            </button>
                                        </div>


                                    </div>*@

                                <div class="row" style="text-align:center;display:block">
                                    @{
                                        @*if (ViewBag.PosSetting.DisableDraft == false)
                                        {
                                            <button onclick="update('Draft','')" type="button" id="btnDraft" name="" class="font-weight-bold btn btn-app btn-outline-primary" title="Hold Invoice [Ctrl+H]">
                                                <i class="fa fa-hand-paper-o" aria-hidden="true"></i>
                                                Draft
                                            </button>
                                        }
                                        if (ViewBag.PosSetting.DisableQuotation == false)
                                        {
                                            <button onclick="update('Quotation','')" type="button" id="btnQuotation" name="" class="font-weight-bold btn btn-app btn-outline-primary" title="Hold Invoice [Ctrl+H]">
                                                <i class="fa fa-hand-paper-o" aria-hidden="true"></i>
                                                Quotation
                                            </button>
                                        }
                                        if (ViewBag.PosSetting.DisableProforma == false)
                                        {
                                            <button onclick="update('Proforma','')" type="button" id="btnProforma" name="" class="font-weight-bold btn btn-app btn-outline-primary" title="Hold Invoice [Ctrl+H]">
                                                <i class="fa fa-hand-paper-o" aria-hidden="true"></i>
                                                Proforma
                                            </button>
                                        }*@
                                        if (ViewBag.PosSetting.DisableCreditSale == false)
                                        {
                                            <button onclick="update('Credit','')" type="button" id="btnCreditSale" name="" class="font-weight-bold btn btn-app btn-outline-primary bg-purple" title="Hold Invoice [Ctrl+H]">
                                                <i class="fa fa-hand-paper-o" aria-hidden="true"></i>
                                                Credit Sale
                                            </button>
                                        }
                                        if (ViewBag.PosSetting.DisableHold == false)
                                        {
                                            <button type="button" id="btnHold" name="" class="font-weight-bold btn btn-app btn-outline-primary bg-warning" title="Hold Invoice [Ctrl+H]" onclick="ValidateStock('Credit','','modal-hold')">
                                                <i class="fa fa-hand-paper-o" aria-hidden="true"></i>
                                                Hold
                                            </button>
                                        }
                                        if (ViewBag.PosSetting.DisableMultiplePay == false)
                                        {
                                            <button type="button" id="btnMultiple" name="" class="font-weight-bold btn btn-app btn-outline-primary bg-success show_payments_modal" title="Multiple Payments [Ctrl+M]" onclick="ValidateStock('Credit','','modal-multiple')">
                                                @*<i class="fa fa-credit-card" aria-hidden="true"></i>*@
                                                Pay
                                            </button>
                                        }
                                        if (ViewBag.PosSetting.DisableExpressCheckout == false)
                                        {
                                            foreach (var item in ViewBag.PaymentTypes)
                                            {
                                                if (item.IsAdvance == false)
                                                {
                                                    if (item.IsPosShown == true)
                                                    {
                                                        <button onclick="updateDirect('Final',@item.PaymentTypeId)" type="button" id="btnPaymentType@(item.PaymentTypeId)" name="" class="font-weight-bold btn btn-app btn-outline-primary bg-info ctrl_c" title="By Cash &amp; Save [Ctrl+C]">
                                                            <i class="fa fa-money" aria-hidden="true"></i>
                                                            @item.PaymentType
                                                        </button>
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    <button onclick="cancel()" type="button" id="btnCancel" name="" class="font-weight-bold btn btn-app btn-outline-danger bg-danger ctrl_a" title="Cancel & Create New[Ctrl+A]">
                                        <i class="fa md-money" aria-hidden="true"></i>
                                        New
                                    </button>
                                </div>
                            </div>
                        </div>


                    </div>
                    <div class="@(ViewBag.PosSetting.DontShowProductSuggestion == true ? "hidden":"col-md-4")">
                        <!-- jquery validation -->
                        <div class="card card-primary card-outline">
                            <div class="card-body">

                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <select class="form-control select2" style="width: 100%;" id="ddlCategory" onchange="ItemsPos()">
                                                    <option value="0">Select a Category</option>
                                                    @{
                                                        foreach (var item in ViewBag.Categories)
                                                        {
                                                            <option value="@(item.CategoryId)_@item.Type">@item.Category</option>
                                                        }
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <select class="form-control select2" style="width: 100%;" id="ddlBrand" onchange="ItemsPos()">
                                                    <option value="0">Select a Brand</option>
                                                    @foreach (var item in ViewBag.Brands)
                                                    {
                                                        <option value="@item.BrandId">@item.Brand</option>
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div><!-- row end -->

                                <div style="height: 78vh; overflow-y: auto; overflow-x: hidden">
                                    <div class="row" id="divPartialItemsPos">
                                        @Html.Partial("PartialItemsPos")
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="modal-hold">
                <div class="modal-dialog modal-hold">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Hold Invoice</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <textarea id="txtHoldReason" class="form-control" placeholder="Reason"></textarea>
                            @*<input type="text" class="form-control" id="txtHoldReason" placeholder="Reason">*@
                        </div>
                        <div class="modal-footer justify-content-between">
                            <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                            <button type="button" class="btn btn-primary" onclick="update('Hold','')">Hold</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <div class="modal fade" id="modal-multiple">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Payments</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">

                            <div class="row">
                                <!-- LEFT HAND -->
                                <div class="col-md-8">
                                    <div>
                                        <div class="col-md-12" id="payments_div">
                                            <div class="">
                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Advance Balance</label>
                                                            <span id="txtAdvBalance">
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            @{
                                                var paymentCount = 100000;
                                                foreach (var item in ViewBag.Sale.Payments)
                                                {
                                                    <div class="card card-solid bg-gray-light" id="divMultiplePayments@(paymentCount)">
                                                        <div class="card-body">
                                                            <div style="display:block;text-align:right">
                                                                <a href="javascript:void(0)" class="btn btn-danger" onclick="deletePayment(@item.PaymentId,@paymentCount)" id="Delete" data-toggle="tooltip" data-placement="bottom" title="Delete"><i class="far fa-trash-alt"></i></a>
                                                            </div>

                                                            <div class="row">
                                                                <div class="col-md-4">
                                                                    <div class="">
                                                                        <label for="amount_@(paymentCount)">Amount <span class="danger">*</span></label>
                                                                        <input type="number" class="form-control text-right payment" id="txtMultipleAmount@(paymentCount)" name="amount_@(paymentCount)" placeholder="" onchange="calculate_payments(@(paymentCount))" value="@item.Amount">
                                                                        <span id="amount_@(paymentCount)_msg" style="display:none" class="text-danger"></span>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <div class="form-group">
                                                                        <label>Payment Method <span class="danger">*</span></label>
                                                                        <select class="form-control" style="width: 100%;" id="ddlMultiplePaymentType@(paymentCount)">
                                                                            @foreach (var inner in ViewBag.PaymentTypes)
                                                                            {
                                                                                if (item.PaymentTypeId == inner.PaymentTypeId)
                                                                                {
                                                                                    <option value="@inner.PaymentTypeId" selected>@inner.PaymentType</option>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <option value="@inner.PaymentTypeId">@inner.PaymentType</option>
                                                                                }

                                                                            }
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-sm-4 @(ViewBag.IsAccountsAddon == true ? "" : "hidden")">
                                                                    <div class="form-group">
                                                                        <label>Deposit To </label>
                                                                        <select class="form-control select2" style="width: 100%;" id="ddlAccount@(paymentCount)">
                                                                            <option value="0">Select</option>
                                                                            @{
                                                                                if (ViewBag.Accounts != null)
                                                                                {
                                                                                    foreach (var item1 in ViewBag.AccountSubTypes)
                                                                                    {
                                                                                        if (item1.Accounts.Count > 0)
                                                                                        {
                                                                                            <optgroup label="@item1.DisplayAs">
                                                                                                @foreach (var inner in item1.Accounts)
                                                                                                {
                                                                                                    if (item.AccountId == inner.AccountId)
                                                                                                    {
                                                                                                        <option value="@inner.AccountId" selected>@inner.DisplayAs </option>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                                                                    }
                                                                                                }
                                                                                            </optgroup>
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                @*@if (ViewBag.AccountsPermission.IsView == true)
                                                                    {
                                                                        <div class="col-sm-4">
                                                                            <div class="form-group">
                                                                                <label>Account </label>
                                                                                <select class="form-control select2" style="width: 100%;" id="ddlAccount@(paymentCount)">
                                                                                    <option value="0">Select</option>
                                                                                    @{
                                                                                        if (ViewBag.Accounts != null)
                                                                                        {
                                                                                            foreach (var inner in ViewBag.Accounts)
                                                                                            {
                                                                                                if (item.AccountId == inner.AccountId)
                                                                                                {
                                                                                                    <option value="@inner.AccountId" selected>@inner.AccountName - @inner.AccountNumber</option>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <option value="@inner.AccountId">@inner.AccountName - @inner.AccountNumber</option>
                                                                                                }

                                                                                            }
                                                                                        }
                                                                                    }
                                                                                </select>
                                                                            </div>
                                                                        </div>
                                                                    }*@
                                                                <div class="col-md-4">
                                                                    <div class="">
                                                                        <label for="payment_note_@(paymentCount)">Payment Note</label>
                                                                        <textarea type="text" class="form-control" id="txtMultipleNotes@(paymentCount)" name="payment_note_@(paymentCount)" placeholder="">@item.Notes</textarea>
                                                                        <span id="payment_note_@(paymentCount)_msg" style="display:none" class="text-danger"></span>
                                                                    </div>
                                                                </div>

                                                                <div class="clearfix"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    paymentCount++;
                                                }
                                            }
                                        </div>
                                        <div class="row col-md-12 divChangeReturn @(ViewBag.Sale.ChangeReturn == 0 ? "hidden":"")">
                                            <div class="col-md-6 ">
                                                <div class="form-group">
                                                    <label>Change Return Payment Method <span class="danger">*</span></label>
                                                    <select class="form-control" style="width: 100%;" id="ddlChangeReturnPaymentType">
                                                        @{
                                                            long PaymentTypeId = 0;
                                                            if (ViewBag.Sale.ChangeReturnPayment == null)
                                                            {
                                                                PaymentTypeId = 0;
                                                            }
                                                            else
                                                            {
                                                                PaymentTypeId = ViewBag.Sale.ChangeReturnPayment.PaymentTypeId;
                                                            }

                                                            foreach (var item in ViewBag.PaymentTypes)
                                                            {
                                                                if (item.PaymentType != "Advance")
                                                                {
                                                                    if (PaymentTypeId == item.PaymentTypeId)
                                                                    {
                                                                        <option value="@item.PaymentTypeId" selected>@item.PaymentType</option>
                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@item.PaymentTypeId">@item.PaymentType</option>
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-sm-6 @(ViewBag.IsAccountsAddon == true ? "" : "hidden")">
                                                <div class="form-group">
                                                    <label>Change Return Account </label>
                                                    <select class="form-control select2" style="width: 100%;" id="ddlChangeReturnAccount">
                                                        <option value="0">Select</option>
                                                        @{
                                                            if (ViewBag.Accounts != null)
                                                            {
                                                                long AccountId = 0;
                                                                if (ViewBag.Sale.ChangeReturnPayment == null)
                                                                {
                                                                    AccountId = 0;
                                                                }
                                                                else
                                                                {
                                                                    AccountId = ViewBag.Sale.ChangeReturnPayment.AccountId;
                                                                }
                                                                foreach (var item in ViewBag.AccountSubTypes)
                                                                {
                                                                    if (item.Accounts.Count > 0)
                                                                    {
                                                                        <optgroup label="@item.DisplayAs">
                                                                            @foreach (var inner in item.Accounts)
                                                                            {
                                                                                if (AccountId == inner.AccountId)
                                                                                {
                                                                                    <option value="@inner.AccountId" selected>@inner.DisplayAs </option>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <option value="@inner.AccountId">@inner.DisplayAs</option>
                                                                                }
                                                                            }
                                                                        </optgroup>
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="col-md-12">
                                                <div class="col-md-12" style="display: block;">
                                                    <button type="button" class="btn btn-primary btn-block" id="add_payment_row" onclick="addNewPayment()">Add Payment Row</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div><!-- col-md-9 -->
                                <!-- RIGHT HAND -->
                                <div class="col-md-4">
                                    <div class="col-md-12">

                                        <div class="card card-solid">
                                            <div class="card-body">
                                                <div class="row ">
                                                    <div class="col-md-12 text-center btn-block bg-primary btn-lg rounded-0">
                                                        <span class="col-md-6 text-right text-bold ">Total Items:</span>
                                                        <span class="col-md-6 text-right text-bold  custom-font-size sales_div_tot_qty divTotalQty">@ViewBag.Sale.TotalQuantity</span>
                                                    </div>
                                                </div>

                                                @*<div class="row ">
                                                        <div class="col-md-12 text-center btn-block bg-primary btn-lg rounded-0">
                                                            <span class="col-md-6 text-right text-bold ">Total:</span>
                                                            <span class="col-md-6 text-right text-bold  custom-font-size sales_div_tot_amt divTotalAmount">@ViewBag.Sale.GrandTotal</span>
                                                        </div>
                                                    </div>*@
                                                <!--  -->
                                                @*<div class="row ">
                                                        <div class="col-md-12 text-center btn-block bg-primary btn-lg rounded-0">
                                                            <span class="col-md-6 text-right text-bold ">Discount(-):</span>
                                                            <span class="col-md-6 text-right text-bold  custom-font-size sales_div_tot_discount divDiscount">@ViewBag.Sale.TotalDiscount</span>
                                                        </div>
                                                    </div>*@
                                                <!--  -->
                                                <div class="row">
                                                    <div class="col-md-12 text-center btn-block bg-danger btn-lg rounded-0">
                                                        <span class="col-md-6 text-right text-bold ">Total Payable:</span>
                                                        <span class="col-md-6 text-right text-bold  custom-font-size sales_div_tot_payble divGrandTotal">
                                                            @{
                                                                if (Request.Cookies["BusinessSetting"].Value.Split('&')[2].Split('=')[1] == "1")
                                                                {
                                                                    @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}", ViewBag.Sale.GrandTotal))
                                                                }
                                                                else
                                                                {
                                                                    @(String.Format("{0:0.##}", ViewBag.Sale.GrandTotal))@Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]
                                                                }
                                                            }
                                                        </span>
                                                    </div>
                                                </div>
                                                <!--  -->
                                                @{
                                                    //decimal totaPaying = 0;
                                                    <div class="row ">
                                                        <div class="col-md-12  text-center btn-block bg-primary btn-lg rounded-0">
                                                            <span class="col-md-6 text-right text-bold ">Total Paying:</span>
                                                            <span class="col-md-6 text-right text-bold  custom-font-size TotalPaying" id="TotalPaying">
                                                                @*@foreach (var item in ViewBag.Sale.Payments)
                                                                    {
                                                                        totaPaying = totaPaying + item.Amount;
                                                                    }*@
                                                                @{
                                                                    if (Request.Cookies["BusinessSetting"].Value.Split('&')[2].Split('=')[1] == "1")
                                                                    {
                                                                        @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}", ViewBag.Sale.TotalPaying))
                                                                    }
                                                                    else
                                                                    {
                                                                        @(String.Format("{0:0.##}", ViewBag.Sale.TotalPaying))@Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]
                                                                    }
                                                                }
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <!--  -->
                                                    <!--  -->

                                                    <!--  -->
                                                    <div class="row ">
                                                        <div class="col-md-12  text-center btn-block bg-warning btn-lg rounded-0">
                                                            <span class="col-md-6 text-right text-bold ">Change Return:</span>
                                                            @*<span class="col-md-6 text-right text-bold  custom-font-size ChangeReturn" id="ChangeReturn">@(totaPaying > ViewBag.Sale.GrandTotal ? (totaPaying - ViewBag.Sale.GrandTotal) : 0 )</span>*@
                                                            <span class="col-md-6 text-right text-bold  custom-font-size ChangeReturn" id="ChangeReturn">
                                                                @{
                                                                    if (Request.Cookies["BusinessSetting"].Value.Split('&')[2].Split('=')[1] == "1")
                                                                    {
                                                                        @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}", ViewBag.Sale.ChangeReturn))
                                                                    }
                                                                    else
                                                                    {
                                                                        @(String.Format("{0:0.##}", ViewBag.Sale.ChangeReturn))@Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]
                                                                    }
                                                                }
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <!--  -->
                                                    <div class="row ">
                                                        <div class="col-md-12 text-center btn-block bg-primary btn-lg rounded-0">
                                                            <span class="col-md-6 text-right text-bold ">Balance:</span>
                                                            <span class="col-md-6 text-right text-bold  custom-font-size Balance" id="Balance">
                                                                @{
                                                                    if (Request.Cookies["BusinessSetting"].Value.Split('&')[2].Split('=')[1] == "1")
                                                                    {
                                                                        @Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]@(String.Format("{0:0.##}", ViewBag.Sale.Balance))
                                                                    }
                                                                    else
                                                                    {
                                                                        @(String.Format("{0:0.##}", ViewBag.Sale.Balance))@Request.Cookies["data"].Value.Split('&')[5].Split('=')[1]
                                                                    }
                                                                }
                                                                @*@(ViewBag.Sale.GrandTotal > totaPaying ? (ViewBag.Sale.GrandTotal - totaPaying) : 0 )*@
                                                            </span>
                                                        </div>
                                                    </div>
                                                }

                                            </div>
                                            <!-- /.card-body -->
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="modal-footer justify-content-between">
                            <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                            <button type="button" class="btn btn-primary" onclick="update('Final','Multiple')" id="btnFinalise">Finalize Payment</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <div class="modal fade" id="modal-cash">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Payments</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">

                            <div class="row">
                                <!-- LEFT HAND -->
                                <div class="col-md-8">
                                    <div>

                                        <div class="col-md-12 ">
                                            <div class="card card-solid bg-gray-light">
                                                <div class="card-body">
                                                    <div class="row">

                                                        <div class="col-md-6">
                                                            <div class="">
                                                                <label for="amount_1">Amount <span class="danger">*</span></label>
                                                                <input type="text" class="form-control text-right payment" id="txtSingleAmount" name="amount_1" placeholder="" onchange="calculate_payments(0)">
                                                                <span id="amount_1_msg" style="display:none" class="text-danger"></span>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label>Payment Method <span class="danger">*</span></label>
                                                                <select class="form-control" style="width: 100%;" id="ddlSinglePaymentType">
                                                                    @foreach (var item in ViewBag.PaymentTypes)
                                                                    {
                                                                        <option value="@item.PaymentTypeId">@item.PaymentType</option>
                                                                    }
                                                                </select>
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="">
                                                                <label for="payment_note_1">Payment Note</label>
                                                                <textarea type="text" class="form-control" id="txtSingleNotes" name="payment_note_1" placeholder=""></textarea>
                                                                <span id="payment_note_1_msg" style="display:none" class="text-danger"></span>
                                                            </div>
                                                        </div>

                                                        <div class="clearfix"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div><!-- col-md-12 -->
                                    </div>
                                </div><!-- col-md-9 -->
                                <!-- RIGHT HAND -->
                                <div class="col-md-4">

                                    <div class="col-md-12">

                                        <div class="card card-solid">
                                            <div class="card-body">
                                                <div class="row ">
                                                    <div class="col-md-12 text-center btn-block bg-primary btn-lg rounded-0">
                                                        <span class="col-md-6 text-right text-bold ">Total Items:</span>
                                                        <span class="col-md-6 text-right text-bold  custom-font-size sales_div_tot_qty divTotalQty">1</span>
                                                    </div>
                                                </div>

                                                <div class="row ">
                                                    <div class="col-md-12 text-center btn-block bg-primary btn-lg rounded-0">
                                                        <span class="col-md-6 text-right text-bold ">Total:</span>
                                                        <span class="col-md-6 text-right text-bold  custom-font-size sales_div_tot_amt divTotalAmount">0</span>
                                                    </div>
                                                </div>
                                                <!--  -->
                                                <div class="row ">
                                                    <div class="col-md-12 text-center btn-block bg-primary btn-lg rounded-0">
                                                        <span class="col-md-6 text-right text-bold ">Discount(-):</span>
                                                        <span class="col-md-6 text-right text-bold  custom-font-size sales_div_tot_discount divDiscount">0</span>
                                                    </div>
                                                </div>
                                                <!--  -->
                                                <div class="row">
                                                    <div class="col-md-12 text-center btn-block bg-danger btn-lg rounded-0">
                                                        <span class="col-md-6 text-right text-bold ">Total Payable:</span>
                                                        <span class="col-md-6 text-right text-bold  custom-font-size divGrandTotal">0</span>
                                                    </div>
                                                </div>
                                                <!--  -->
                                                <div class="row ">
                                                    <div class="col-md-12  text-center btn-block bg-primary btn-lg rounded-0">
                                                        <span class="col-md-6 text-right text-bold ">Total Paying:</span>
                                                        <span class="col-md-6 text-right text-bold  custom-font-size TotalPaying">0</span>
                                                    </div>
                                                </div>
                                                <!--  -->
                                                <!--  -->
                                                <div class="row ">
                                                    <div class="col-md-12 text-center btn-block bg-primary btn-lg rounded-0">
                                                        <span class="col-md-6 text-right text-bold ">Balance:</span>
                                                        <span class="col-md-6 text-right text-bold  custom-font-size Balance">0</span>
                                                    </div>
                                                </div>
                                                <!--  -->
                                                <div class="row ">
                                                    <div class="col-md-12  text-center btn-block bg-warning btn-lg rounded-0">
                                                        <span class="col-md-6 text-right text-bold ">Change Return:</span>
                                                        <span class="col-md-6 text-right text-bold  custom-font-size ChangeReturn">0</span>
                                                    </div>
                                                </div>
                                                <!--  -->

                                            </div>
                                            <!-- /.card-body -->
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="modal-footer justify-content-between">
                            <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left: auto">Close</button>
                            <button type="button" class="btn btn-primary" onclick="insert('','Single')" id="btnFinalise">Finalize Payment</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <div class="modal fade" id="recentTransactionsModal">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Recent Transactions</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-12">
                                    <div class="card card-primary card-outline card-outline-tabs">
                                        @*<div class="card-header p-0 border-bottom-0">
                                            <ul class="nav nav-tabs" id="custom-tabs-four-tab" role="tablist">
                                                <li class="nav-item">
                                                    <a class="nav-link active" id="custom-tabs-four-home-tab" data-toggle="pill" href="#custom-tabs-four-home" role="tab" aria-controls="custom-tabs-four-home" aria-selected="true">Final</a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" id="custom-tabs-four-profile-tab" data-toggle="pill" href="#custom-tabs-four-profile" role="tab" aria-controls="custom-tabs-four-profile" aria-selected="false">Draft</a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" id="custom-tabs-four-messages-tab" data-toggle="pill" href="#custom-tabs-four-messages" role="tab" aria-controls="custom-tabs-four-messages" aria-selected="false">Quotation</a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" id="custom-tabs-four-settings-tab" data-toggle="pill" href="#custom-tabs-four-settings" role="tab" aria-controls="custom-tabs-four-settings" aria-selected="false">Proforma</a>
                                                </li>
                                            </ul>
                                        </div>*@
                                        <div class="card-body">
                                            <div class="tab-content" id="custom-tabs-four-tabContent">
                                                @Html.Partial("PartialRecentTransactions")
                                            </div>
                                        </div>
                                        <!-- /.card -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        @*<div class="modal-footer justify-content-between">
                                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                                <button type="button" class="btn btn-primary" onclick="insertState()">Save changes</button>
                            </div>*@
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <div class="modal fade" id="PartialCashRegisterModal">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content" id="divPartialCashRegister">
                        @Html.Partial("PartialCashRegister")
                        <!-- /.modal-dialog -->
                    </div>
                </div>
            </div>

        </section>
        @*<footer class="main-footer">
                <strong>Copyright &copy; 2014-2021 <a href="https://adminlte.io">AdminLTE.io</a>.</strong>
                All rights reserved.
                <div class="float-right d-none d-sm-inline-block">
                    <b>Version</b> 3.1.0
                </div>
            </footer>*@
        <!-- Control Sidebar -->
        <aside class="control-sidebar control-sidebar-dark">
            <!-- Control sidebar content goes here -->
        </aside>
        <!-- /.control-sidebar -->
    </div>

    <div class="modal fade" id="shipping">
        <div class="modal-dialog  modal-l">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Shipping Details</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        @*<div class="col-md-6">
                                <div class="">
                                    <label for="payment_note_1">Shipping Details</label>
                                    <textarea type="text" class="form-control" id="txtShippingDetails" name="payment_note_1" placeholder="">@ViewBag.Sale.ShippingDetails</textarea>

                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="">
                                    <label for="payment_note_1">Shipping Address</label>
                                    <textarea type="text" class="form-control" id="txtShippingAddress" name="payment_note_1" placeholder="">@ViewBag.Sale.ShippingAddress</textarea>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="">
                                    <label for="payment_note_1">Shipping Status</label>
                                    <select class="form-control" style="width: 100%;" id="ddlShippingStatus">
                                        @{
                                            if (ViewBag.Sale.ShippingStatus == "Ordered")
                                            {
                                                <option selected="selected">Ordered</option>
                                            }
                                            else
                                            {
                                                <option>Ordered</option>
                                            }
                                            if (ViewBag.Sale.ShippingStatus == "Packed")
                                            {
                                                <option>Packed</option>
                                            }
                                            else
                                            {
                                                <option>Packed</option>
                                            }
                                            if (ViewBag.Sale.ShippingStatus == "Shipped")
                                            {
                                                <option>Shipped</option>
                                            }
                                            else
                                            {
                                                <option>Shipped</option>
                                            }
                                            if (ViewBag.Sale.ShippingStatus == "Delivered")
                                            {
                                                <option>Delivered</option>
                                            }
                                            else
                                            {
                                                <option>Delivered</option>
                                            }
                                            if (ViewBag.Sale.ShippingStatus == "Cancelled")
                                            {
                                                <option>Cancelled</option>
                                            }
                                            else
                                            {
                                                <option>Cancelled</option>
                                            }
                                        }
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="">
                                    <label for="payment_note_1">Delivered To</label>
                                    <input type="email" class="form-control" id="txtDeliveredTo" placeholder="" value="@ViewBag.Sale.DeliveredTo">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label>Shipping Document</label>
                                    <div class="custom-file">
                                        <input type="file" id="ShippingDocument" class="custom-file-input" accept='image/*' onchange="getShippingDocumentBase64()">
                                        <label class="custom-file-label" for="Logo">Choose file</label>
                                    </div>
                                    <img id="blahShippingDocument" src="@ViewBag.Sale.ShippingDocument" alt="" height="60" style="padding-top:10px;">
                                </div>
                            </div>*@
                        <div class="col-md-6">
                            <div class="">
                                <label for="payment_note_1">Shipping Charge</label>
                                <input type="number" class="form-control" id="txtShippingCharge" placeholder="" onchange="discallcalc()" value="@ViewBag.Sale.ShippingCharge">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Ok</button>
                    @*<button type="button" class="btn btn-primary" data-dismiss="modal">Save changes</button>*@
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <div class="modal fade" id="tax">
        <div class="modal-dialog ">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Tax</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="">
                                <label for="payment_note_1">Tax</label>
                                <select class="form-control select2" style="width: 100%;" id="ddlTax" onchange="discallcalc()">
                                    <option value="0">None</option>
                                    @foreach (var item in ViewBag.Taxs)
                                    {
                                        if (ViewBag.Sale.TaxId == item.TaxId)
                                        {
                                            <option value="@item.TaxId-@item.TaxPercent.ToString("0")" selected>@item.Tax</option>
                                        }
                                        else
                                        {
                                            <option value="@item.TaxId-@item.TaxPercent.ToString("0")">@item.Tax</option>
                                        }
                                    }
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Ok</button>
                    @*<button type="button" class="btn btn-primary" data-dismiss="modal">Save changes</button>*@
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <div class="modal fade" id="other">
        <div class="modal-dialog ">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Other Charges</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">

                        <div class="col-md-6">
                            <div class="">
                                <label for="payment_note_1">Other Charges</label>
                                <input type="number" class="form-control" id="txtOtherCharges" placeholder="" onchange="discallcalc()" value="@ViewBag.Sale.OtherCharges">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Ok</button>
                    @*<button type="button" class="btn btn-primary" data-dismiss="modal">Save changes</button>*@
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <div class="modal fade" id="packaging">
        <div class="modal-dialog ">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Packaging Charges</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">

                        <div class="col-md-6">
                            <div class="">
                                <label for="payment_note_1">Packaging Charges</label>
                                <input type="number" class="form-control" id="txtPackagingCharge" placeholder="" onchange="discallcalc()" value="@ViewBag.Sale.PackagingCharge">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Ok</button>
                    @*<button type="button" class="btn btn-primary" data-dismiss="modal">Save changes</button>*@
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <div class="modal fade" id="discount">
        <div class="modal-dialog ">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Discount</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">

                        <div class="col-md-6">
                            <div class="">
                                <label for="payment_note_1">Discount On All</label>
                                <input type="number" class="form-control" id="txtDiscAll" placeholder="" onchange="updateExtraDiscounts()" value="@ViewBag.Sale.Discount">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="">
                                <label for="payment_note_1">Discount Type</label>
                                <select class="form-control" style="width: 100%;" id="ddlDiscAll" onchange="updateExtraDiscounts()">
                                    @{
                                        if (ViewBag.Sale.DiscountType == "Fixed")
                                        {
                                            <option value="Fixed" selected>Fixed</option>
                                        }
                                        else
                                        {
                                            <option value="Fixed">Fixed</option>
                                        }
                                        if (ViewBag.Sale.DiscountType == "Percentage")
                                        {
                                            <option value="Percentage" selected>Percentage</option>
                                        }
                                        else
                                        {
                                            <option value="Percentage">Percentage</option>
                                        }
                                    }
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Ok</button>
                    @*<button type="button" class="btn btn-primary" data-dismiss="modal">Save changes</button>*@
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <div class="modal fade" id="CustomerModal">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Add New Customer</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-sm-3">
                            <!-- text input -->
                            <div class="form-group">
                                <label>Customer Code <i tabindex="0" class="fa fa-info-circle text-info hover-q no-print @(Request.Cookies["SystemSetting"].Value.Split('&')[0].Split('=')[1] == "True" ? "":"hidden")" role="button" data-toggle="popover" data-trigger="focus" title="" data-content="Leave blank to auto generate"></i></label>
                                <input type="text" class="form-control" id="txtUsername" placeholder="">
                                <small class="text-red font-weight-bold errorText" id="divUsername_M"></small>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <!-- text input -->
                            <div class="form-group">
                                <label>Name <span class="danger">*</span></label>
                                <input type="text" class="form-control" id="txtName" placeholder="" onchange="setName()">
                                <small class="text-red font-weight-bold errorText" id="divName"></small>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <!-- text input -->
                            <div class="form-group">
                                <label>Mobile <span class="danger">*</span></label>
                                <div class="input-group">
                                    @*<span class="input-group-append">
                                            <a href="javascript:void(0)" class="btn bg-gray-light"> @Request.Cookies["data"].Value.Split('&')[6].Split('=')[1] </a>
                                        </span>*@
                                    <input type="text" class="form-control" id="txtMobileNo" placeholder="" onkeypress="return onlyNumberKey(event)" maxlength="10" onchange="setMobile()">
                                </div>
                                <small class="text-red font-weight-bold errorText" id="divMobileNo"></small>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <!-- text input -->
                            <div class="form-group">
                                <label>Email</label>
                                <input type="text" class="form-control" id="txtEmailId" placeholder="" onchange="setEmail()">
                                <small class="text-red font-weight-bold errorText" id="divEmailId_M"></small>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-sm-3">
                            <!-- text input -->
                            <div class="form-group">
                                <label>Alternative Mobile</label>
                                <div class="input-group">
                                    @*<span class="input-group-append">
                        <a href="javascript:void(0)" class="btn bg-gray-light"> @Request.Cookies["data"].Value.Split('&')[6].Split('=')[1] </a>
                    </span>*@
                                    <input type="text" class="form-control" id="txtAltMobileNo" placeholder="" onkeypress="return onlyNumberKey(event)" maxlength="10" onchange="setAlternativeMobile()">
                                </div>
                                <small class="text-red font-weight-bold errorText" id="divAltMobileNo"></small>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <!-- text input -->
                            <div class="form-group">
                                <label>Business Name </label>
                                <input type="text" class="form-control" id="txtBusinessName" placeholder="">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <!-- text input -->
                            <div class="form-group">
                                <label>Date of Birth</label>
                                <div class="input-group date" id="_DOB" data-target-input="nearest">
                                    <input id="txtDOB" type="text" class="form-control datetimepicker-input" data-target="#_DOB" />
                                    <div class="input-group-append" data-target="#_DOB" data-toggle="datetimepicker">
                                        <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                                    </div>
                                </div>

                                @*<input type="date" class="form-control" id="txtDOB">*@
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <!-- text input -->
                            <div class="form-group">
                                <label>Joining Date</label>
                                <div class="input-group date" id="_JoiningDate" data-target-input="nearest">
                                    <input id="txtJoiningDate" type="text" class="form-control datetimepicker-input" data-target="#_JoiningDate" />
                                    <div class="input-group-append" data-target="#_JoiningDate" data-toggle="datetimepicker">
                                        <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                                    </div>
                                </div>

                                @*<input type="date" class="form-control" id="txtJoiningDate">*@
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label>Customer Group</label>
                                <div class="input-group">
                                    <select class="form-control select2" id="ddlUserGroup" style="width:100%">
                                        <option value="0">Select</option>
                                        @foreach (var item in ViewBag.UserGroups)
                                        {
                                            <option value="@item.UserGroupId">@item.UserGroup</option>
                                        }
                                    </select>
                                    @*<span class="input-group-append">
                        <a href="javascript:void(0)" class="btn btn-info" data-toggle="modal" data-target="#customerGroupModal">+ </a>
                    </span>*@
                                </div>
                            </div>
                        </div>
                        @if (ViewBag.CurrencyPermission.IsView == true)
                        {
                            <div class="col-sm-3">
                                <div class="form-group">
                                    <label>Currency</label>
                                    <div class="input-group ddlUserCurrency">
                                        <select class="form-control select2" id="ddlUserCurrency" style="width:91%">
                                            @*<option value="0">Select</option>*@
                                            @foreach (var item in ViewBag.Currencys)
                                            {
                                                if (item.IsMain == true)
                                                {
                                                    <option selected value="@item.CurrencyId">@item.CurrencyName (@item.CurrencyCode)</option>
                                                }
                                                else
                                                {
                                                    <option value="@item.CurrencyId">@item.CurrencyName (@item.CurrencyCode)</option>
                                                }

                                            }
                                        </select>
                                        <span class="input-group-append">
                                            <a href="javascript:void(0)" class="btn btn-info" data-toggle="modal" data-target="#currencyModal">+ </a>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        }
                        <div class="col-sm-3">
                            <!-- text input -->
                            <div class="form-group">
                                <label>Credit Limit</label>
                                <input type="number" class="form-control" id="txtCreditLimit" placeholder="">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <!-- text input -->
                            <div class="form-group">
                                <label>Opening Balance</label>
                                <input type="number" class="form-control" id="txtOpeningBalance" placeholder="">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <!-- text input -->
                            <div class="form-group">
                                <label>Pay Term</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="txtMPayTermNo" placeholder="" style="width:50%">
                                    <select class="form-control select2" style="width: 50%;" id="ddlMPayTerm">
                                        <option value="0" selected="selected">Select</option>
                                        <option value="Weekly">Weekly</option>
                                        <option value="Monthly">Monthly</option>
                                        <option value="Quaterly">Quaterly</option>
                                        <option value="Yearly">Yearly</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        @if (ViewBag.BusinessSetting.CountryId == 2)
                        {
                            <div class="col-sm-3">
                                <div class="form-group">
                                    <label>GST Treatment <span class="danger">*</span></label>
                                    <div class="input-group">
                                        <select class="form-control" id="ddlGstTreatment" onchange="toggleGstTreatment()">
                                            <option value="Taxable Supply (Registered)">Taxable Supply (Registered)</option>
                                            <option value="Composition Taxable Supply">Composition Taxable Supply</option>
                                            <option value="Taxable Supply to Unregistered Person">Taxable Supply to Unregistered Person</option>
                                            <option value="Taxable Supply to Consumer" selected>Taxable Supply to Consumer</option>
                                            <option value="Export of Goods / Services (Zero-Rated Supply)">Export of Goods / Services (Zero-Rated Supply)</option>
                                            <option value="Supply to SEZ Unit (Zero-Rated Supply)">Supply to SEZ Unit (Zero-Rated Supply)</option>
                                            <option value="Deemed Export">Deemed Export</option>
                                            <option value="Supply by SEZ Developer">Supply by SEZ Developer</option>
                                        </select>
                                    </div>
                                    <small class="text-red font-weight-bold errorText" id="divGstTreatment"></small>
                                </div>
                            </div>
                            <div class="col-sm-3" style="display:none">
                                <div class="form-group">
                                    <label>Business Registration Name <span class="danger">*</span></label>
                                    <div class="input-group">
                                        <select class="form-control select2" id="ddlBusinessRegistrationName">
                                            @foreach (var item in ViewBag.BusinessRegistrationNames)
                                            {
                                                <option value="@item.BusinessRegistrationNameId">@item.Name</option>
                                            }
                                        </select>
                                    </div>
                                    <small class="text-red font-weight-bold errorText" id="divBusinessRegistrationName"></small>
                                </div>
                            </div>
                            <div class="col-sm-3 divGst">
                                <div class="form-group">
                                    <label class="lblBusinessRegistrationName">@ViewBag.BusinessRegistrationNames[0].Name <span class="danger">*</span></label>
                                    <input type="text" class="form-control" id="txtBusinessRegistrationNo" placeholder="">
                                    <small class="text-red font-weight-bold errorText" id="divBusinessRegistrationNo"></small>
                                </div>
                            </div>
                            <div class="col-sm-3 divGst">
                                <div class="form-group">
                                    <label>Business Legal Name</label>
                                    <input type="text" class="form-control" id="txtBusinessLegalName" placeholder="">
                                </div>
                            </div>
                            <div class="col-sm-3 divGst">
                                <div class="form-group">
                                    <label>Business Trade Name</label>
                                    <input type="text" class="form-control" id="txtBusinessTradeName" placeholder="">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="form-group">
                                    <label>PAN</label>
                                    <input type="text" class="form-control" id="txtPanNo" placeholder="">
                                </div>
                            </div>
                        }
                        else
                        {
                            if (ViewBag.BusinessRegistrationNames != null && ViewBag.BusinessRegistrationNames.Count > 0)
                            {
                                <div class="col-sm-3">
                                    <br>
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            <input type="checkbox" id="chkIsBusinessRegistered" onchange="toggleBusinessRegistered()">
                                            <label for="chkIsBusinessRegistered" class="mt-2">
                                                Is Business Registered?
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                if (ViewBag.BusinessRegistrationNames.Count == 1)
                                {
                                    <div class="col-sm-3" style="display:none">
                                        <div class="form-group">
                                            <label>Business Registration Name <span class="danger">*</span></label>
                                            <div class="input-group">
                                                <select class="form-control select2" id="ddlBusinessRegistrationName">
                                                    @foreach (var item in ViewBag.BusinessRegistrationNames)
                                                    {
                                                        <option value="@item.BusinessRegistrationNameId">@item.Name</option>
                                                    }
                                                </select>
                                            </div>
                                            <small class="text-red font-weight-bold errorText" id="divBusinessRegistrationName"></small>
                                        </div>
                                    </div>
                                    <div class="col-sm-3 divBusinessRegistered" style="display:none">
                                        <div class="form-group">
                                            <label>@ViewBag.BusinessRegistrationNames[0].Name <span class="danger">*</span></label>
                                            <input type="text" class="form-control" id="txtBusinessRegistrationNo" placeholder="">
                                            <small class="text-red font-weight-bold errorText" id="divBusinessRegistrationNo"></small>
                                        </div>
                                    </div>
                                }
                                else
                                {
                                    <div class="col-sm-3 divBusinessRegistered" style="display:none">
                                        <div class="form-group">
                                            <label>Business Registration Name <span class="danger">*</span></label>
                                            <div class="input-group">
                                                <select class="form-control select2" id="ddlBusinessRegistrationName" onchange="setBusinessRegistrationName()">
                                                    @foreach (var item in ViewBag.BusinessRegistrationNames)
                                                    {
                                                        <option value="@item.BusinessRegistrationNameId">@item.Name</option>
                                                    }
                                                </select>
                                            </div>
                                            <small class="text-red font-weight-bold errorText" id="divBusinessRegistrationName"></small>
                                        </div>
                                    </div>
                                    <div class="col-sm-3 divBusinessRegistered" style="display:none">
                                        <div class="form-group">
                                            <label class="lblBusinessRegistrationName">@ViewBag.BusinessRegistrationNames[0].Name <span class="danger">*</span></label>
                                            <input type="text" class="form-control" id="txtBusinessRegistrationNo" placeholder="">
                                            <small class="text-red font-weight-bold errorText" id="divBusinessRegistrationNo"></small>
                                        </div>
                                    </div>
                                }
                            }

                        }

                        @if (ViewBag.BusinessSetting.CountryId == 2)
                        {
                            <div class="col-sm-3 divPlaceOfSupply">
                                <!-- text input -->
                                <div class="form-group">
                                    <label>Place Of Supply</label>
                                    <div class="input-group">
                                        <select class="form-control select2" id="ddlPlaceOfSupply_N">
                                            <option value="0">Select</option>
                                            @foreach (var item in ViewBag.PlacesOfSupply)
                                            {
                                                <option value="@item.StateId">@item.State</option>
                                            }
                                        </select>
                                    </div>
                                    <small class="text-red font-weight-bold errorText" id="divPlaceOfSupply"></small>
                                </div>
                            </div>
                        }

                        <div class="col-sm-3 divTaxPreference">
                            <!-- text input -->
                            <div class="form-group">
                                <label>Tax Preference</label>
                                <div class="input-group">
                                    <select class="form-control select2" id="ddlTaxPreference" onchange="toggleTaxPreference()">
                                        @foreach (var item in ViewBag.Taxs)
                                        {
                                            if (item.Tax == "Taxable" || item.Tax == "Non-Taxable")
                                            {
                                                <option value="@item.TaxId">@item.Tax</option>
                                            }
                                        }
                                        @*<option value="Taxable">Taxable</option>
                        <option value="Non-Taxable">Tax Exempt</option>*@
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3 divNonTaxable" style="display:none">
                            <!-- text input -->
                            <div class="form-group">
                                <label>Tax Exemption</label>
                                <div class="input-group">
                                    <select class="form-control select2" id="ddlTaxExemption">
                                        <option value="0">Select</option>
                                        @foreach (var item in ViewBag.TaxExemptions)
                                        {
                                            <option value="@item.TaxExemptionId">@item.Reason</option>
                                        }
                                    </select>
                                    @if (ViewBag.TaxExemptionPermission.IsAdd == true)
                                    {
                                        <span class="input-group-append">
                                            <a href="javascript:void(0)" class="btn btn-info" data-toggle="modal" data-target="#taxExemptionModal">+ </a>
                                        </span>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card card-outline collapsed-card">
                        <div class="card-header  bg-info" data-card-widget="collapse" title="Expand/Collapse">
                            <h3 class="card-title">More Info</h3>
                            <div class="card-tools">
                                <button type="button" class="btn btn-tool">
                                    <i class="fas fa-plus"></i>
                                </button>

                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <h4>
                                    <span>Billing Address</span>
                                </h4>
                            </div>

                            <div class="row">
                                <div class="col-sm-3" style="display:none">
                                    <!-- text input -->
                                    <div class="form-group">
                                        <label>Name</label>
                                        <input type="text" class="form-control" id="txtAddrName">
                                    </div>
                                </div>
                                <div class="col-sm-3" style="display:none">
                                    <div class="form-group">
                                        <label>Mobile </label>
                                        <div class="input-group">
                                            @*<span class="input-group-append">
                        <a href="javascript:void(0)" class="btn bg-gray-light"> @Request.Cookies["data"].Value.Split('&')[6].Split('=')[1] </a>
                    </span>*@
                                            <input type="text" min="0" class="form-control" id="txtAddrMobileNo"
                                                   onkeypress="return onlyNumberKey(event)" maxlength="10">
                                        </div>
                                        <small class="text-red font-weight-bold errorText" id="divMobileNo"></small>
                                    </div>
                                </div>
                                <div class="col-sm-3" style="display:none">
                                    <div class="form-group">
                                        <label>Alternate Mobile </label>
                                        <div class="input-group">
                                            @*<span class="input-group-append">
                        <a href="javascript:void(0)" class="btn bg-gray-light"> @Request.Cookies["data"].Value.Split('&')[6].Split('=')[1] </a>
                    </span>*@
                                            <input type="text" min="0" class="form-control" id="txtAddrMobileNo2"
                                                   onkeypress="return onlyNumberKey(event)" maxlength="10">
                                        </div>
                                        <small class="text-red font-weight-bold errorText" id="divMobileNo"></small>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2" style="display:none">
                                    <!-- text input -->
                                    <div class="form-group">
                                        <label>Email</label>
                                        <input type="text" class="form-control" id="txtAddrEmailId">
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <!-- text input -->
                                    <div class="form-group">
                                        <label>Landmark</label>
                                        <input type="text" class="form-control" id="txtAddrLandmark">
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <!-- text input -->
                                    <div class="form-group">
                                        <label>Country</label>
                                        <div class="input-group">
                                            <select class="form-control select2" id="ddlCountry" onchange="fetchActiveStates('')" style="width:100%">
                                                <option value="0">Select</option>
                                                @foreach (var item in ViewBag.Countrys)
                                                {
                                                    <option value="@item.CountryId">@item.Country</option>
                                                }
                                            </select>
                                            @*<span class="input-group-append">
                        <a href="javascript:void(0)" class="btn btn-info" onclick="openCountryModal('ddlCountry')">+ </a>
                    </span>*@
                                        </div>
                                        <small class="text-red font-weight-bold errorText" id="divCountry"></small>
                                    </div>
                                </div>
                                <div class="col-sm-3" id="p_States_Dropdown">
                                    @Html.Partial("PartialStatesDropdown")
                                </div>
                                <div class="col-sm-3" id="p_Citys_Dropdown">
                                    @Html.Partial("PartialCitysDropdown")
                                </div>
                                <div class="col-sm-3">
                                    <!-- text input -->
                                    <div class="form-group">
                                        <label>Pincode</label>
                                        <input type="text" class="form-control" id="txtZipcode" placeholder="">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <!-- text input -->
                                    <div class="form-group">
                                        <label>Address</label>
                                        <textarea class="form-control" id="txtAddress" rows="2" placeholder=""></textarea>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <br />
                                    <div class="form-group">
                                        <div class="checkbox icheck-turquoise">
                                            <input type="checkbox" id="chkIsShippingAddressDifferent" onchange="toggleShippingAddress()" />
                                            <label for="chkIsShippingAddressDifferent">Shipping address is different from billing address</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr />
                            <div style="width:100%;display:none" id="divShippingAddress">
                                <div class="row">
                                    <h4>
                                        <span>Shipping Address</span>
                                    </h4>
                                </div>

                                <div class="row">
                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>Name</label>
                                            <input type="text" class="form-control" id="txtAddrAltName">
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group">
                                            <label> Mobile </label>
                                            <div class="input-group">
                                                @*<span class="input-group-append">
                        <a href="javascript:void(0)" class="btn bg-gray-light"> @Request.Cookies["data"].Value.Split('&')[6].Split('=')[1] </a>
                    </span>*@
                                                <input type="text" min="0" class="form-control" id="txtAddrAltMobileNo"
                                                       onkeypress="return onlyNumberKey(event)" maxlength="10">
                                            </div>
                                            <small class="text-red font-weight-bold errorText" id="divMobileNo"></small>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group">
                                            <label>Alternate Mobile </label>
                                            <div class="input-group">
                                                @*<span class="input-group-append">
                        <a href="javascript:void(0)" class="btn bg-gray-light"> @Request.Cookies["data"].Value.Split('&')[6].Split('=')[1] </a>
                    </span>*@
                                                <input type="text" min="0" class="form-control" id="txtAddrAltMobileNo2"
                                                       onkeypress="return onlyNumberKey(event)" maxlength="10">
                                            </div>
                                            <small class="text-red font-weight-bold errorText" id="divMobileNo"></small>
                                        </div>
                                    </div>
                                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2" style="display:none">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>Email</label>
                                            <input type="text" class="form-control" id="txtAddrAltEmailId">
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>Landmark</label>
                                            <input type="text" class="form-control" id="txtAddrAltLandmark">
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>Country</label>
                                            <div class="input-group">
                                                <select class="form-control select2" id="ddlAltCountry" onchange="fetchActiveStates('alt')" style="width:100%">
                                                    <option value="0">Select</option>
                                                    @foreach (var item in ViewBag.Countrys)
                                                    {
                                                        <option value="@item.CountryId">@item.Country</option>
                                                    }
                                                </select>
                                                @*<span class="input-group-append">
                        <a href="javascript:void(0)" class="btn btn-info" onclick="openCountryModal('ddlAltCountry')">+ </a>
                    </span>*@
                                            </div>
                                            <small class="text-red font-weight-bold errorText" id="divAltCountry"></small>
                                        </div>
                                    </div>
                                    <div class="col-sm-3" id="p_Alt_States_Dropdown">
                                        @Html.Partial("PartialAltStatesDropdown")
                                    </div>
                                    <div class="col-sm-3" id="p_Alt_Citys_Dropdown">
                                        @Html.Partial("PartialAltCitysDropdown")
                                    </div>
                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>Pincode</label>
                                            <input type="text" class="form-control" id="txtAltZipcode" placeholder="">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label> Address</label>
                                            <textarea class="form-control" id="txtAltAddress" rows="2" placeholder=""></textarea>
                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                    <button type="button" class="btn btn-primary" onclick="insertCustomer()">Save changes</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <div class="modal fade" id="faqModal">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">FAQs</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="p-0 pl-2 pr-2">
                                <div class="card collapsed-card" data-card-widget="collapse" title="Collapse">
                                    <div class="card-header" data-card-widget="collapse" title="Collapse">
                                        <h3 class="card-title">What is POS?</h3>
                                        <div class="card-tools">
                                            <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                                <i class="fas fa-plus"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="card-body" style="display: none;">
                                        The Point of Sale (POS) system offers features that make sales transactions easy to set up, manage, and process for any retail business. The POS is a fast, dependable, and powerful application that sets new standards for speed, ease-of-use, and error-free processing of retail sales. It can be used with keyboard or touch screen equipment, it has a graphic user interface, and works online or offline for optimal performance at all times.
                                    </div>
                                </div>
                                <div class="card collapsed-card" data-card-widget="collapse" title="Collapse">
                                    <div class="card-header" data-card-widget="collapse" title="Collapse">
                                        <h3 class="card-title">What is POS and how is it used?</h3>
                                        <div class="card-tools">
                                            <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                                <i class="fas fa-plus"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="card-body" style="display: none;">
                                        POS (point-of-sale) software is the operating system you use to manage physical stores and sell in person. It's what store staff use to find products, add them to a customer's order, and accept payments. POS software also has helpful tools like sales reporting, inventory management, and integrated loyalty programs.
                                    </div>
                                </div>
                                <div class="card collapsed-card" data-card-widget="collapse" title="Collapse">
                                    <div class="card-header" data-card-widget="collapse" title="Collapse">
                                        <h3 class="card-title">What are the benefit of POS?</h3>
                                        <div class="card-tools">
                                            <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                                <i class="fas fa-plus"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="card-body" style="display: none;">
                                        In general, a POS system helps you improve your operations for your customers. This includes reducing waiting time, faster scanning of items, quicker payments, etc. With these operational improvements, customers will tend to get better service and come back to your store for their next purchase.
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>

                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <div class="modal fade" id="currencyModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Add Currency</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>Currency <span class="danger">*</span></label>
                                <div class="input-group">
                                    <select class="form-control select2" id="ddlCurrency" onchange="setCurrencyName()" style="width:100%">
                                        <option value="0">Select Currency</option>
                                        @foreach (var item in ViewBag.AllCurrencys)
                                        {
                                            <option value="@item.CurrencyId">@item.CurrencyName (@item.CurrencyCode) </option>
                                        }
                                    </select>
                                </div>
                                <small class="text-red font-weight-bold errorText" id="divCurrency"></small>
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>Exchange Rate</label>
                                <div class="input-group">
                                    <span class="input-group-append">
                                        <a href="javascript:void(0)" class="btn bg-gray">1 @ViewBag.Currency.CurrencyCode = </a>
                                    </span>
                                    <input type="number" class="form-control" id="txtExchangeRate" placeholder="Conversion Rate"
                                           onkeypress="return onlyDecimalKey(event)">
                                    <span class="input-group-append">
                                        <a href="javascript:void(0)" class="btn bg-gray " id="txtCurrency"> </a>
                                    </span>
                                </div>
                                <small class="text-red font-weight-bold errorText" id="divExchangeRate"></small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Close</button>
                    <button type="button" class="btn btn-primary" onclick="insertCurrency()">Save changes</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <div class="modal fade" id="invoiceModal">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Print Invoice</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" style="height:75vh">
                    <iframe id="lblInvoice" style="border:0;width:100%;height:100%"></iframe>
                </div>
                @*<div class="modal-footer justify-content-between">
                        <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left:auto">Ok</button>
                    </div>*@
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-light  @(Request.Cookies["SystemSetting"]["EnableDarkMode"] == "True" ? "control-sidebar-dark" : "control-sidebar-light")  divShortcutKeys" style="bottom: 57px; display: none; width:300px">
        <div class="p-3 control-sidebar-content" style="height: 422px;">
            <div class="widget-user-header">
                <div class="row">
                    <div class="col-md-8 col-sm-8 col-8">
                        <h5 class="">Shortcut Keys</h5>
                    </div>
                    <div class="col-md-4 col-sm-4 col-4">
                        <a class=" float-right pr-2" data-widget="control-sidebar" data-slide="true" href="#" role="button" title="Shortcut Keys">
                            @*<i class="fas fa-th-large"></i>*@
                            <i class="text-dark fa fa-times"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-sm-12 ">
                    <ul class="nav flex-column tShortcutKeys">
                    </ul>
                </div>
            </div>
        </div>
    </aside>
    <!-- /.control-sidebar -->

    <div id="divLoading" style="margin: 0px; padding: 0px; position: fixed; right: 0px; top: 0px; width: 100%; height: 100%; z-index: 30001; opacity: 0.8;display:none">
        <div class="overlay-wrapper">
            <div class="overlay"><i class="fas fa-3x fa-sync-alt fa-spin"></i><div class="text-bold pt-2">Loading...</div></div>
        </div>
    </div>

    <audio id="success"><source src="~/Content/Audio/success.mp3"></audio>
    <audio id="error"><source src="~/Content/Audio/error.mp3"></audio>
    <audio id="others"><source src="~/Content/Audio/other.mp3"></audio>
    <!-- ./wrapper -->
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    @*<script>
            $.widget.bridge('uibutton', $.ui.button)
        </script>*@
    <!-- Bootstrap 4 -->
    <script src="~/Content/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/3.0.5/moment.min.js"></script>
    <!-- SweetAlert2 -->
    <script src="~/Content/plugins/sweetalert2/sweetalert2.min.js"></script>
    <!-- Toastr -->
    <script src="~/Content/plugins/toastr/toastr.min.js"></script>
    <!-- Select2 -->
    <script src="~/Content/plugins/select2/js/select2.full.min.js"></script>
    <script src="~/Content/plugins/daterangepicker/daterangepicker.js"></script>
    <script src="~/Content/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
    <!-- ChartJS -->
    @*<script src="~/Content/plugins/chart.js/Chart.min.js"></script>*@

    <!-- AdminLTE App -->
    <script src="~/Content/assets/js/adminlte.js"></script>
    <!-- AdminLTE for demo purposes -->

    <link href="https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css"
          rel="stylesheet">
    <script src="https://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
    @*<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>*@
    <script src="~/Content/JQuery/Customer/Common/MouseTrap.min.js"></script>
    <script src="~/Content/JQuery/Customer/Sales/Pos.js"></script>
</body>
</html>



