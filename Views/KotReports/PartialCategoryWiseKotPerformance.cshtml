@{
    var categoryPerformance = ViewBag.CategoryPerformance as System.Collections.Generic.List<dynamic> ?? new System.Collections.Generic.List<dynamic>();
}
<thead id="thead">
    <tr>
        <th>Category Name</th>
        <th>Total KOTs</th>
        <th>Total Quantity</th>
        <th>Total Items</th>
        <th>Completed Items</th>
        <th>Pending Items</th>
        <th>Avg Prep Time (min)</th>
    </tr>
</thead>
<tbody class="table-body">
    @if (categoryPerformance != null && categoryPerformance.Count > 0)
    {
        foreach (var category in categoryPerformance)
        {
            <tr>
                <td>@(category.CategoryName ?? "-")</td>
                <td>@(category.TotalKots ?? 0)</td>
                <td>@(category.TotalQuantity != null ? ((decimal)category.TotalQuantity).ToString("N2") : "0.00")</td>
                <td>@(category.TotalItems ?? 0)</td>
                <td>@(category.CompletedItems ?? 0)</td>
                <td>@(category.PendingItems ?? 0)</td>
                <td>@(category.AveragePreparationTime != null ? ((double)category.AveragePreparationTime).ToString("N1") : "0.0")</td>
            </tr>
        }
    }
</tbody>

