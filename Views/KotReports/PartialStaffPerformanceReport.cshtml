@{
    var staffPerformance = ViewBag.StaffPerformance as System.Collections.Generic.List<dynamic> ?? new System.Collections.Generic.List<dynamic>();
}
<thead id="thead">
    <tr>
        <th>Staff Name</th>
        <th>Total KOTs</th>
        <th>Completed KOTs</th>
        <th>Pending KOTs</th>
        <th>Cancelled KOTs</th>
        <th>Total Revenue</th>
        <th>Average Order Value</th>
        <th>Avg Service Time (min)</th>
    </tr>
</thead>
<tbody class="table-body">
    @if (staffPerformance != null && staffPerformance.Count > 0)
    {
        foreach (var staff in staffPerformance)
        {
            <tr>
                <td>@(staff.WaiterName ?? "-")</td>
                <td>@(staff.TotalKots ?? 0)</td>
                <td>@(staff.CompletedKots ?? 0)</td>
                <td>@(staff.PendingKots ?? 0)</td>
                <td>@(staff.CancelledKots ?? 0)</td>
                <td>@(staff.TotalRevenue != null ? ((decimal)staff.TotalRevenue).ToString("N2") : "0.00")</td>
                <td>@(staff.AverageOrderValue != null ? ((decimal)staff.AverageOrderValue).ToString("N2") : "0.00")</td>
                <td>@(staff.AverageServiceTime != null ? ((double)staff.AverageServiceTime).ToString("N1") : "0.0")</td>
            </tr>
        }
    }
</tbody>

