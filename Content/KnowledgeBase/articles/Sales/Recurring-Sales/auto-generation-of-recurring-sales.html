<h2>Auto-generation of Recurring Sales</h2>
<p>EquiBillBook automatically generates sales invoices from your recurring invoice templates based on the configured schedule. This guide explains how the auto-generation process works, when invoices are created, and how to monitor the process.</p>

<h3>How Auto-generation Works</h3>
<p>The auto-generation system:</p>
<ul>
    <li>Continuously monitors all active recurring invoices</li>
    <li>Checks if it's time to generate the next invoice based on the recurrence pattern</li>
    <li>Automatically creates sales invoices when the scheduled date arrives</li>
    <li>Updates the next invoice date for the recurring invoice</li>
    <li>Maintains a record of all generated invoices</li>
</ul>

<h3>When Invoices Are Generated</h3>
<p>Invoices are automatically generated when:</p>
<ul>
    <li>The recurring invoice status is <strong>"Active"</strong></li>
    <li>The current date matches or exceeds the <strong>Next Invoice Date</strong></li>
    <li>The start date has passed</li>
    <li>The end date hasn't passed (if an end date is set)</li>
    <li>The recurring invoice is not on hold</li>
</ul>

<h3>Generation Process</h3>
<p>When the system generates an invoice, it:</p>
<ol>
    <li>Creates a new sales invoice based on the recurring invoice template</li>
    <li>Copies all items, quantities, and prices from the recurring invoice</li>
    <li>Applies the same tax, discount, and charge settings</li>
    <li>Sets the invoice date to the scheduled date</li>
    <li>Uses the customer and branch information from the recurring invoice</li>
    <li>Copies notes and terms and conditions</li>
    <li>Calculates the next invoice date based on the recurrence pattern</li>
    <li>Updates the recurring invoice's Last Invoice Date and Next Invoice Date</li>
</ul>

<h3>Invoice Details</h3>
<p>Each auto-generated invoice includes:</p>
<ul>
    <li><strong>Invoice Number:</strong> Auto-generated based on your numbering settings</li>
    <li><strong>Invoice Date:</strong> The scheduled date for that invoice</li>
    <li><strong>Due Date:</strong> Calculated based on payment terms</li>
    <li><strong>Reference:</strong> Links back to the recurring invoice</li>
    <li><strong>All Items:</strong> Same items, quantities, and prices as the template</li>
    <li><strong>Taxes and Discounts:</strong> Applied as configured in the recurring invoice</li>
    <li><strong>Status:</strong> Initially set to "Draft" or "Sent" based on your settings</li>
</ul>

<h3>Monitoring Auto-generation</h3>
<p>You can monitor the auto-generation process by:</p>
<ul>
    <li><strong>Viewing Recurring Invoice Details:</strong> Check the Last Invoice Date and Next Invoice Date</li>
    <li><strong>Reviewing Generated Invoices:</strong> View all invoices created from a recurring invoice</li>
    <li><strong>Checking Invoice List:</strong> Look for new invoices with the recurring invoice reference</li>
    <li><strong>Dashboard Reports:</strong> View recurring invoice statistics and upcoming invoices</li>
</ul>

<h3>Next Invoice Date Calculation</h3>
<p>The system calculates the next invoice date based on:</p>
<ul>
    <li><strong>Last Invoice Date:</strong> The date of the most recently generated invoice</li>
    <li><strong>Recurrence Pattern:</strong> The Repeat Every and Repeat Every Number settings</li>
    <li><strong>Date Logic:</strong>
        <ul>
            <li>Daily: Adds the specified number of days</li>
            <li>Weekly: Adds the specified number of weeks (7 days Ã— number)</li>
            <li>Monthly: Adds the specified number of months</li>
        </ul>
    </li>
</ul>
<p><strong>Example:</strong> If Last Invoice Date is January 1st and pattern is Monthly (1), Next Invoice Date will be February 1st</p>

<h3>Automatic Status Updates</h3>
<p>The recurring invoice status is automatically updated:</p>
<ul>
    <li><strong>Active:</strong> Recurring invoice is generating invoices as scheduled</li>
    <li><strong>Completed:</strong> Recurring invoice has reached its end date (if set)</li>
    <li><strong>On Hold:</strong> Recurring invoice is temporarily paused (manual action)</li>
    <li><strong>Inactive:</strong> Recurring invoice has been deactivated (manual action)</li>
</ul>

<h3>Handling Generation Issues</h3>
<p>If an invoice fails to generate automatically, the system:</p>
<ul>
    <li>Logs the error for review</li>
    <li>Does not update the Next Invoice Date if generation fails</li>
    <li>Allows manual generation if needed</li>
    <li>Provides error messages for troubleshooting</li>
</ul>

<h3>Manual Generation</h3>
<p>You can also manually generate invoices from recurring invoices:</p>
<ol>
    <li>Navigate to the Recurring Sales list</li>
    <li>Select the recurring invoice</li>
    <li>Click "Generate Invoice" or "Create Invoice Now"</li>
    <li>The system will create an invoice immediately</li>
    <li>The next invoice date will be updated accordingly</li>
</ol>
<p><strong>Use Cases for Manual Generation:</strong></p>
<ul>
    <li>Testing the recurring invoice setup</li>
    <li>Generating an invoice ahead of schedule</li>
    <li>Recovering from a missed automatic generation</li>
    <li>Creating a one-time invoice from the template</li>
</ul>

<h3>Best Practices</h3>
<ul>
    <li><strong>Monitor Regularly:</strong> Check recurring invoices periodically to ensure they're generating correctly</li>
    <li><strong>Review Generated Invoices:</strong> Verify that auto-generated invoices are correct</li>
    <li><strong>Set Appropriate Dates:</strong> Ensure start dates and end dates are set correctly</li>
    <li><strong>Keep Templates Updated:</strong> Update recurring invoice templates when prices or items change</li>
    <li><strong>Test Before Activating:</strong> Create a test recurring invoice to verify the pattern works</li>
    <li><strong>Document Special Cases:</strong> Add notes for any special generation requirements</li>
</ul>

<h3>System Requirements</h3>
<p>For auto-generation to work properly:</p>
<ul>
    <li>The system must be running (for on-premise installations)</li>
    <li>Background jobs or scheduled tasks must be configured (if applicable)</li>
    <li>Recurring invoices must be in "Active" status</li>
    <li>System date and time must be accurate</li>
</ul>

<h3>Troubleshooting Auto-generation</h3>
<p>If invoices are not generating automatically:</p>
<ul>
    <li>Verify the recurring invoice status is "Active"</li>
    <li>Check that the Next Invoice Date has passed</li>
    <li>Ensure the Start Date has been reached</li>
    <li>Verify the End Date hasn't passed (if set)</li>
    <li>Check that "Never Expires" is enabled if no end date is set</li>
    <li>Review system logs for any error messages</li>
    <li>Confirm background jobs are running (if applicable)</li>
    <li>Try manual generation to test the recurring invoice</li>
</ul>

<h3>Viewing Generation History</h3>
<p>You can view the history of generated invoices:</p>
<ul>
    <li>Open the recurring invoice details</li>
    <li>Navigate to the "Generated Invoices" section</li>
    <li>View a list of all invoices created from this recurring invoice</li>
    <li>See the generation date and invoice details</li>
    <li>Access each generated invoice directly</li>
</ul>

<h3>Need Help?</h3>
<p>If you need assistance with auto-generation:</p>
<ul>
    <li>Review the recurring invoice configuration</li>
    <li>Check the Next Invoice Date and Last Invoice Date</li>
    <li>Verify the recurrence pattern is set correctly</li>
    <li>Contact support if invoices are not generating as expected</li>
</ul>

<p>Auto-generation of recurring sales saves significant time and ensures consistent billing. Once set up correctly, the system handles invoice creation automatically, allowing you to focus on other aspects of your business.</p>



