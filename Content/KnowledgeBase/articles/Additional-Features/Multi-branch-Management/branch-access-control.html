<h2>Branch Access Control</h2>
<p>Branch Access Control in EquiBillBook allows you to manage which users can access which branches and what operations they can perform. This guide explains how to configure and manage branch access permissions.</p>

<h3>Understanding Branch Access Control</h3>
<p>Branch access control enables you to:</p>
<ul>
    <li>Restrict user access to specific branches</li>
    <li>Control what operations users can perform at each branch</li>
    <li>Maintain security and data segregation</li>
    <li>Assign branch managers and staff</li>
    <li>Set up role-based access for branches</li>
    <li>Monitor user access across branches</li>
</ul>

<h3>Access Control Levels</h3>
<p>EquiBillBook supports different access levels:</p>

<h4>1. Full Access</h4>
<ul>
    <li><strong>Access:</strong> Complete access to all branch operations</li>
    <li><strong>Can Do:</strong> All transactions, settings, reports</li>
    <li><strong>Typical Users:</strong> Branch managers, administrators</li>
</ul>

<h4>2. Limited Access</h4>
<ul>
    <li><strong>Access:</strong> Access to specific operations only</li>
    <li><strong>Can Do:</strong> Selected transactions and reports</li>
    <li><strong>Typical Users:</strong> Staff members, cashiers</li>
</ul>

<h4>3. Read-Only Access</h4>
<ul>
    <li><strong>Access:</strong> View-only access to branch data</li>
    <li><strong>Can Do:</strong> View reports, transactions, but cannot modify</li>
    <li><strong>Typical Users:</strong> Auditors, supervisors</li>
</ul>

<h4>4. No Access</h4>
<ul>
    <li><strong>Access:</strong> No access to the branch</li>
    <li><strong>Can Do:</strong> Cannot view or access branch data</li>
    <li><strong>Typical Users:</strong> Users not assigned to branch</li>
</ul>

<h3>Accessing Branch Access Control</h3>
<p>To configure branch access control:</p>
<ol>
    <li>Navigate to <strong>Settings</strong> → <strong>User Settings</strong> → <strong>User Management</strong></li>
    <li>Select a user or go to <strong>Settings</strong> → <strong>Location Settings</strong> → <strong>Branch Management</strong></li>
    <li>Click on a branch and select <strong>"Access Control"</strong> or <strong>"User Access"</strong></li>
    <li>You'll see the access control configuration page</li>
</ol>

<h3>Assigning Users to Branches</h3>
<p>To assign a user to a branch:</p>

<h4>Method 1: From User Management</h4>
<ol>
    <li>Go to <strong>User Management</strong></li>
    <li>Select the user you want to assign</li>
    <li>Click <strong>"Edit"</strong> or <strong>"Branch Access"</strong></li>
    <li>Select branches the user can access</li>
    <li>Set access level for each branch</li>
    <li>Save the changes</li>
</ol>

<h4>Method 2: From Branch Management</h4>
<ol>
    <li>Go to <strong>Branch Management</strong></li>
    <li>Select the branch</li>
    <li>Click <strong>"User Access"</strong> or <strong>"Assign Users"</strong></li>
    <li>Select users to assign to this branch</li>
    <li>Set access level for each user</li>
    <li>Save the assignments</li>
</ol>

<h3>Configuring Access Permissions</h3>
<p>For each user-branch combination, configure permissions:</p>

<h4>Sales Permissions</h4>
<ul>
    <li><strong>Create Sales:</strong> Allow creating sales invoices</li>
    <li><strong>Edit Sales:</strong> Allow editing sales invoices</li>
    <li><strong>Delete Sales:</strong> Allow deleting sales invoices</li>
    <li><strong>View Sales:</strong> Allow viewing sales transactions</li>
    <li><strong>Print Sales:</strong> Allow printing invoices</li>
    <li><strong>Sales Reports:</strong> Access to sales reports</li>
</ul>

<h4>Purchase Permissions</h4>
<ul>
    <li><strong>Create Purchases:</strong> Allow creating purchase bills</li>
    <li><strong>Edit Purchases:</strong> Allow editing purchase bills</li>
    <li><strong>Delete Purchases:</strong> Allow deleting purchase bills</li>
    <li><strong>View Purchases:</strong> Allow viewing purchase transactions</li>
    <li><strong>Purchase Reports:</strong> Access to purchase reports</li>
</ul>

<h4>Inventory Permissions</h4>
<ul>
    <li><strong>View Stock:</strong> View stock levels</li>
    <li><strong>Adjust Stock:</strong> Create stock adjustments</li>
    <li><strong>Transfer Stock:</strong> Transfer stock between branches</li>
    <li><strong>Stock Reports:</strong> Access to stock reports</li>
</ul>

<h4>Financial Permissions</h4>
<ul>
    <li><strong>View Accounts:</strong> View account information</li>
    <li><strong>Create Payments:</strong> Record payments</li>
    <li><strong>Financial Reports:</strong> Access to financial reports</li>
    <li><strong>Journal Entries:</strong> Create journal entries</li>
</ul>

<h4>Settings Permissions</h4>
<ul>
    <li><strong>Branch Settings:</strong> Modify branch settings</li>
    <li><strong>User Management:</strong> Manage users for branch</li>
    <li><strong>Configuration:</strong> Change branch configuration</li>
</ul>

<h3>Branch Manager Assignment</h3>
<p>Assigning a branch manager:</p>

<h4>Branch Manager Role</h4>
<ul>
    <li><strong>Full Access:</strong> Branch managers typically have full access</li>
    <li><strong>User Management:</strong> Can manage users for their branch</li>
    <li><strong>Settings Control:</strong> Can modify branch settings</li>
    <li><strong>Reports Access:</strong> Full access to branch reports</li>
</ul>

<h4>Assigning Branch Manager</h4>
<ol>
    <li>Go to branch details</li>
    <li>Click <strong>"Assign Manager"</strong> or <strong>"Set Branch Manager"</strong></li>
    <li>Select the user to be branch manager</li>
    <li>Confirm the assignment</li>
    <li>Manager will have full access to the branch</li>
</ol>

<h3>Bulk User Assignment</h3>
<p>Assign multiple users to a branch at once:</p>

<h4>Bulk Assignment Process</h4>
<ol>
    <li>Go to branch access control</li>
    <li>Click <strong>"Bulk Assign"</strong> or <strong>"Assign Multiple Users"</strong></li>
    <li>Select multiple users using checkboxes</li>
    <li>Set default access level</li>
    <li>Apply to all selected users</li>
    <li>Save the assignments</li>
</ol>

<h3>Access Control Rules</h3>
<p>Configure access control rules:</p>

<h4>Default Access Rules</h4>
<ul>
    <li><strong>New User Default:</strong> Default access for new users</li>
    <li><strong>New Branch Default:</strong> Default access when creating new branch</li>
    <li><strong>Inheritance Rules:</strong> How permissions are inherited</li>
</ul>

<h4>Restriction Rules</h4>
<ul>
    <li><strong>Cross-Branch Restrictions:</strong> Prevent access to other branches</li>
    <li><strong>Time-Based Access:</strong> Restrict access by time</li>
    <li><strong>IP Restrictions:</strong> Restrict access by IP address</li>
</ul>

<h3>Viewing Access Control</h3>
<p>To view current access control settings:</p>

<h4>By User</h4>
<ol>
    <li>Go to user details</li>
    <li>Click <strong>"Branch Access"</strong> tab</li>
    <li>View all branches user can access</li>
    <li>See access level for each branch</li>
</ol>

<h4>By Branch</h4>
<ol>
    <li>Go to branch details</li>
    <li>Click <strong>"User Access"</strong> tab</li>
    <li>View all users with access</li>
    <li>See access level for each user</li>
</ol>

<h3>Modifying Access Control</h3>
<p>To change access permissions:</p>

<h4>Updating User Access</h4>
<ol>
    <li>Go to user or branch access control</li>
    <li>Find the user-branch combination</li>
    <li>Click <strong>"Edit"</strong> or modify permissions</li>
    <li>Update access level or permissions</li>
    <li>Save the changes</li>
</ol>

<h4>Removing Access</h4>
<ol>
    <li>Go to access control settings</li>
    <li>Find the user-branch assignment</li>
    <li>Click <strong>"Remove Access"</strong> or <strong>"Revoke Access"</strong></li>
    <li>Confirm removal</li>
    <li>User will lose access to the branch</li>
</ol>

<h3>Access Control Reports</h3>
<p>Generate reports on access control:</p>

<h4>Available Reports</h4>
<ul>
    <li><strong>User Access Report:</strong> Shows all users and their branch access</li>
    <li><strong>Branch Access Report:</strong> Shows all users for each branch</li>
    <li><strong>Permission Report:</strong> Detailed permission breakdown</li>
    <li><strong>Access Log:</strong> History of access changes</li>
</ul>

<h3>Best Practices</h3>
<ul>
    <li><strong>Principle of Least Privilege:</strong> Grant minimum necessary access</li>
    <li><strong>Regular Review:</strong> Periodically review access permissions</li>
    <li><strong>Role-Based Access:</strong> Use roles to manage permissions</li>
    <li><strong>Document Access:</strong> Keep records of access assignments</li>
    <li><strong>Remove Unused Access:</strong> Remove access when users leave or change roles</li>
    <li><strong>Test Access:</strong> Test access control before going live</li>
    <li><strong>Monitor Access:</strong> Monitor user access patterns</li>
</ul>

<h3>Common Scenarios</h3>

<h4>Scenario 1: Setting Up Branch Staff</h4>
<p>Assigning staff to a new branch:</p>
<ol>
    <li>Create user accounts for staff</li>
    <li>Assign users to the branch</li>
    <li>Set appropriate access levels</li>
    <li>Configure sales/inventory permissions</li>
    <li>Test access for each user</li>
    <li>Train users on their permissions</li>
</ol>

<h4>Scenario 2: Restricting Access</h4>
<p>Restricting a user's access to specific branches:</p>
<ol>
    <li>Go to user access control</li>
    <li>Remove access to unwanted branches</li>
    <li>Verify remaining access</li>
    <li>Test that access is properly restricted</li>
</ol>

<h4>Scenario 3: Promoting to Branch Manager</h4>
<p>Promoting a user to branch manager:</p>
<ol>
    <li>Go to branch details</li>
    <li>Assign user as branch manager</li>
    <li>Grant full access permissions</li>
    <li>Enable user management permissions</li>
    <li>Verify manager has all necessary access</li>
</ol>

<h3>Troubleshooting</h3>

<h4>Issue: User Cannot Access Branch</h4>
<p><strong>Possible Causes:</strong></p>
<ul>
    <li>User not assigned to branch</li>
    <li>Access level too restrictive</li>
    <li>Branch is inactive</li>
    <li>Permission issues</li>
</ul>
<p><strong>Solution:</strong> Assign user to branch, check access level, verify branch status, review permissions</p>

<h4>Issue: User Has Too Much Access</h4>
<p><strong>Possible Causes:</strong></p>
<ul>
    <li>Access level set too high</li>
    <li>Incorrect permissions assigned</li>
    <li>Role has excessive permissions</li>
</ul>
<p><strong>Solution:</strong> Review and reduce access level, adjust permissions, modify role permissions</p>

<h3>What's Next?</h3>
<p>After configuring branch access control, you should:</p>
<ol>
    <li>Test access for all users</li>
    <li>Train users on their permissions</li>
    <li>Monitor access patterns</li>
    <li>Review access regularly</li>
    <li>Update access as roles change</li>
    <li>Set up access control reports</li>
</ol>

<p>Proper branch access control ensures security and proper data segregation across your multi-branch operations in EquiBillBook.</p>

