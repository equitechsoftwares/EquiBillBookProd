<h2>Notification Triggers</h2>
<p>Notification triggers in EquiBillBook determine when and under what conditions notifications are sent. This guide explains how to configure and manage notification triggers effectively.</p>

<h3>What are Notification Triggers?</h3>
<p>Notification triggers are conditions or events that automatically initiate the sending of notifications. When a specific event occurs in EquiBillBook (such as an invoice being created, a payment being received, or stock falling below a threshold), the corresponding trigger activates and sends the appropriate notification.</p>

<h3>Types of Notification Triggers</h3>
<p>EquiBillBook supports various notification triggers:</p>
<ul>
    <li><strong>Event-based Triggers:</strong> Triggered by specific events (invoice created, payment received)</li>
    <li><strong>Time-based Triggers:</strong> Triggered at specific times (daily reminders, scheduled reports)</li>
    <li><strong>Condition-based Triggers:</strong> Triggered when conditions are met (low stock, overdue invoice)</li>
    <li><strong>Action-based Triggers:</strong> Triggered by user actions (booking made, order placed)</li>
    <li><strong>Status-based Triggers:</strong> Triggered by status changes (invoice paid, booking confirmed)</li>
</ul>

<h3>Accessing Notification Triggers</h3>
<p>To access notification triggers:</p>
<ol>
    <li>Navigate to <strong>Settings</strong> → <strong>Notification Settings</strong> → <strong>Notification Triggers</strong></li>
    <li>View all available triggers</li>
    <li>Enable or disable specific triggers</li>
    <li>Configure trigger conditions</li>
</ol>

<h3>Invoice Notification Triggers</h3>
<p>Configure triggers for invoice-related notifications:</p>
<ul>
    <li><strong>Invoice Created:</strong> Trigger when new invoice is created</li>
    <li><strong>Invoice Sent:</strong> Trigger when invoice is emailed to customer</li>
    <li><strong>Invoice Paid:</strong> Trigger when invoice payment is received</li>
    <li><strong>Invoice Overdue:</strong> Trigger when invoice due date passes</li>
    <li><strong>Invoice Cancelled:</strong> Trigger when invoice is cancelled</li>
    <li><strong>Invoice Reminder:</strong> Trigger for payment reminders (configurable intervals)</li>
</ul>

<h3>Payment Notification Triggers</h3>
<p>Configure triggers for payment-related notifications:</p>
<ul>
    <li><strong>Payment Received:</strong> Trigger when payment is recorded</li>
    <li><strong>Payment Reminder:</strong> Trigger for pending payment reminders</li>
    <li><strong>Payment Failed:</strong> Trigger when payment attempt fails</li>
    <li><strong>Payment Link Generated:</strong> Trigger when payment link is created</li>
    <li><strong>Payment Link Opened:</strong> Trigger when customer opens payment link</li>
    <li><strong>Payment Link Expired:</strong> Trigger when payment link expires</li>
    <li><strong>Payment Link Expiring:</strong> Trigger before payment link expires (configurable time)</li>
</ul>

<h3>Stock Alert Triggers</h3>
<p>Configure triggers for stock-related alerts:</p>
<ul>
    <li><strong>Low Stock:</strong> Trigger when item stock falls below minimum level</li>
    <li><strong>Out of Stock:</strong> Trigger when item stock reaches zero</li>
    <li><strong>Stock Adjustment:</strong> Trigger when stock adjustment is made</li>
    <li><strong>Stock Transfer:</strong> Trigger when stock is transferred between locations</li>
    <li><strong>Critical Stock:</strong> Trigger when stock falls below critical threshold</li>
</ul>

<h3>Booking Notification Triggers</h3>
<p>Configure triggers for booking-related notifications:</p>
<ul>
    <li><strong>New Booking:</strong> Trigger when new table booking is made</li>
    <li><strong>Booking Confirmed:</strong> Trigger when booking is confirmed</li>
    <li><strong>Booking Cancelled:</strong> Trigger when booking is cancelled</li>
    <li><strong>Booking Reminder:</strong> Trigger before booking time (configurable time)</li>
    <li><strong>Booking Updated:</strong> Trigger when booking details are updated</li>
</ul>

<h3>Customer Notification Triggers</h3>
<p>Configure triggers for customer-related notifications:</p>
<ul>
    <li><strong>New Customer:</strong> Trigger when new customer is added</li>
    <li><strong>Customer Updated:</strong> Trigger when customer information is updated</li>
    <li><strong>Credit Limit Exceeded:</strong> Trigger when customer exceeds credit limit</li>
    <li><strong>Customer Statement:</strong> Trigger when customer statement is generated</li>
</ul>

<h3>System Notification Triggers</h3>
<p>Configure triggers for system-related notifications:</p>
<ul>
    <li><strong>Account Update:</strong> Trigger when account information is updated</li>
    <li><strong>Password Changed:</strong> Trigger when password is changed</li>
    <li><strong>Security Alert:</strong> Trigger for security-related events</li>
    <li><strong>System Maintenance:</strong> Trigger for scheduled maintenance</li>
    <li><strong>Backup Completed:</strong> Trigger when backup is completed</li>
</ul>

<h3>Time-based Triggers</h3>
<p>Configure time-based notification triggers:</p>
<ul>
    <li><strong>Daily Reminders:</strong> Send reminders at specific times daily</li>
    <li><strong>Weekly Summaries:</strong> Send weekly summary reports</li>
    <li><strong>Monthly Reports:</strong> Send monthly reports</li>
    <li><strong>Scheduled Notifications:</strong> Schedule notifications for specific dates/times</li>
    <li><strong>Recurring Reminders:</strong> Set up recurring reminder schedules</li>
</ul>

<h3>Condition-based Triggers</h3>
<p>Configure triggers based on conditions:</p>
<ul>
    <li><strong>Threshold Triggers:</strong> Trigger when values cross thresholds (stock, balance)</li>
    <li><strong>Date-based Triggers:</strong> Trigger based on dates (due dates, expiry dates)</li>
    <li><strong>Status Triggers:</strong> Trigger when status changes to specific value</li>
    <li><strong>Amount Triggers:</strong> Trigger when amounts exceed or fall below limits</li>
    <li><strong>Combination Triggers:</strong> Trigger when multiple conditions are met</li>
</ul>

<h3>Enabling and Disabling Triggers</h3>
<p>Manage trigger activation:</p>
<ol>
    <li>Go to Settings → Notification Settings → Notification Triggers</li>
    <li>Find the trigger you want to enable/disable</li>
    <li>Toggle the enable/disable switch</li>
    <li>Save changes</li>
    <li>Triggers can be enabled/disabled individually</li>
</ol>

<h3>Trigger Conditions</h3>
<p>Configure conditions for triggers:</p>
<ul>
    <li><strong>Simple Conditions:</strong> Single condition (e.g., stock < 10)</li>
    <li><strong>Complex Conditions:</strong> Multiple conditions with AND/OR logic</li>
    <li><strong>Time Conditions:</strong> Conditions based on time (business hours, days)</li>
    <li><strong>User Conditions:</strong> Conditions based on user roles or permissions</li>
    <li><strong>Location Conditions:</strong> Conditions based on branch/location</li>
</ul>

<h3>Trigger Frequency Settings</h3>
<p>Control how often triggers fire:</p>
<ul>
    <li><strong>Immediate:</strong> Trigger immediately when condition is met</li>
    <li><strong>Once Per Day:</strong> Trigger maximum once per day</li>
    <li><strong>Once Per Week:</strong> Trigger maximum once per week</li>
    <li><strong>Custom Frequency:</strong> Set custom frequency limits</li>
    <li><strong>Throttling:</strong> Prevent trigger spam with throttling</li>
</ul>

<h3>Trigger Recipients</h3>
<p>Configure who receives notifications from triggers:</p>
<ul>
    <li><strong>Account Owner:</strong> Send to account owner</li>
    <li><strong>Specific Users:</strong> Send to selected users</li>
    <li><strong>User Roles:</strong> Send to users with specific roles</li>
    <li><strong>Customers:</strong> Send to customers (for customer-facing notifications)</li>
    <li><strong>Suppliers:</strong> Send to suppliers (for supplier-facing notifications)</li>
    <li><strong>Multiple Recipients:</strong> Send to multiple recipients</li>
</ul>

<h3>Trigger Channels</h3>
<p>Configure which channels are used for each trigger:</p>
<ul>
    <li><strong>Email:</strong> Send via email</li>
    <li><strong>SMS:</strong> Send via SMS</li>
    <li><strong>WhatsApp:</strong> Send via WhatsApp</li>
    <li><strong>In-App:</strong> Show in-app notification</li>
    <li><strong>Multiple Channels:</strong> Send via multiple channels simultaneously</li>
</ul>

<h3>Trigger Priorities</h3>
<p>Set priorities for triggers:</p>
<ul>
    <li><strong>High Priority:</strong> Critical notifications (payments, security alerts)</li>
    <li><strong>Medium Priority:</strong> Important notifications (invoices, bookings)</li>
    <li><strong>Low Priority:</strong> Informational notifications (reports, summaries)</li>
    <li><strong>Priority-based Delivery:</strong> High priority notifications sent first</li>
</ul>

<h3>Trigger Logs</h3>
<p>Monitor trigger activity:</p>
<ul>
    <li>View trigger execution history</li>
    <li>Check which triggers fired and when</li>
    <li>Review trigger conditions and results</li>
    <li>Identify failed triggers</li>
    <li>Analyze trigger frequency</li>
</ul>

<h3>Trigger Testing</h3>
<p>Test triggers before deploying:</p>
<ol>
    <li>Enable test mode for triggers</li>
    <li>Manually trigger test events</li>
    <li>Verify notifications are sent correctly</li>
    <li>Check trigger conditions are met</li>
    <li>Verify recipient and channel settings</li>
    <li>Disable test mode when satisfied</li>
</ol>

<h3>Trigger Best Practices</h3>
<ul>
    <li><strong>Enable Only Needed:</strong> Enable only triggers you actually need</li>
    <li><strong>Set Appropriate Frequency:</strong> Avoid trigger spam with frequency limits</li>
    <li><strong>Use Conditions Wisely:</strong> Set clear, specific conditions</li>
    <li><strong>Test Thoroughly:</strong> Test triggers before enabling</li>
    <li><strong>Monitor Regularly:</strong> Review trigger logs regularly</li>
    <li><strong>Optimize Performance:</strong> Disable unused triggers to improve performance</li>
    <li><strong>Respect Quiet Hours:</strong> Configure quiet hours for non-urgent triggers</li>
</ul>

<h3>Troubleshooting Triggers</h3>
<p>Common trigger issues and solutions:</p>
<ul>
    <li><strong>Trigger Not Firing:</strong> Check trigger is enabled and conditions are met</li>
    <li><strong>Too Many Notifications:</strong> Adjust frequency settings or conditions</li>
    <li><strong>Wrong Recipients:</strong> Verify recipient settings</li>
    <li><strong>Wrong Channel:</strong> Check channel configuration</li>
    <li><strong>Condition Not Met:</strong> Review trigger conditions</li>
    <li><strong>Performance Issues:</strong> Disable unnecessary triggers</li>
</ul>

<p>Properly configured notification triggers ensure you receive timely and relevant notifications about important business events. Configure triggers according to your business needs and preferences.</p>

