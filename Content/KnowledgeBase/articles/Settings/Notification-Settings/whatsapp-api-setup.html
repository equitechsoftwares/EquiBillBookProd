<h2>WhatsApp API Setup</h2>
<p>WhatsApp API setup in EquiBillBook allows you to integrate WhatsApp Business API to send and receive WhatsApp messages for notifications and customer communications. This guide explains how to set up WhatsApp API integration effectively.</p>

<h3>What is WhatsApp API Setup?</h3>
<p>WhatsApp API setup involves configuring WhatsApp Business API integration that enables EquiBillBook to send WhatsApp messages for notifications, invoices, bookings, and other communications. This requires a WhatsApp Business Account and API access through an approved provider.</p>

<h3>Accessing WhatsApp API Setup</h3>
<p>To access WhatsApp API setup:</p>
<ol>
    <li>Navigate to <strong>Settings</strong> → <strong>Notification Settings</strong> → <strong>WhatsApp API Setup</strong></li>
    <li>View current WhatsApp API configuration</li>
    <li>Configure or update WhatsApp API settings</li>
    <li>Test WhatsApp message delivery</li>
</ol>

<h3>Prerequisites for WhatsApp API</h3>
<p>Before setting up WhatsApp API, you need:</p>
<ul>
    <li><strong>WhatsApp Business Account:</strong> Verified business account</li>
    <li><strong>Business Verification:</strong> Approved business profile</li>
    <li><strong>Phone Number:</strong> Phone number verified with WhatsApp</li>
    <li><strong>API Provider:</strong> Access to WhatsApp Business API through provider</li>
    <li><strong>Compliance:</strong> Compliance with WhatsApp Business Policy</li>
</ul>

<h3>Supported WhatsApp API Providers</h3>
<p>EquiBillBook supports various WhatsApp API providers:</p>
<ul>
    <li><strong>Twilio:</strong> Cloud communications with WhatsApp Business API</li>
    <li><strong>MessageBird:</strong> Global messaging platform with WhatsApp</li>
    <li><strong>360dialog:</strong> WhatsApp Business API provider</li>
    <li><strong>ChatAPI:</strong> WhatsApp Business API service</li>
    <li><strong>Custom Provider:</strong> Configure your own WhatsApp API integration</li>
</ul>

<h3>Twilio WhatsApp API Setup</h3>
<p>To configure Twilio for WhatsApp:</p>
<ol>
    <li>Create Twilio account</li>
    <li>Set up WhatsApp Sandbox or get approved WhatsApp number</li>
    <li>Get Account SID and Auth Token</li>
    <li>In EquiBillBook, select Twilio as WhatsApp provider</li>
    <li>Enter Account SID</li>
    <li>Enter Auth Token</li>
    <li>Enter WhatsApp phone number ID</li>
    <li>Configure webhook URL</li>
    <li>Test WhatsApp message delivery</li>
    <li>Save configuration</li>
</ol>

<h3>MessageBird WhatsApp API Setup</h3>
<p>To configure MessageBird for WhatsApp:</p>
<ol>
    <li>Create MessageBird account</li>
    <li>Set up WhatsApp channel</li>
    <li>Get API key</li>
    <li>In EquiBillBook, select MessageBird as provider</li>
    <li>Enter API key</li>
    <li>Enter WhatsApp channel ID</li>
    <li>Configure webhook settings</li>
    <li>Test WhatsApp message delivery</li>
    <li>Save configuration</li>
</ol>

<h3>360dialog WhatsApp API Setup</h3>
<p>To configure 360dialog:</p>
<ol>
    <li>Create 360dialog account</li>
    <li>Get API key</li>
    <li>In EquiBillBook, select 360dialog as provider</li>
    <li>Enter API key</li>
    <li>Enter WhatsApp Business Account ID</li>
    <li>Configure webhook URL</li>
    <li>Test WhatsApp message delivery</li>
    <li>Save configuration</li>
</ol>

<h3>WhatsApp API Configuration Settings</h3>
<p>Common configuration settings:</p>
<ul>
    <li><strong>API Provider:</strong> Select WhatsApp API provider</li>
    <li><strong>API Key/Token:</strong> Authentication key from provider</li>
    <li><strong>API Secret:</strong> Secret key (if required)</li>
    <li><strong>Phone Number ID:</strong> WhatsApp Business phone number ID</li>
    <li><strong>Business Account ID:</strong> WhatsApp Business account identifier</li>
    <li><strong>Webhook URL:</strong> URL for receiving message status updates</li>
    <li><strong>Webhook Secret:</strong> Secret for webhook verification</li>
    <li><strong>Test Mode:</strong> Enable test mode for testing</li>
</ul>

<h3>Webhook Configuration</h3>
<p>Configure webhooks for WhatsApp API:</p>
<ul>
    <li><strong>Webhook URL:</strong> Public URL to receive webhook events</li>
    <li><strong>Webhook Secret:</strong> Secret for verifying webhook requests</li>
    <li><strong>Webhook Events:</strong> Select events to receive (message status, delivery, read)</li>
    <li><strong>Webhook Verification:</strong> Verify webhook with provider</li>
    <li><strong>SSL Required:</strong> Webhook URL must use HTTPS</li>
</ul>

<h3>WhatsApp Business Account Setup</h3>
<p>Set up WhatsApp Business Account:</p>
<ol>
    <li>Create WhatsApp Business Account</li>
    <li>Complete business verification</li>
    <li>Verify phone number</li>
    <li>Set up business profile</li>
    <li>Get API access through provider</li>
    <li>Link phone number to API</li>
</ol>

<h3>WhatsApp Template Messages</h3>
<p>Understand WhatsApp template messages:</p>
<ul>
    <li><strong>Template Approval:</strong> Business messages must use approved templates</li>
    <li><strong>Template Categories:</strong> UTILITY, MARKETING, AUTHENTICATION</li>
    <li><strong>Template Variables:</strong> Use variables for dynamic content</li>
    <li><strong>Approval Time:</strong> Template approval takes 24-48 hours</li>
    <li><strong>Session Messages:</strong> Customer-initiated conversations allow free-form messages</li>
</ul>

<h3>WhatsApp API Testing</h3>
<p>Test WhatsApp API configuration:</p>
<ol>
    <li>Go to WhatsApp API Setup</li>
    <li>Click <strong>Test WhatsApp</strong> button</li>
    <li>Enter test phone number (with country code)</li>
    <li>Enter test message</li>
    <li>Send test message</li>
    <li>Verify message is received</li>
    <li>Check for any error messages</li>
    <li>Fix issues if test fails</li>
</ol>

<h3>WhatsApp API Credentials</h3>
<p>Important notes about credentials:</p>
<ul>
    <li><strong>Keep Secure:</strong> Protect API keys and tokens</li>
    <li><strong>Don't Share:</strong> Never share API credentials</li>
    <li><strong>Regular Updates:</strong> Update credentials if compromised</li>
    <li><strong>Access Control:</strong> Limit access to API settings</li>
    <li><strong>Backup:</strong> Keep backup of credentials securely</li>
</ul>

<h3>WhatsApp API Costs</h3>
<p>Understand WhatsApp API costs:</p>
<ul>
    <li><strong>Conversation-based Pricing:</strong> WhatsApp uses conversation-based model</li>
    <li><strong>Template Messages:</strong> Business-initiated template messages are charged</li>
    <li><strong>Session Messages:</strong> Customer-initiated conversations have different pricing</li>
    <li><strong>Rate Limits:</strong> Daily sending limits apply</li>
    <li><strong>Cost Monitoring:</strong> Monitor messaging costs</li>
</ul>

<h3>WhatsApp API Rate Limits</h3>
<p>Be aware of rate limits:</p>
<ul>
    <li><strong>Daily Limits:</strong> Maximum messages per day</li>
    <li><strong>Rate Limits:</strong> Messages per second/minute</li>
    <li><strong>Template Limits:</strong> Limits for template message categories</li>
    <li><strong>Compliance:</strong> Exceeding limits may result in restrictions</li>
</ul>

<h3>WhatsApp API Logs</h3>
<p>Monitor WhatsApp API activity:</p>
<ul>
    <li>View message sending logs</li>
    <li>Check delivery status</li>
    <li>Review failed message attempts</li>
    <li>Monitor API errors</li>
    <li>Track message costs</li>
    <li>Analyze delivery rates</li>
</ul>

<h3>Troubleshooting WhatsApp API</h3>
<p>Common issues and solutions:</p>
<ul>
    <li><strong>Connection Failed:</strong> Check API URL and credentials</li>
    <li><strong>Authentication Failed:</strong> Verify API key/token is correct</li>
    <li><strong>Messages Not Sending:</strong> Check phone number ID and template approval</li>
    <li><strong>Invalid Phone Number:</strong> Ensure phone numbers include country code</li>
    <li><strong>Template Not Approved:</strong> Wait for template approval or use session messages</li>
    <li><strong>Webhook Issues:</strong> Verify webhook URL and SSL certificate</li>
    <li><strong>Rate Limits:</strong> Respect rate limits to avoid restrictions</li>
</ul>

<h3>WhatsApp Compliance</h3>
<p>Important compliance requirements:</p>
<ul>
    <li><strong>Opt-in Required:</strong> Customers must opt-in to receive messages</li>
    <li><strong>Opt-out Mechanism:</strong> Provide easy opt-out (reply STOP)</li>
    <li><strong>WhatsApp Business Policy:</strong> Comply with WhatsApp Business Policy</li>
    <li><strong>Data Protection:</strong> Protect customer data</li>
    <li><strong>Content Guidelines:</strong> Follow WhatsApp content guidelines</li>
    <li><strong>Spam Prevention:</strong> Avoid spammy messages</li>
</ul>

<h3>WhatsApp API Best Practices</h3>
<ul>
    <li><strong>Choose Reliable Provider:</strong> Select reputable WhatsApp API provider</li>
    <li><strong>Test Thoroughly:</strong> Test configuration before deploying</li>
    <li><strong>Monitor Costs:</strong> Track messaging usage and costs</li>
    <li><strong>Keep Credentials Secure:</strong> Protect API keys</li>
    <li><strong>Monitor Delivery:</strong> Track delivery rates</li>
    <li><strong>Handle Errors:</strong> Implement proper error handling</li>
    <li><strong>Respect Limits:</strong> Stay within rate limits</li>
    <li><strong>Get Consent:</strong> Always get customer consent</li>
</ul>

<h3>WhatsApp API Backup</h3>
<p>Consider backup configuration:</p>
<ul>
    <li>Set up secondary WhatsApp API provider</li>
    <li>Automatically switch to backup if primary fails</li>
    <li>Ensure backup has same capabilities</li>
    <li>Test backup configuration</li>
</ul>

<p>Properly configured WhatsApp API enables reliable WhatsApp messaging for notifications and customer communications. Choose a reputable provider, configure settings correctly, ensure compliance, and test thoroughly before deploying.</p>

