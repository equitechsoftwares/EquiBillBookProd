<h2>Stock Calculation Issues</h2>
<p>This guide helps you troubleshoot problems with stock calculations in EquiBillBook, including incorrect stock levels, stock valuation issues, and inventory discrepancies.</p>

<h3>Common Stock Calculation Problems</h3>

<h4>1. Incorrect Stock Levels</h4>
<p>If stock quantities are showing incorrectly:</p>
<ul>
    <li><strong>Check Stock Tracking:</strong> Verify stock tracking is enabled for the item</li>
    <li><strong>Review Transactions:</strong> Check all sales, purchases, and adjustments for the item</li>
    <li><strong>Opening Stock:</strong> Verify opening stock was entered correctly</li>
    <li><strong>Pending Orders:</strong> Check if pending sales orders or purchase orders are affecting stock</li>
    <li><strong>Stock Reservations:</strong> Review stock reservations from orders</li>
    <li><strong>Multi-location Stock:</strong> If using multiple locations, check stock per location</li>
</ul>

<h4>2. Negative Stock Appearing</h4>
<p>If items show negative stock:</p>
<ul>
    <li><strong>Allow Negative Stock:</strong> Check if negative stock is allowed in settings</li>
    <li><strong>Review Sales:</strong> Verify sales weren't made when stock was insufficient</li>
    <li><strong>Check Adjustments:</strong> Review stock adjustments that may have caused negative stock</li>
    <li><strong>Opening Stock:</strong> Verify opening stock was entered correctly</li>
    <li><strong>Purchase Entries:</strong> Ensure purchase bills are recorded before sales</li>
    <li><strong>Stock Correction:</strong> Create stock adjustment to correct negative stock</li>
</ul>

<h4>3. Stock Not Updating After Transaction</h4>
<p>If stock doesn't update after sales or purchases:</p>
<ul>
    <li><strong>Transaction Status:</strong> Verify transaction is confirmed/posted (not draft)</li>
    <li><strong>Stock Tracking Enabled:</strong> Ensure stock tracking is enabled for the item</li>
    <li><strong>Item Type:</strong> Verify item is set as "Product" not "Service"</li>
    <li><strong>Refresh Page:</strong> Refresh the stock page to see updated values</li>
    <li><strong>Check Permissions:</strong> Verify you have permission to view updated stock</li>
    <li><strong>System Sync:</strong> Wait a few moments for system to sync stock calculations</li>
</ul>

<h4>4. Stock Valuation Issues</h4>
<p>If stock valuation is incorrect:</p>
<ul>
    <li><strong>Valuation Method:</strong> Check stock valuation method (FIFO, LIFO, Average Cost)</li>
    <li><strong>Purchase Prices:</strong> Verify purchase prices are entered correctly</li>
    <li><strong>Cost Calculation:</strong> Understand how cost is calculated based on valuation method</li>
    <li><strong>Opening Stock Value:</strong> Verify opening stock value is correct</li>
    <li><strong>Price Changes:</strong> Check if purchase prices changed after transactions</li>
    <li><strong>Multi-location:</strong> If using multiple locations, check valuation per location</li>
</ul>

<h4>5. Stock Movement Not Reflected</h4>
<p>If stock movements aren't showing in history:</p>
<ul>
    <li><strong>Transaction Dates:</strong> Verify transaction dates are within the selected date range</li>
    <li><strong>Movement Type:</strong> Check if movement type filter is excluding transactions</li>
    <li><strong>Location Filter:</strong> Verify correct location is selected</li>
    <li><strong>Item Filter:</strong> Check if item filter is correctly applied</li>
    <li><strong>Transaction Status:</strong> Ensure transactions are confirmed, not draft</li>
</ul>

<h3>Stock Tracking Configuration Issues</h3>

<h4>1. Stock Tracking Not Enabled</h4>
<p>If stock tracking isn't working:</p>
<ul>
    <li><strong>Item Level:</strong> Check if stock tracking is enabled for individual items</li>
    <li><strong>Module Level:</strong> Verify stock tracking is enabled in Item Settings</li>
    <li><strong>Item Type:</strong> Ensure items are set as "Product" type, not "Service"</li>
    <li><strong>Category Settings:</strong> Check if category-level settings affect stock tracking</li>
    <li><strong>Global Settings:</strong> Review global stock tracking settings</li>
</ul>

<h4>2. Stock Settings Configuration</h4>
<p>Verify these stock settings:</p>
<ul>
    <li><strong>Stock Tracking:</strong> Settings → Item Settings → Stock Tracking</li>
    <li><strong>Allow Negative Stock:</strong> Settings → Item Settings → Allow Negative Stock</li>
    <li><strong>Stock Valuation Method:</strong> Settings → Item Settings → Valuation Method</li>
    <li><strong>Low Stock Alerts:</strong> Settings → Item Settings → Low Stock Alerts</li>
    <li><strong>Multi-location Stock:</strong> Settings → Location Settings → Multi-location Stock</li>
</ul>

<h3>Transaction-Related Stock Issues</h3>

<h4>1. Sales Invoice Stock Impact</h4>
<p>If sales aren't reducing stock:</p>
<ul>
    <li><strong>Invoice Status:</strong> Verify invoice is "Confirmed" not "Draft"</li>
    <li><strong>Stock Reservation:</strong> Check if stock was reserved from sales order</li>
    <li><strong>Item Configuration:</strong> Verify item has stock tracking enabled</li>
    <li><strong>Return Processing:</strong> Check if sales returns are affecting stock</li>
    <li><strong>Invoice Cancellation:</strong> Verify invoice wasn't cancelled (which restores stock)</li>
</ul>

<h4>2. Purchase Bill Stock Impact</h4>
<p>If purchases aren't increasing stock:</p>
<ul>
    <li><strong>Bill Status:</strong> Verify purchase bill is "Confirmed" not "Draft"</li>
    <li><strong>Item Type:</strong> Ensure items are "Product" type, not "Service"</li>
    <li><strong>Stock Tracking:</strong> Check stock tracking is enabled for items</li>
    <li><strong>Purchase Returns:</strong> Verify purchase returns aren't reducing stock incorrectly</li>
</ul>

<h4>3. Stock Adjustment Issues</h4>
<p>If stock adjustments aren't working:</p>
<ul>
    <li><strong>Adjustment Status:</strong> Verify adjustment is approved/confirmed</li>
    <li><strong>Adjustment Type:</strong> Check if increase/decrease is correctly selected</li>
    <li><strong>Quantity Entered:</strong> Verify adjustment quantity is correct</li>
    <li><strong>Item Selection:</strong> Ensure correct item is selected for adjustment</li>
    <li><strong>Location:</strong> If multi-location, verify correct location is selected</li>
</ul>

<h4>4. Stock Transfer Issues</h4>
<p>If stock transfers aren't working:</p>
<ul>
    <li><strong>Transfer Status:</strong> Verify transfer is completed/confirmed</li>
    <li><strong>Source Location:</strong> Check source location has sufficient stock</li>
    <li><strong>Destination Location:</strong> Verify destination location is correct</li>
    <li><strong>Transfer Quantity:</strong> Ensure transfer quantity is correct</li>
    <li><strong>Multi-location Enabled:</strong> Verify multi-location stock is enabled</li>
</ul>

<h3>Stock Valuation Method Issues</h3>

<h4>1. FIFO (First In, First Out) Issues</h4>
<ul>
    <li><strong>Purchase Order:</strong> Verify purchases are recorded in correct order</li>
    <li><strong>Cost Calculation:</strong> Understand FIFO uses oldest stock first</li>
    <li><strong>Price Changes:</strong> Check if purchase prices changed incorrectly</li>
</ul>

<h4>2. LIFO (Last In, First Out) Issues</h4>
<ul>
    <li><strong>Purchase Order:</strong> Verify purchases are recorded correctly</li>
    <li><strong>Cost Calculation:</strong> Understand LIFO uses newest stock first</li>
    <li><strong>Price Consistency:</strong> Check purchase prices are consistent</li>
</ul>

<h4>3. Average Cost Issues</h4>
<ul>
    <li><strong>Average Calculation:</strong> Verify average cost is calculated correctly</li>
    <li><strong>Purchase Prices:</strong> Check all purchase prices are included in average</li>
    <li><strong>Opening Stock:</strong> Verify opening stock value is included</li>
    <li><strong>Price Updates:</strong> Understand how new purchases affect average cost</li>
</ul>

<h3>Multi-Location Stock Issues</h3>

<h4>1. Location Stock Not Showing</h4>
<ul>
    <li><strong>Multi-location Enabled:</strong> Verify multi-location stock is enabled</li>
    <li><strong>Location Selection:</strong> Check correct location is selected</li>
    <li><strong>Location Permissions:</strong> Verify user has access to view location stock</li>
    <li><strong>Location Activation:</strong> Ensure location is active</li>
</ul>

<h4>2. Stock Transfer Between Locations</h4>
<ul>
    <li><strong>Transfer Approval:</strong> Verify transfers are approved</li>
    <li><strong>Source Stock:</strong> Check source location has sufficient stock</li>
    <li><strong>Transfer Completion:</strong> Ensure transfer is marked as completed</li>
    <li><strong>Location Settings:</strong> Verify both locations are properly configured</li>
</ul>

<h3>Stock Reports and Reconciliation</h3>

<h4>1. Stock Reports Not Matching</h4>
<p>If stock reports don't match actual stock:</p>
<ul>
    <li><strong>Report Date:</strong> Verify report date matches current date</li>
    <li><strong>Location Filter:</strong> Check location filter is correct</li>
    <li><strong>Item Filter:</strong> Verify item filters are applied correctly</li>
    <li><strong>Pending Transactions:</strong> Check if pending transactions are included</li>
    <li><strong>Physical Count:</strong> Compare with physical stock count</li>
</ul>

<h4>2. Stock Reconciliation</h4>
<p>To reconcile stock discrepancies:</p>
<ol>
    <li><strong>Physical Count:</strong> Perform physical stock count</li>
    <li><strong>Compare with System:</strong> Compare physical count with system stock</li>
    <li><strong>Identify Differences:</strong> Note all discrepancies</li>
    <li><strong>Create Adjustments:</strong> Create stock adjustments for differences</li>
    <li><strong>Document Reasons:</strong> Document reasons for adjustments</li>
    <li><strong>Review Regularly:</strong> Perform regular stock reconciliation</li>
</ol>

<h3>Best Practices</h3>
<ul>
    <li><strong>Regular Reconciliation:</strong> Perform regular stock reconciliation</li>
    <li><strong>Monitor Stock Movements:</strong> Regularly review stock movement reports</li>
    <li><strong>Verify Transactions:</strong> Verify all transactions are recorded correctly</li>
    <li><strong>Check Settings:</strong> Regularly review stock tracking settings</li>
    <li><strong>Document Adjustments:</strong> Always document reasons for stock adjustments</li>
    <li><strong>Train Users:</strong> Ensure all users understand stock tracking</li>
</ul>

<h3>Still Having Issues?</h3>
<p>If stock calculation problems persist:</p>
<ol>
    <li><strong>Review Stock History:</strong> Check stock movement history for the item</li>
    <li><strong>Verify Transactions:</strong> Review all related transactions</li>
    <li><strong>Check Settings:</strong> Verify stock tracking and valuation settings</li>
    <li><strong>Compare Reports:</strong> Compare different stock reports</li>
    <li><strong>Contact Support:</strong> Provide:
        <ul>
            <li>Item code/name with stock issues</li>
            <li>Expected stock vs actual stock</li>
            <li>Recent transactions for the item</li>
            <li>Stock valuation method being used</li>
            <li>Screenshots of stock reports</li>
            <li>Steps to reproduce the issue</li>
        </ul>
    </li>
</ol>

<p>Most stock calculation issues can be resolved by verifying stock tracking settings, transaction statuses, and stock movements. If problems continue, contact support for assistance.</p>

